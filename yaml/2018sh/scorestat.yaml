
# statistics of variables, coefficents, scores
scorestat:
  TODO: FALSE
  RUN: "MILESTONE"  # "AUTO", "PILOT", "MILESTONE", "AGILE", "SCHOOL"
  <<: *kPilotRun
  <<: *kDDLStatisticsTable
  info:
    district:
      table: *kTableDistrict
      suffix: *kSuffixRaw
    school:
      table: *kTableSchool
      suffix: *kSuffixJoin
    attribute:
      table: *kTableAttrQuestionAttr
      suffix: ""

  table:

    # statistics

    -
      TODO: FALSE
      input:
        table: *kSubjectCN
        suffix: *kSuffixTransform
      output:
        table: *kSubjectCN
        suffix: *kSuffixStat
      process:
        table: *kTableAttrScoreStat
        suffix: ""
      choice:
        table: *kTableAttrSurveyPoint
        suffix: ""
        column:
          code: *kColumnQuestionCode
          key: *kColumnQuestionChoice
      point:
        table: *kTableAttrSubjectPoint
        suffix: ""
        column:
          code: *kColumnQuestionCode
          type: *kColumnQuestionType
          value: *kColumnValue
          subject: *kSubject


    -
      TODO: FALSE
      input:
        table: *kSubjectMA
        suffix: *kSuffixTransform
      output:
        table: *kSubjectMA
        suffix: *kSuffixStat
      process:
        table: *kTableAttrScoreStat
        suffix: ""
      choice:
        table: *kTableAttrSurveyPoint
        suffix: ""
        column:
          code: *kColumnQuestionCode
          key: *kColumnQuestionChoice
      point:
        table: *kTableAttrSubjectPoint
        suffix: ""
        column:
          code: *kColumnQuestionCode
          type: *kColumnQuestionType
          value: *kColumnValue
          subject: *kSubject

    -
      TODO: FALSE
      input:
        table: *kSubjectEN
        suffix: *kSuffixTransform
      output:
        table: *kSubjectEN
        suffix: *kSuffixStat
      process:
        table: *kTableAttrScoreStat
        suffix: ""
      choice:
        table: *kTableAttrSurveyPoint
        suffix: ""
        column:
          code: *kColumnQuestionCode
          key: *kColumnQuestionChoice
      point:
        table: *kTableAttrSubjectPoint
        suffix: ""
        column:
          code: *kColumnQuestionCode
          type: *kColumnQuestionType
          value: *kColumnValue
          subject: *kSubject

    -
      TODO: TRUE
      input:
        table: *kSubjectSC
        suffix: *kSuffixTransform
      output:
        table: *kSubjectSC
        suffix: *kSuffixStat
      process:
        table: *kTableAttrScoreStat
        suffix: ""
      choice:
        table: *kTableAttrSurveyPoint
        suffix: ""
        column:
          code: *kColumnQuestionCode
          key: *kColumnQuestionChoice
      point:
        table: *kTableAttrSubjectPoint
        suffix: ""
        column:
          code: *kColumnQuestionCode
          type: *kColumnQuestionType
          value: *kColumnValue
          subject: *kSubject

    -
      TODO: FALSE
      input:
        table: *kSubjectAR
        suffix: *kSuffixTransform
      output:
        table: *kSubjectAR
        suffix: *kSuffixStat
      process:
        table: *kTableAttrScoreStat
        suffix: ""
      choice:
        table: *kTableAttrSurveyPoint
        suffix: ""
        column:
          code: *kColumnQuestionCode
          key: *kColumnQuestionChoice
      point:
        table: *kTableAttrSubjectPoint
        suffix: ""
        column:
          code: *kColumnQuestionCode
          type: *kColumnQuestionType
          value: *kColumnValue
          subject: *kSubject
