---
# global definition 
# used as gloabal variable for R script 
# copy to score.yaml, survey.yaml, stat.yaml as the global reference

global:
  stat: &stat
    var: &stat_var
      assesment: &assesment
        - "评测项目"
      grade: &grade
        - "年级"
      subject: &subject
        - "学科"
      tier: &tier
        - "统计层级"
      scope: &scope
        - "统计范围"
      perspective: &perspective
        - "统计视角"
      sample: &sample
        - "统计样本"
      domain: &domain
        - "领域"
      dimention: &dimention
        - "维度"
      topic: &topic
        - "主题"
      variable: &variable
        - "变量"
      statistics: &statistics
        - "统计"
      key: &key
        - "键"
      value: &value
        - "值"
      weight: &weight
        - "加权"

      alias: &alias
        - "别名"
      label: &label
        - "标注值"
      school.hq: &school_hq
        - "总校"
      school.camp: &school_camp
        - "校区"

    def: &stat_def
      assesment: &def_assesment
        - "2016年度上海市中小学学业质量绿色指标"
      grade: &def_grade
        - "四年级"
      subject: 
        all: &subject_all
          - "学业成绩"
        cn: &subject_cn
          - "语文"
        ma: &subject_ma
          - "数学"
        en: &subject_en
          - "英语"
        sc: &subject_sc
          - "科学"
        st: &survey_st
          - "学生问卷"
        pa: &survey_pa
          - "家长问卷"
        te: &survey_te
          - "教师问卷"
        pr: &survey_pr
          - "校长问卷"
        cnt: &participant_cnt
          - "参加者"
      tier: &tier_def
        province: &tier_province
          - "省市"
        city: &tier_city
          - "地市"
        county: &tier_county
          - "区县"
        school: &tier_school
          - "学校"
        topic: &tier_topic
          - *tier_province
          - *tier_county
          - *tier_school #ignore school tier to save test time
      scope: # one of the record group in the tier 
        province: &scope_province
          - "本市"
        county: &scope_county
          - "本区"
        school: &scope_school
          - "本校"

      perspective: 
        total: &per_total
          - "总体"
        urbannization: &per_urbannization
          - "城区类型"
        schoolfund: &per_schoolfund
          - "办学"
        academicsystem: &per_academicsystem
          - "学制"
        xinyouzhi: &per_xinyouzhi
          - "新优质学校"
        huji: &per_huji
          - "户籍"
        gender: &per_gender
          - "性别"

        student_all: &perspective_student_all
          -
            tier: *tier_province
            perspective:
              - *per_total
              - *per_urbannization
              - *per_schoolfund
              - *per_academicsystem
              - *per_xinyouzhi
              - *per_huji
              - *per_gender
          -
            tier: *tier_county
            perspective:
              - *per_total
              - *per_schoolfund
              - *per_academicsystem
              - *per_xinyouzhi
              - *per_huji
              - *per_gender
          -
            tier: *tier_school
            perspective:
              - *per_total

        student_score: &perspective_student_score
          -
            tier: *tier_province
            perspective:
              - *per_total
              - *per_urbannization
              - *per_schoolfund
              - *per_academicsystem
              - *per_xinyouzhi
              - *per_huji
              - *per_gender
          -
            tier: *tier_county
            perspective:
              - *per_total
              - *per_schoolfund
              - *per_academicsystem
              - *per_xinyouzhi
              - *per_huji
              - *per_gender
          -
            tier: *tier_school
            perspective:
              - *per_total

        student_survey: &perspective_student_survey
          -
            tier: *tier_province
            perspective:
              - *per_total
              - *per_urbannization
              - *per_schoolfund
              - *per_academicsystem
              - *per_xinyouzhi
              - *per_huji
              - *per_gender
          -
            tier: *tier_county
            perspective:
              - *per_total
              - *per_schoolfund
              - *per_academicsystem
              - *per_xinyouzhi
              - *per_huji
              - *per_gender
          -
            tier: *tier_school
            perspective:
              - *per_total
              
        school: &perspective_school
          - 
            tier: *tier_province
            perspective:
              - *per_total
              - *per_urbannization
              - *per_schoolfund
              - *per_academicsystem
              - *per_xinyouzhi
          - 
            tier: *tier_county
            perspective:
              - *per_total
              - *per_schoolfund
              - *per_academicsystem
              - *per_xinyouzhi
          - 
            tier: *tier_school
            perspective:
              - *per_total
              
        total_only: &perspective_total_only
          - 
            tier: *tier_province
            perspective:
              - *per_total
          - 
            tier: *tier_county
            perspective:
              - *per_total
          - 
            tier: *tier_school
            perspective:
              - *per_total
        province_total_only: &perspective_province_total_only
          - 
            tier: *tier_province
            perspective:
              - *per_total

      sample: # one of the record group in perspective, or scope while perspective is total
        province: &sample_province
          - "上海市"
      
      domain: 
        participant: &dom_participant
          - "参加者"
        score:
          total: &dom_score_total
            - "成绩"
          thinking: &dom_thinking
            - "思维"
          balance: &dom_score_balance
            - "均衡"
          point_rate: &dom_point_rate
            - "得分率"

        cn: &domain_cn
          total: &dom_cn_total
            - *dom_score_total
          jilei: &dom_cn_jilei
            - "积累"
          reading: &dom_cn_reading
            - "阅读"
          writing: &dom_cn_writing
            - "习作"
          question: &dom_cn_question
            - "题目"

        ma: &domain_ma
          total: &dom_ma_total
            - *dom_score_total
          calculation: &dom_ma_calculation
            - "数与运算"
          algebra: &dom_ma_algebra
            - "方程与代数"
          geometry: &dom_ma_geometry
            - "图形与几何"
          analysis: &dom_ma_analysis
            - "函数与分析"
          statistics: &dom_ma_statistics
            - "统计与概率"
          question: &dom_ma_question
            - "题目"
        st: &domain_st
          info: &dom_st_info
            - "基本情况"
          teacher: &dom_st_teacher
            - "师生关系"
          learning: &dom_st_learning
            - "学习生活"
          teaching: &dom_st_teaching
            - "教学方式"
          morality: &dom_st_morality
            - "品德行为"
          healthy: &dom_st_healthy
            - "身心健康"
          
        te: &domain_te
          info: &dom_te_info
            - "基本情况"
          feelings: &dom_te_feelings
            - "职业感受"
          teaching: &dom_te_teaching
            - "教师教学"
          career: &dom_te_career
            - "专业发展"
          course: &dom_te_course
            - "学校课程"
        pr: &domain_pr
          info: &dom_pr_info
            - "基本情况"
          daily: &dom_pr_daily
            - "日常工作"
          development: &dom_pr_development
            - "办学发展"

        pa:  &domain_pa
          info: &dom_pa_info
            - "基本情况"
          relationship: &dom_pa_relationship
            - "亲子关系"
          education: &dom_pa_education
            - "家庭教育"

      dimention: 
        participant: &dim_participant
          - *dom_participant
        score:
          score: &dim_score_total
            - "成绩"
          level: &dim_level_total
            - "等级"
          hinking: &dim_thinking
            - *dom_thinking
          student_balance: &dim_individual_balance
            - "个体均衡"
          school_balance: &dim_school_balance
            - "学校均衡"
          county_balance: &dim_coumnty_balance
            - "区县均衡"
          perspective_point_rate: &dim_per_point_rate
            - "群体得分率"
          level_point_rate: &dim_level_point_rate
            - "等级得分率"
          answer: &dim_answer
            - "作答"

        cn: &dimention_cn
          score: &dim_cn_score
            - *dim_score_total
          level: &dim_cn_level
            - *dim_level_total
          question: &dim_cn_question
            - *dom_cn_question

          jilei: &dim_cn_jilei
            - "积累"
          reading: &dim_cn_reading
            - "阅读"
          writing: &dim_cn_writing
            - "习作"

          pronunce: &dim_cn_pronunce
            - "读准字音"
          write: &dim_cn_write
            - "认清字形"
          understand: &dim_cn_understand
            - "理解词义"
          poetry: &dim_cn_poetry
            - "积累教材中的古诗文"
          extract: &dim_cn_extract
            - "提取信息"
          explain: &dim_cd_explain
            - "形成解释"
          perceive: &dim_cn_perceive
            - "整体感知"
          solve: &dim_cn_solve
            - "解决问题"
          material: &dim_cn_material
            - "选择材料"
          architect: &dim_cn_architect
            - "组织材料"
          express: &dim_cn_express
            - "语言表达"
          punctuation: &dim_cn_punmctuation
            - "书写与标点"

        ma: &dimention_ma
          score: &dim_ma_score
            - *dim_score_total
          level: &dim_ma_level
            - *dim_level_total
          question: &dim_ma_question
            - *dom_ma_question
          number: &dim_ma_number
            - "数与代数"
          space: &dim_ma_space
            - "图形与几何"
          statistics: &dim_ma_statistics
            - "统计与概率"
          concept: &dim_ma_concept
            - "数学理解"
          skill: &dim_ma_skill
            - "知识技能"
          apply: &dim_ma_apply
            - "规则运用"
          problem: &dim_ma_problem
            - "问题解决"

        st: &dimention_st
          family: &dim_st_family
            - "家庭背景"
          live: &dim_st_live
            - "生活学习"
          burden: &dim_st_burden
            - "学业负担" 
          teacher: &dim_st_teacher
            - *dom_st_teacher
          fair: &dim_st_fair
            - "教师公平"
          respect: &dim_st_respect
            - "教师尊重"
          trust: &dim_st_trust
            - "教师信任"
          driving: &dim_st_driving
            - "学习动力"
          pressure: &dim_st_pressure
            - "学习压力"
          motivation: &dim_st_motivation
            - "学习动机"
          identity: &dim_st_identity
            - "学校认同"
          confidence: &dim_st_confidence
            - "学习自信"
          method: &dim_st_method
            - "学习方法"
          teaching: &dim_st_teaching
            - *dom_st_teaching
          yincaishijiao: &dim_st_yincaishijiao
            - "因材施教"
          hudongjiaoxue: &dim_st_hudongjiaoxue
            - "互动教学"
          gulitanjiu: &dim_st_gulitanjiu
            - "鼓励探究"
          morality: &dim_st_morality
            - *dom_st_morality
          respect_others: &dim_st_respect_others
            - "尊重他人"
          integrity: &dim_st_integrity
            - "诚信"
          responsibility: &dim_st_responsibility
            - "社会责任 "
          physique: &dim_st_physique
            - "体质健康"
          psychological: &dim_st_psychological
            - "心理健康"
          renjimingan: &dim_st_renjimingan
            - "人际敏感"
          renjiguanxi: &dim_st_renjiguanxi
            - "人际关系"
          self_respect: &dim_st_self_respect
            - "自尊"
        
        te: &dimention_te
          info: &dim_te_info
            - *dom_te_info
          feelings: &dim_te_feelings
            -  "工作感受"
          philosophy: &dim_te_philosophy
            - "教学观念"
          method: &dim_te_method
            - "教学方法"
          activity:  &dim_te_activity
            - "专业活动"
          requirement: &dim_te_requirement
            - "发展需求"
          difficulty: &dim_te_difficulty
            - "发展困难"
          course: &dim_te_course
            - "校长课程领导力"
          development: &dim_te_development
            - "课程建设"
          management: &dim_te_management
            - "课程管理"
          implement: &dim_te_implement
            - "课程实施"
          evaluation: &dim_te_evaluation
            - "课程评价"

        pr: &dimmention_pr
          info: &dim_pr_info
            - *dom_pr_info
          daily: &dim_pr_daily
            - *dom_pr_daily
          challenge: &dim_pr_challenge
            - "发展困难"
          performance: &dim_pr_performance
            - "办学成效"
          feelings: &dim_pr_feelings
            - "学校感受"
          philosophy: &dim_pr_philosophy
            - "办学理念"
        pa: &dimention_pa
          family: &dim_pa_family
            - "家庭背景"
          live: &dim_pa_live
            - "生活学习"
          relationship: &dim_pa_relationship
            - "亲子关系"
          coach: &dim_pa_coach
            - "家长辅导"
          coach_person: &dim_pa_coach_person
            - "辅导分工"
          feelings: &dim_pa_feelings
            - "学校感受"
          satisfaction: &dim_pa_satisfaction
            - "学校满意度"
          philosophy: &dim_pa_philosophy
            - "教育观念"
          identity: &dim_pa_identity
            - "学校认同"
          school_reasonable: &dim_pa_school_reasonable
            - "理想小学"
          expection: &dim_pa_expection
            - "教育期望"

      topic:
        participant: &top_participant
          - *dim_participant
        score:
          total_segment: &top_total_score_segment
            - "分数分布"
          total_quantile: &top_total_score_quantile
            - "得分分布"
          total_score_level: &top_total_score_level
            - "成绩等级"
          total_score_mean: &top_total_score_mean
            - "平均分"
          passed_rate: &top_passed_rate
            - "及格率"
          high_level_thinking: &top_high_level_thinking
            - "高层次思维能力"
          total_coefficient_variation: &top_total_score_coefficient_variation
            - "总成绩变异系数"
          point_rate: &top_point_rate
            - "得分率"
          answer: &top_answer
            - "作答"

        cn:
          jilei_quantile: &top_jilei_score_quantile_cn
            - "积累得分分布"
          jilei_score_level: &top_jilei_score_level_cn
            - "积累成绩等级"
          jilei_score_mean: &top_jilei_score_mean_cn
            - "积累平均分"
          reading_quantile: &top_reading_score_quantile_cn
            - "阅读得分分布"
          reading_score_level: &top_reading_score_level_cn
            - "阅读成绩等级"
          reading_score_mean: &top_reading_score_mean_cn
            - "阅读平均分"
          writing_quantile: &top_writing_score_quantile_cn
            - "习作得分分布"
          writing_score_level: &top_writing_score_level_cn
            - "习作成绩等级"
          writing_score_mean: &top_writing_score_mean_cn
            - "习作平均分"

        ma:
          number_quantile: &top_number_score_quantile_ma
            - "数与运算得分分布"
          number_score_level: &top_number_score_level_ma
            - "数与运算成绩等级"
          number_score_mean: &top_number_score_mean_ma
            - "数与运算平均分"
          space_quantile: &top_space_score_quantile_ma
            - "图形与几何得分分布"
          space_score_level: &top_space_score_level_ma
            - "图形与几何成绩等级"
          space_score_mean: &top_space_score_mean_ma
            - "图形与几何平均分"
          statistics_quantile: &top_statistics_score_quantile_ma
            - "统计与概率得分分布"
          statistics_score_level: &top_statistics_score_level_ma
            - "统计与概率成绩等级"
          statistics_score_mean: &top_statistics_score_mean_ma
            - "统计与概率平均分"
          skill_quantile: &top_skill_score_quantile_ma
            - "知识技能得分分布"
          skill_score_level: &top_skill_score_level_ma
            - "知识技能成绩等级"
          skill_score_mean: &top_skill_score_mean_ma
            - "知识技能平均分"
          concept_quantile: &top_concept_score_quantile_ma
            - "数学理解得分分布"
          concept_score_level: &top_concept_score_level_ma
            - "数学理解成绩等级"
          concept_score_mean: &top_concept_score_mean_ma
            - "数学理解平均分"
          apply_quantile: &top_apply_score_quantile_ma
            - "规则运用得分分布"
          apply_score_level: &top_apply_score_level_ma
            - "规则运用成绩等级"
          apply_score_mean: &top_apply_score_mean_ma
            - "规则运用平均分"
          problem_quantile: &top_problem_score_quantile_ma
            - "问题解决得分分布"
          problem_score_level: &top_problem_score_level_ma
            - "问题解决成绩等级"
          problem_score_mean: &top_problem_score_mean_ma
            - "问题解决平均分"


        st:
          one_child: &top_one_child_st
            - "独生子女"
          sleep: &top_sleep
            - "睡眠时间"
          sleep_weekend: &top_sleep_weekend
            - "假期睡眠时间"
          sleep_enough: &top_sleep_enough
            - "睡眠是否充足"
          sleep_not_enough: &top_sleep_not_enough
            - "睡眠不充足"
          sleep_9hours: &top_sleep_n_hours
            - "睡眠9小时以上"
          writing_homework_hours: &top_writing_homework_hours
            - "作业时间"
          writing_homework_1hours_less: &top_writing_homework_n_hours_less
            - "作业1小时以下"
          writing_homework_1hours_more: &top_writing_homework_n_hours_more
            - "作业1小时以上"
          writing_homework_difficulty: &top_writing_homework_difficulty
            - "作业难度"
          learning_burden: &top_learning_burden
            - "学业负担适中与较轻"
          learning_pressure: &top_learning_pressure
            - "学习压力较轻"
          learning_motivation: &top_learning_motivation
            - "学习动机较强"
          school_identity: &top_school_identity
            - "学校认同度较高"
          learning_confidence: &top_learning_confidence
            - "学习自信心较强"
          morality: &top_morality
            - "品行素养较高" 
          psychological_health: &top_psychological_health
            - "心理健康较高"

          teacher_relationship: &top_teacher_relationship
            - "师生关系较好"
          teaching_method: &top_teaching_method
            - "教学方法较好"
          month_test: &top_month_test
            - "月考次数"
          year_reading: &top_year_reading
            - "年度阅读"
        te:
          gender: &top_te_gender
            - "教师性别"
          years: &top_te_years
            - "教师教龄"
          title: &top_te_title
            - "教师职称"
          education: &top_te_edu
            - "教师学历"
          normal_edu: &top_te_normal_edu
            - "师范教育"
          major_match: &top_te_major_match
            - "专业对口"
          weekly_hours: &top_te_weekly_hours
            - "每周课时"
          daily_hours: &top_te_daily_hours
            - "每日工时"
          job_favorite: &top_te_job_favorite
            - "职业喜爱"
          job_quit: &top_te_job_quit
            - "离职倾向"
          
          course_leadership: &top_course_leadership
            - "课程领导力较高"
        pr:
          gender: &top_pr_gender
            - "校长性别"
          age: &top_pr_age
            -  "校长年龄"
          years: &top_pr_years
            - "任职年限"
          education: &top_pr_edu
            - "校长学历"
          title: &top_pr_title
            - "校长职级"
          all_title: &top_pr_all_title
            - "全校职称"
          all_education: &top_pr_all_edu
            - "全校学历"
          history: &top_school_history
            - "建校历史"
          meeting: &top_pr_meeting
            - "会议"
          instructing: &top_pr_instructing
            - "上课"
          researching: &top_pr_researching
            - "教研"
          communication: &top_pr_communication
            - "师生交流"
          evaluation: &top_pr_evaluation
            - "检查评估"
          financing: &top_pr_financing
            - "资金审批"
          publishing: &top_pr_publishing
            - "成果出版"
          course: &top_pr_course
            - "校本课程"
          community: &top_pr_community
            - "学生社团"


        pa:
          one_child: &top_one_child_pa
            - "独生子女"
          family_structure: &top_family_structure
            - "家庭结构"
          books: &top_books
            - "家庭藏书"
          cars: &top_cars
            - "家庭汽车"
          oversea_trip: &top_oversea_trip
            - "出境旅游"
          father_edu:  &top_father_edu
            - "父亲学历"
          mother_edu: &top_mother_edu
            - "母亲学历"
          extra_homework: &top_extra_homework
            - "是否家教补课"
          extra_homework_yes: &top_extra_homework_yes
            - "参加家教补课"
          extra_homework_hour_all: &top_extra_homework_hour_all
            - "家教补课时间全体"
          extra_homework_hour: &top_extra_homework_hour
            - "家教补课时间"
          extra_homework_subject: &top_extra_homework_subject
            - "家教补课科目"
          extra_homework_reason: &top_extra_homework_reason
            - "家教补课原因"
          extra_homework_1hours_less: &top_extra_homework_n_hours_less
            - "补课2小时以下"
          extra_homework_4hours_more: &top_extra_homework_n_hours_more
            - "补课2小时以上"
          extra_interesting: &top_extra_interesting
            - "是否参加兴趣班"
          extra_interesting_yes: &top_extra_interesting_yes
            - "参加兴趣班"
          extra_interesting_hour_all: &top_extra_interesting_hour_all
            - "兴趣班时间全体"
          extra_interesting_hour: &top_extra_interesting_hour
            - "兴趣班时间"
          extra_intersting_subject: &top_extra_interesting_subject
            - "兴趣班种类"
          extra_intersting_reason: &top_extra_interesting_reason
            - "兴趣班原因"
          daily_sport_hour:  &top_daily_sport_hour
            - "运动时间"
          query_about_school: &top_query_about_school
            - "主动询问"
          family_discuss: &top_family_discuss
            - "家庭讨论"
          family_work: &top_family_work
            - "家务劳动"
          parent_accompany: &top_parent_accompany
            - "家长陪伴"   
          quarrel_frequency: &top_quarrel_frequency
            - "吵架频率"
          quarrel_level: &top_quarrel_level
            - "吵架程度"
          school_reasonable: &top_school_reasonable
            - "理想学校"

      variable: # column name
        type: &var_type
          polymer: &var_type_polymer
            - "聚合"
          derivative: &var_type_derivative
            - "衍生"
          constant: &var_type_constant
            - "常量"
          classify: &var_type_classify
            - "分类"
          school_statistics: &var_type_school_statistics
            - "校级统计"
          segment: &var_type_segment
            - "分数段"
          sum: &var_type_sum
            - "累计得分"
          point_rate: &var_type_point_rate
            - "得分率"
          point_segment: &var_type_point_segment
            - "得分区间"
          

        name: &var_name
          subject: &var_name_subject
            - *subject
          total: &var_name_total
            - "总体"

          st:
            survey_A: &var_st_survey_A
              - "A卷"
            sleep_enough: &var_sleep_enough
              - *top_sleep_enough
            sleep_not_enough_reason: &var_staa004_n # one for one with var_value_sleep_not_enough_reason
              - "staa004_1"
              - "staa004_2"
              - "staa004_3"
              - "staa004_4"
              - "staa004_5"
              - "staa004_6"
            sleep_not_enough: &var_sleep_not_enough
              - *top_sleep_not_enough
            learning_burden: &var_learning_burden
              - *top_learning_burden
            learning_pressure: &var_learning_pressure
              - *top_learning_pressure
            learning_motivation: &var_learning_motivation
              - *top_learning_motivation
            school_identity: &var_school_identity
              - *top_school_identity
            learning_confidence: &var_learning_confidence
              - *top_learning_confidence
            morality: &var_morality
              - *top_morality
            psychological_health: &var_psychological_health
              - *top_psychological_health

            teacher_relationship: &var_teacher_relationship
              - *top_teacher_relationship
            teaching_method: &var_teaching_method
              - *top_teaching_method
          te:
            course_leadership: &var_course_leadership
              - *top_course_leadership
          pa:
            extra_homework: &var_extra_homework
              - "参加家教补课"
            extra_homework_hour_not_null: &var_extra_homework_hour_not_null
              - "参加家教补课时间非空"
            extra_homework_subject: &var_extra_homework_subject
              - "家教补习_未参加"
              - "家教补习_语文"
              - "家教补习_数学"
              - "家教补习_英语"
            extra_homework_reason: &var_extra_homework_reason
              - "家教补习_升学需要"
              - "家教补习_其他孩子上"
              - "家教补习_成绩跟不上"
              - "家教补习_想再提升"
              - "家教补习_老师推荐"
              - "家教补习_孩子感兴趣"
            extra_interesting_hour: &var_extra_interesting
              - "参加兴趣班"
            extra_interesting_hour_not_null: &var_extra_interesting_hour_not_null
              - "参加兴趣班时间非空"
            extra_interesting_subject: &var_extra_interesting_subject
              - "兴趣班_未参加"
              - "兴趣班_器乐类"
              - "兴趣班_舞蹈类"
              - "兴趣班_歌唱类"
              - "兴趣班_绘画类"
              - "兴趣班_体育类"
              - "兴趣班_信息类"
              - "兴趣班_棋类"
              - "兴趣班_其他类"
            extra_interesting_reason: &var_extra_interesting_reason
              - "兴趣班_升学需要"
              - "兴趣班_其他孩子上"
              - "兴趣班_孩子有特长"
              - "兴趣班_我们想培养"
              - "兴趣班_老师推荐上"
              - "兴趣班_孩子感兴趣"
            family: &var_family
              - "家庭结构"
            family_member: &var_family_member
              - "家庭_父亲"
              - "家庭_母亲"
              - "家庭_祖父母"
              - "家庭_兄弟姐妹"
              - "家庭_其他"

            school_reasonable: &var_school_reasonable
              - "学校_理念"
              - "学校_师资"
              - "学校_设施"
              - "学校_课程"
              - "学校_生源"
              - "学校_对口初中"
              - "学校_住宿"
              - "学校_离家近"
              - "学校_负担轻"
              
          score: 
            total_passed: &total_passed
              - "及格"
            subject_average: &subject_average
              - "学科平均"
            high_level_thinking: &high_level_thinking
              - "高层次思维"
            high_level_score: &var_high_level_score
              - "高层次得分"

          cn:
            total_score: &total_score_cn
              - "total_score"
            total_score_segment: &total_score_segment_cn
              - "total_score_segment"
            total_score_level: &total_score_level_cn
              - "total_level"
            jilei_score: &jilei_score_cn
              - "jilei_score"
            jilei_score_level: &jilei_score_level_cn
              - "jilei_level"
            reading_score: &reading_score_cn
              - "reading_score"
            reading_score_level: &reading_score_level_cn
              - "reading_level"
            writing_score: &writing_score_cn
              - "writing_score"
            writing_score_level: &writing_score_level_cn
              - "writing_level"
          
          ma:
            total_score: &total_score_ma
              - "total_score"
            total_score_segment: &total_score_segment_ma
              - "total_score_segment"
            total_score_level: &total_score_level_ma
              - "total_level"
            number_score: &number_score_ma
              - "number_score"
            number_score_level: &number_score_level_ma
              - "number_level"
            space_score: &space_score_ma
              - "space_score"
            space_score_level: &space_score_level_ma
              - "space_level"
            statistics_score: &statistics_score_ma
              - "statistics_score"
            statistics_score_level: &statistics_score_level_ma
              - "statistics_level"
            skill_score: &skill_score_ma
              - "skill_score"
            skill_score_level: &skill_score_level_ma
              - "skill_level"
            concept_score: &concept_score_ma
              - "concept_score"
            concept_score_level: &concept_score_level_ma
              - "concept_level"
            apply_score: &apply_score_ma
              - "apply_score"
            apply_score_level: &apply_score_level_ma
              - "apply_level"
            problem_score: &problem_score_ma
              - "problem_score"
            problem_score_level: &problem_score_level_ma
              - "problem_level"


        value: &var_value
          total: &var_value_total
            - "总体"
          st:
            sleep_not_enough_reason: &var_value_sleep_not_enough_reason
              - "我上床后很难入睡"
              - "老师布置的作业偏多"
              - "老师布置的作业偏难"
              - "我父母额外给我增加了学习任务"
              - "我自己给自己增加了额外的学习任务"
              - "我家离学校比较远，要很早起床"
            extra_homework_subject: &var_value_extra_homework_subject
              - "未参加"
              - "语文"
              - "数学"
              - "英语"
          pa:
            extra_homework_reason: &var_value_extra_homework_reason
              - "升学需要"
              - "其他孩子上，我们也上"
              - "孩子 成绩跟不上，需要上"
              - "孩子成绩比较好，想再提升"
              - "学校老师推荐上"
              - "孩子自己感兴趣"
            extra_interesting_subject: &var_value_extra_interesting_subject
              - "未参加"
              - "器乐类"
              - "舞蹈类"
              - "歌唱类"
              - "绘画类"
              - "体育类"
              - "信息类"
              - "棋类"
              - "其他类"
            extra_interesting_reason: &var_value_extra_interesting_reason
              - "升学需要"
              - "其他孩子上，我们也上"
              - "孩子有这方面的特长"
              - "孩子这方面的特长不明显，我们想培养"
              - "学校老师推荐上"
              - "孩子自己感兴趣"
            family_member: &var_value_family_member
              - "孩子父亲"
              - "孩子母亲"
              - "孩子（外）祖父母"
              - "孩子兄弟姐妹"
              - "其他"
            family_core: &var_value_family_core
              - "核心家庭"
            family_main: &var_value_family_main
              - "主干家庭"
            family_extend: &var_value_family_extend
              - "扩大家庭"
            school_reasonable: &var_value_school_reasonable
              - "学校办理理念好"
              - "师资力量比较强"
              - "校园设施比较好"
              - "有较多的特色课程"
              - "学生来源比较好"
              - "可以对口升到理想的初中"
              - "可以安排住宿"
              - "学校离家比较近"
              - "学校负担比较轻"


          score:
            total_score_segment_default: &total_score_segment_default
              - "0-200"
            total_score_segment_value: &total_score_segment_value
              - 
                min: 200
                max: 250
                segment: "200-250"
              - 
                min: 250
                max: 300
                segment: "250-300"
              - 
                min: 300
                max: 350
                segment: "300-350"
              - 
                min: 350
                max: 400
                segment: "350-400"
              - 
                min: 400
                max: 450
                segment: "400-450"
              - 
                min: 450
                max: 500
                segment: "450-500"
              - 
                min: 500
                max: 550
                segment: "500-550"
              - 
                min: 550
                max: 600
                segment: "550-600"
              - 
                min: 600
                max: 650
                segment: "600-650"
              - 
                min: 650
                max: 700
                segment: "650-700"
              - 
                min: 700
                max: 750
                segment: "700-750"
              - 
                min: 750
                max: 800
                segment: "750-800"

      statistics: 
        percent: &stat_percent
          - "百分数"
        percent_weight_count: &stat_percent_weight_count
          - "加权百分比计数"
        mean: &stat_mean
          - "平均值"
        point_rate: &stat_point_rate
          - "得分率"
        point_segment: &stat_point_segment
          - "得分区间"
        segment: &stat_segment
          - "分数段"
        quantile: &stat_quantile
          - "百分位"
        gt_mean: &stat_gt_mean
          - "平均水平之上"
        stdev: &stat_stdev
          - "标准差"
        coefvar: &stat_coefvar
          - "变异系数"
        quotien: &stat_quotient
          - "商"
        index: &stat_index
          - "指数"  
        count: &stat_count
          - "计数"

        quantile_key: &stat_quantile_key
          top: &stat_quantile_key_top
            - "top"
          upper: &stat_quantile_key_upper
            - "upper"
          median: &stat_quantile_key_median
            - "median"
          lower: &stat_quantile_key_lower
            - "lower"
          bottom: &stat_quantile_key_bottom
            -  "bottom"
        quntile_box: &stat_quantile_box
          -
            key: *stat_quantile_key_top
            prob: 0.95
            quant: "95%"
          -
            key: *stat_quantile_key_upper
            prob: 0.75
            quant: "75%"
          -
            key: *stat_quantile_key_median
            prob: 0.5
            quant: "50%"
          - 
            key: *stat_quantile_key_lower
            prob: 0.25
            quant: "25%"
          -
            key: *stat_quantile_key_bottom
            prob: 0.05
            quant: "5%"

      index:
        # index type
        percent: &index_percent
          - "百分数指数"
        passed_rate: &index_passed_rate
          - "达标指数"
        coefficient_variation: &index_coefficient_variation
          - "均衡指数"

        # index name
        name:
          idx_passed_rate: &idx_passed_rate
            - "成绩达标指数"
          coef_passed_rate: &coef_passed_rate
            - "成绩标准达成系数"          

          idx_high_level_thinking: &idx_high_level_thinking
            - "高层次思维能力指数"
          coef_high_level_thinking: &coef_high_level_thinking
            - "高层次思维能力系数"

          idx_individual_balance: &idx_individual_balance
            - "个体间均衡指数"
          idx_school_balance: &idx_school_balance
            - "学校间均衡指数"
          coef_school_balance: &coef_school_balance
            - "学业成绩学校间均衡系数"

          idx_county_balance: &idx_county_balance
            - "区县间均衡指数"

          idx_confidence: &idx_confidence
            - "自信心指数"
          idx_pressure: &idx_pressure
            - "压力指数"
          coef_pressure: &coef_pressure
            - "学习压力系数"

          idx_motivation: &idx_motivation
            - "动机指数"
          coef_motivation: &coef_motivation
            - "学习动机系数"
            
          idx_school_identiy: &idx_school_identiy
            - "认同度指数"
          idx_sleep: &idx_sleep
            - "睡眠指数"
          coef_sleep: &coef_sleep
            - "睡眠系数"

          idx_writing_homework: &idx_writing_homework
            - "作业指数"
          coef_writing_homework: &coef_writing_homework
            - "作业系数"


          idx_extra_homework: &idx_extra_homework
            - "校外补课指数"
          coef_extra_homework: &coef_extra_homework
            - "补课系数"

          idx_burden: &idx_burden
            - "学业负担指数"
          idx_morality: &idx_morality
            - "品德行为指数"
          idx_physique: &idx_physique
            - "体质健康指数"
          idx_psychological: &idx_psychological
            - "心理健康指数"

          idx_teacher: &idx_teacher
            - "师生关系指数"
          coef_teacher: &coef_teacher
            - "师生关系系数"

          idx_teaching: &idx_teaching
            - "教学方式指数"
          coef_teaching: &coef_teaching
            - "教学方式系数"

          idx_course_leadership: &idx_course_leadership
            - "课程领导力指数"
          coef_course_leadership: &coef_course_leadership
            - "课程领导力系数"

          idx_economic: &idx_economic
            - "家庭背景影响指数"
          coef_economic: &coef_economic
            - "家庭背景影响系数"

      key: 
        score_mean: &key_score_mean
          - "平均分"
        score_cv: &key_score_cv
          - "变异系数"
        survey_mean: &key_survey_mean
          - "平均值"
        percent: &key_percent
          - "百分比"
        count: &key_count
          - "计数"
        index: &key_index
          - "指标"

      value: 
      weight: 
        algorithm:
          sample: &w_algo_sample
            - "抽样"
          individual: &w_algo_individual
            - "个体"
          group: &w_algo_group
            - "分组"
        column:
          individual: &w_col_individual
            - "计数"
          school: &w_col_school
            - "学校加权"

    table: &table
      cn: &table_cn
        origin: &o_score_cn
          - "语文成绩"
        merge: &m_score_cn
          - "语文成绩合并"
        weight: &w_score_cn
          - "语文成绩加权"
        clean: &c_score_cn
          - "语文成绩清洗"
        variable: &v_score_cn
          - "语文成绩变量"
        statistics: &s_score_cn
          - "语文成绩统计"
        index: &i_score_cn
          - "语文成绩指标"
        count: &n_score_cn
          - "学生参与语文"
      ma: &table_ma
        origin: &o_score_ma
          - "数学成绩"
        merge: &m_score_ma
          - "数学成绩合并"
        weight: &w_score_ma
          - "数学成绩加权"
        clean: &c_score_ma
          - "数学成绩清洗"
        variable: &v_score_ma
          - "数学成绩变量"
        statistics: &s_score_ma
          - "数学成绩统计"
        index: &i_score_ma
          - "数学成绩指标"
        count: &n_score_ma
          - "学生参与数学"
      score:
        statistics: &s_score
          - "成绩统计"
        index: &i_score
          - "成绩指标"
      st: &table_st
        origin: &o_survey_st
          - "学生问卷调查"
        merge: &m_survey_st
          - "学生问卷合并"
        weight: &w_survey_st
          - "学生问卷加权"
        clean: &c_survey_st
          - "学生问卷清洗"
        variable: &v_survey_st
          - "学生问卷变量"
        statistics: &s_survey_st
          - "学生问卷统计"
        index: &i_survey_st
          - "学生问卷指标"
        count: &n_survey_st
          - "学生参与问卷"
      pa: &table_pa
        origin: &o_survey_pa
          - "家长问卷调查"
        merge: &m_survey_pa
          - "家长问卷合并"
        weight: &w_survey_pa
          - "家长问卷加权"
        clean: &c_survey_pa
          - "家长问卷清洗"
        variable: &v_survey_pa
          - "家长问卷变量"
        statistics: &s_survey_pa
          - "家长问卷统计"
        index: &i_survey_pa
          - "家长问卷指标"
        count: &n_survey_pa
          - "家长参与问卷"
      te: &table_te
        origin: &o_survey_te
          - "教师问卷调查"
        merge: &m_survey_te
          - "教师问卷合并"
        weight: &w_survey_te
          - "教师问卷加权"
        clean: &c_survey_te
          - "教师问卷清洗"
        variable: &v_survey_te
          - "教师问卷变量"
        statistics: &s_survey_te
          - "教师问卷统计"
        index: &i_survey_te
          - "教师问卷指标"
        count: &n_survey_te
          - "教师参与问卷"
      pr: &table_pr
        origin: &o_survey_pr
          - "校长问卷调查"
        merge: &m_survey_pr
          - "校长问卷合并"
        weight: &w_survey_pr
          - "校长问卷加权"
        clean: &c_survey_pr
          - "校长问卷清洗"
        variable: &v_survey_pr
          - "校长问卷变量"
        statistics: &s_survey_pr
          - "校长问卷统计"
        index: &i_survey_pr
          - "校长问卷指标"
        count: &n_survey_pr
          - "校长参与问卷"
      survey: 
        statistics: &s_survey
          - "问卷统计"
        index: &i_survey
          - "问卷指标"
      outsource:
        economic_balance: &i_economic_balance
          - "经济体质均衡指数"
        history_coefficient: &i_history
          - "历年指标"

      final: &si_final
        - "统计指标汇总" 
      county: &table_county
        - "区县"
      school:
        school: &table_school
          - "学校"
        participant: &table_participant_sch
          - "学校参与"
        count: &n_school
          - "学校参与合计"
      student:
        student: &table_student
          - "学生"
        student_set: &table_student_set
          - "学生原始信息"
        participant: &table_participant_st
          - "学生参与"
        count: &n_student
          - "学生参与合计"


    plot: &plot
      dummy.fig: &plot_dummy_fig
        - "dummy.jpg"
      data:
        digits: &plot_data_digits
          - 0
      size:
        width: &plot_canvas_width
          - 8
        height: &plot_canvas_height
          - 4
        bar_width: &plot_bar_width
          - 0.5
        bar_width_thin: &plot_bar_width_thin
          - 0.4
        bar_width_fat: &plot_bar_width_fat
          - 0.7
      multi_fig:
        fig_limit: &plot_multi_fig_limit
          - 50
        fig_width: &plot_multi_fig_width
          -  25
        fig_height: &plot_multi_fig_height
          - 6
        lab_size: &plot_multi_fig_lab_size
          - 12
        bar_width: &plot_multi_fig_bar_width
          - 0.6

      legend_top: &plot_legend_top
        position: "top"
        direction: "horizontal"
      legend_right: &plot_legend_right
        position: "right"
        direction: "vertical"
      geom: &plot_geom
        bar_segment: &plot_bar_segment
          - "分数段条形图"
        bar_dodging: &plot_bar_dodging
          - "并列条形图"
        bar_stacking: &plot_bar_stacking
          - "堆叠条形图"
        bar_filling: &plot_bar_filling
          - "填充条形图"
        
        point: &plot_point
          - "散点图"
        box: &plot_box
          - "盒须图"
        radar: &plot_radar
          - "雷达图"
      legend_order:
        aggree: &legend_order_aggree
          - "非常不同意"
          - "比较不同意"
          - "不确定"
          - "比较同意"
          - "非常同意"
        match: &legend_order_match
          - "非常不符合"
          - "比较不符合"
          - "不确定"
          - "比较符合"
          - "非常符合"
        frequency: &legend_order_frequency
          - "从不"
          - "有时"
          - "常常"
          - "经常"
          - "总是"
        people: &legend_order_people
          - "几乎没有人"
          - "小部分人"
          - "约一半人"
          - "大部分人"
          - "几乎所有人"

      axis:
        axisx:
          province_acad_xin_gender_huji: 
            order: &order_prov_acad_xin_gen_hu
              - "总体"
              - "小学"
              - "一贯制"
              - "市新优"
              - "区新优"
              - "男"
              - "女"
              - "沪籍"
              - "非沪籍"
            xlab: &xlab_prov_acad_xin_gen_hu
              - "|         本市         |                 学制                 |           新优质学校           |                 性别                 |                 户籍                 |"
          total_acad_gender_huji: 
            order: &order_totl_acad_gen_hu
              - "总体"
              - "小学"
              - "一贯制"
              - "男"
              - "女"
              - "沪籍"
              - "非沪籍"
            xlab: &xlab_totl_acad_gen_hu
              - "|         本市         |                 学制                 |           新优质学校           |                 性别                 |                 户籍                 |"
          province_county_acad_gender_huji: 
            order: &order_prov_coun_acad_gen_hu
              - "本市"
              - "本区"
              - "小学"
              - "一贯制"
              - "男"
              - "女"
              - "沪籍"
              - "非沪籍"
            xlab: &xlab_prov_coun_acad_gen_hu
              - "|                     总体                   |                  学制                     |                     性别                     |                     户籍                     |"
          
          province_acad_xin: 
            order: &order_prov_acad_xin
              - "总体"
              - "小学"
              - "一贯制"
              - "市新优"
              - "区新优"
            xlab: &xlab_prov_acad_xin
              - "|                 本市                   |                                学制                                  |                           新优质学校                            |"
          province_county_acad_xin: 
            order: &order_prov_coun_acad_xin
              - "本市"
              - "本区"
              - "小学"
              - "一贯制"
              - "市新优"
              - "区新优"
            xlab: &xlab_prov_coun_acad_xin
              - "|                       总体                           |                             学制                               |                        新优质学校                         |"
          county_province:
            order: &order_coun_prov
              - "本区"
              - "本市"
          province_county:
            order: &order_prov_coun
              - "本市"
              - "区72"
              - "区73"
              - "区75"
              - "区76"
              - "区77"
              - "区78"
              - "区79"
              - "区80"
              - "区81"
              - "区82"
              - "区83"
              - "区84"
              - "区85"
              - "区87"
              - "区88"
              - "区89"
          province_perspective_county:
            order: &order_prov_pers_coun
              - "本市"
              - "小学"
              - "一贯制"
              - "市新优"
              - "区新优"
              - "男"
              - "女"
              - "沪籍"
              - "非沪籍"
              - "区72"
              - "区73"
              - "区75"
              - "区76"
              - "区77"
              - "区78"
              - "区79"
              - "区80"
              - "区81"
              - "区82"
              - "区83"
              - "区84"
              - "区85"
              - "区87"
              - "区88"
              - "区89"
          province_school_perspective_county:
            order: &order_prov_scho_coun
              - "本市"
              - "小学"
              - "一贯制"
              - "市新优"
              - "区新优"
              - "区72"
              - "区73"
              - "区75"
              - "区76"
              - "区77"
              - "区78"
              - "区79"
              - "区80"
              - "区81"
              - "区82"
              - "区83"
              - "区84"
              - "区85"
              - "区87"
              - "区88"
              - "区89"
          province_urbanization:
            order: &order_prov_urba
              - "本市"
              - "中心城区"
              - "郊区"
          subject:
            order: &order_subject
              - "语文"
              - "数学"
            cn_dim: &order_cn_dim
              - *dim_cn_jilei
              - *dim_cn_reading
              - *dim_cn_writing
            ma_dom: &order_ma_dom
              - *dim_ma_number
              - *dim_ma_space
              - *dim_ma_statistics
            ma_dim: &order_ma_dim
              - *dim_ma_skill
              - *dim_ma_concept
              - *dim_ma_apply
              - *dim_ma_problem
          x.leader:
            prov_coun: &leader_prov_coun
              - "本市"
              - "本区"
            prov_coun_scho: &leader_prov_coun_scho
              - "本市"
              - "本区"
              - "本校"
              
        axisy:
          discrete_limits_index: &axisy_discrete_limits_index
            - 0
            - 1
            - 2
            - 3
            - 4
            - 5
            - 6
            - 7
            - 8
            - 9
          ylim: &axisy_ylim
            - 0
            - 9

    command:
      copy:
        command: &command_copy
          - "cp"
        from: 
          dummy: &cmd_cp_from_dummy
            - "report.in/dummy/*"
          cn: &cmd_cp_from_cn
            - "report.in/cn/*"
          ma: &cmd_cp_from_ma
            - "report.in/ma/*"
          tex: &cmd_cp_from_tex
            - "report.in/tex/*"
        to: 
          plot: &cmd_cp_to_plot
            "report.out/plot/"
      zipplot:
        command: &command_zip
          - "zip"
        from:
          plot: &cmd_zip_from_plot 
            - "report.out/plot/*"
      zipcounty:
        command: *command_zip
        from:
          plot: &cmd_zip_from_county 
            - "report.out/county/*"
      zipschool:
        command: *command_zip
        from:
          plot: &cmd_zip_from_school 
            - "report.out/school/*"
      dump:
        command: &command_dump
          - "pg_dump -h localhost -p 5433 -U wangpeifenge -w -E utf8"
        to: 
          plot: &cmd_dump_to_plot
            - "report.out/plot/"
        dbase: 
          dbase: &cmd_dump_db
            - "sh_green_2016"
      remove:
        command: &command_remove
          - "rm"
        files: 
          plot: &cmd_remove_plot
            - "report.out/plot/*"


    clean: &clean
      drop: &clean_drop
        - "drop"
      correct: &clean_correct
        - "correct"
      rename: &clean_rename
        - "rename"

    option:
      T: &T
        - TRUE
      F: &F
        - FALSE

# data and algorithm definition for surveys

survey: 
  -
    process: TRUE
    subject: *survey_st
    table: *table_st

    check:
      -
        set: 
          - "staa006"
          - "staa008"
          - "staa009"
          - "staa016"        
      - 
        set: 
          - "staa007"
          - "staa010"
          - "staa011"
          - "staa012"
          - "staa015"
          
      - 
        set: 
          - "staa013"
          - "staa014"
          - "staa018"
          - "staa019"
          - "staa020"
      -
        set: 
          - "staa048"
          - "staa049"
          - "staa050"
          - "staa051"
          - "staa052"
      -
        set: 
          - "staa040"
          - "staa041"
          - "staa042"
          - "staa043"
          - "staa044"
          - "staa045"
          - "staa046"
          - "staa047"
      - 
        set: 
          - "staa017"
          - "staa023"
          - "staa024"
          - "staa025"
          - "staa026"
          - "staa027"
          
      - 
        set: 
          - "staa028"
          - "staa029"
          - "staa030"
          - "staa031"
          - "staa032"
          - "staa033"
      - 
        set: 
          - "staa034"
          - "staa035"
          - "staa036"
          - "staa037"
          - "staa038"
          - "staa039"
      -
        set: 
          - "staa057"
          - "staa058"
          - "staa059"
          - "staa070"
      -  
        set: 
          - "staa060"
          - "staa062"
          - "staa064"
          - "staa066"
      - 
        set: 
          - "staa061"
          - "staa063"
          - "staa065"
          - "staa067"
          - "staa068"
          - "staa069"
      - 
        set: 
          - "staa073"
          - "staa074"
          - "staa077"
          - "staa083"
          - "staa084"
          - "staa086"
      - 
        set: 
          - "staa072"
          - "staa076"
          - "staa078"
          - "staa079"
          - "staa080"
          - "staa082"
      - 
        set: 
          - "staa075"
          - "staa081"
          - "staa085"
      -  
        set: 
          - "staa087"
          - "staa088"
          - "staa089"
          - "staa094"
          - "staa103"
      -  
        set: 
          - "staa090"
          - "staa091"
          - "staa095"
          - "staa096"
          - "staa097"
          - "staa098"
          - "staa099"
          - "staa100"
      - 
        set: 
          - "staa092"
          - "staa093"
          - "staa101"
          - "staa102"

    merge:
      -
        table.merge: *m_survey_st
        merge.by: "准考证号"
        table.left: 
          tab.name: *o_survey_st
        table.right:
          tab.name: *table_student
          drop:
            - "学生姓名"
            - "班级"
            - "区县编码"
            - "区县名称"
            - "学校名称"
            - "办学"
            - "学制"
      -
        table.merge: *m_survey_st
        merge.by: "学校代码"
        table.left: 
          tab.name: *m_survey_st
        table.right:
          tab.name: *table_school
          drop:
            - "区县名称"
          rename: 
            - 
              old: "学校名称"
              new: "学校"
        drop:
          - "学校代码"
      -
        table.merge: *m_survey_st
        merge.by: "区县编码"
        table.left: 
          tab.name: *m_survey_st
        table.right:
          tab.name: *table_county
          drop:
            - "区县代码"
            - "区县别名"
          rename:
            -
              old: "区县名称"
              new: "区县"
        drop:
          - "区县编码"
      -
        table.merge: *m_survey_st
        merge.by: "准考证号"
        table.left: 
          tab.name: *m_survey_st
        table.right:
          tab.name: *o_survey_pa
          keep:
            - "准考证号"
            - "pg012"

    weight:
      -
        algorithm: *w_algo_individual
        col.weight: *w_col_individual
        table.out: *w_survey_st
        table.in: *m_survey_st
      -
        algorithm: *w_algo_group
        col.group: *tier_school
        col.weight: *w_col_school
        table.out: *w_survey_st
        table.in: *w_survey_st

    clean:
      table.in: *w_survey_st
      table.out: *c_survey_st

      clean:
        -
          proc: *clean_correct
          correct:
            -
              column:
                - "staa002"
              value:
                - 
                  old: "少于7小时(含7小时)"
                  new: "少于7小时"
            -
              column:
                - "staa005"
              value:
                -
                  old: "9-10小时（含9小时"
                  new: "9-10小时(含9小时)"
                - 
                  old: "少于7小时(含7小时)"
                  new: "少于7小时"

    variable:
      table.in: *c_survey_st
      table.out: *v_survey_st
      var:
        -
          var.name: *var_name_subject
          var.type: *var_type_constant
          var.value: *survey_st
        -
          var.name: *var_name_total
          var.type: *var_type_constant
          var.value: *var_value_total
        #-
        #  var.name: *tier_province
        #  var.type: *var_type_constant
        #  var.value: *sample_province
        -
          var.name: *var_st_survey_A
          var.type: *var_type_polymer
          var.column:
            -
              col.name:
                - "staa072"
              col.value:
                - "几乎所有人"
                - "大部分人"
                - "约一半人"
                - "小部分人"
                - "几乎没有人"
          var.threshold: 0
          var.option:
            T: *T
            F: *F

        -
          var.name: "staa004"
          var.type: *var_type_derivative
          var.option: *var_value_sleep_not_enough_reason
          var.column: *var_staa004_n
            

        -
          var.name: *var_sleep_not_enough
          var.type: *var_type_polymer
          var.column: # one by one from var_staa004_n, var_value_sleep_not_enough_reason
            -
              col.name:
                - "staa004_1"
              col.value:
                - "我上床后很难入睡"
            -
              col.name:
                - "staa004_2"
              col.value:
                - "老师布置的作业偏多"
            -
              col.name:
                - "staa004_3"
              col.value:
                - "老师布置的作业偏难"
            -
              col.name:
                - "staa004_4"
              col.value:
                - "我父母额外给我增加了学习任务"
            -
              col.name:
                - "staa004_5"
              col.value:
                - "我自己给自己增加了额外的学习任务"
            -
              col.name:
                - "staa004_6"
              col.value:
                - "我家离学校比较远，要很早起床"   
          var.threshold: 0
          var.option:
            T: *T
            F: *F
        
        -
          var.name: *var_learning_burden
          var.type: *var_type_polymer
          var.column:
            -
              col.name:
                - "staa002"
              col.value:
                #- "8-9小时(含8小时)"
                - "9-10小时（含9小时）"
                - "10小时及以上" 
            -
              col.name:
                - "staa053"
              col.value:
                - "1小时以内"
                #- "1-2小时（含1小时）"
            -
              col.name:
                - "pg012"
              col.value:
                - "2小时以下"
                #- "2-4小时（含2小时）"
                - "(空)"
                - "(跳过)"
          var.threshold: 1 # 
          var.option:
            T: *T
            F: *F

        -
          var.name: *var_learning_pressure
          var.type: *var_type_polymer
          var.column:
            -
              col.name:
                - "staa048"
                - "staa051"
                - "staa052"
              col.value:
                - "比较不同意"
                - "非常不同意"
                - "不确定" 
            -
              col.name:
                - "staa049"
              col.value:
                - "比较不同意"
                - "非常不同意"
                - "不确定"
                - "比较同意"
            -
              col.name:
                - "staa050"
              col.value:
                - "比较不同意"
                - "非常不同意"
            -
              col.name:
                - "staa054"
              col.value:
                - "非常容易"
                - "比较容易"
                - "难易适中"
            -
              col.name:
                - "staa055"
              col.value:
                - "0次"
                - "1次"
                - "2次"
                - "3次"  
          var.threshold: 4 # staa052 
          var.option:
            T: *T
            F: *F

        -
          var.name: *var_learning_motivation
          var.type: *var_type_polymer
          var.column:
            -
              col.name:
                - "staa040"
                - "staa042"
              col.value:
                - "比较不同意"
                - "非常不同意"
                - "不确定" 
            -
              col.name:
                - "staa041"
                - "staa043"
                - "staa044"
                - "staa045"
                - "staa046"
                - "staa047"
              col.value:
                - "非常同意"
                - "比较同意"
          var.threshold: 4 # staa045, staa046 
          var.option:
            T: *T
            F: *F

        -
          var.name: *var_school_identity
          var.type: *var_type_polymer
          var.column:
            -
              col.name:
                - "staa027"
              col.value:
                - "比较不同意"
                - "非常不同意"
            -
              col.name:
                - "staa017"
                - "staa023"
                - "staa024"
                - "staa025"
                - "staa026"
              col.value:
                - "非常同意"
                - "比较同意"
          var.threshold: 3 #  pa038 不计入统计
          var.option:
            T: *T
            F: *F

        -
          var.name: *var_learning_confidence
          var.type: *var_type_polymer
          var.column:
            -
              col.name:
                - "staa028"
                - "staa030"
              col.value:
                - "比较不同意"
                - "非常不同意"
                - "不确定"
            -
              col.name:
                - "staa029"
                - "staa031"
              col.value:
                - "非常同意"
                - "比较同意"
            -
              col.name:
                - "staa032"
                - "staa033"
              col.value:
                - "非常同意"
                - "比较同意"
                - "不确定"
          var.threshold: 3 #  staa033
          var.option:
            T: *T
            F: *F

        -
          var.name: *var_morality
          var.type: *var_type_polymer
          var.column:
            -
              col.name:
                - "staa072"
                - "staa073"
                - "staa075"
                - "staa077"
                - "staa078"
                - "staa079"
                - "staa080"
                - "staa081"
                - "staa082"
                - "staa083"
                - "staa084"
                - "staa085"
                - "staa086"           
              col.value:
                - "几乎所有人"
                - "大部分人"
                - "约一半人"
            -
              col.name:
                - "staa074"
                - "staa076"
              col.value:
                - "小部分人"
                - "几乎没有人"
          var.threshold: 7
          var.option:
            T: *T
            F: *F

        -
          var.name: *var_psychological_health
          var.type: *var_type_polymer
          var.column:
            -
              col.name:
                - "staa087"
                - "staa088"
                - "staa089"
                - "staa094"
                - "staa095"
                - "staa097"
                - "staa098"
                - "staa099"
                - "staa102"
                - "staa103"
              col.value:
                - "非常不同意"
                - "比较不同意"
            -
              col.name:
                - "staa090"
                - "staa091"
                - "staa092"
                - "staa093"
                - "staa096"
                - "staa100"
                - "staa101"
              col.value:
                - "非常同意"
                - "比较同意"
          var.threshold: 10
          var.option:
            T: *T
            F: *F

        -
          var.name: *var_teacher_relationship
          var.type: *var_type_polymer
          var.column:
            -
              col.name:
                - "staa006"
                - "staa007"
                - "staa008"
                - "staa009"
                - "staa010"
                - "staa011"
                - "staa012"
                - "staa013"
                - "staa014"
                - "staa015"
                - "staa018"
                - "staa019"
                - "staa020"
              col.value:
                - "非常同意"
                - "比较同意"  
            -
              col.name:
                - "staa016"
              col.value:
                - "非常不同意"
                - "比较不同意"  
          var.threshold: 8 # 题数 14 vs 15， 阈值暂不变
          var.option:
            T: *T
            F: *F
 
        -
          var.name: *var_teaching_method
          var.type: *var_type_polymer
          var.column:
            -
              col.name:
                - "staa057"
                - "staa058"
                - "staa059"
                - "staa060"
                - "staa061"
                - "staa062"
                - "staa063"
                - "staa064"
                - "staa065"
                - "staa066"
                - "staa067"
                - "staa068"
                - "staa069"
                - "staa070"
                
              col.value:
                - "总是"
                - "常常"
          var.threshold: 8
          var.option:
            T: *T
            F: *F

    statistics:
      table.in: *v_survey_st
      table.out: *s_survey_st

      assesment: *def_assesment
      grade: *def_grade
      tier: *tier_topic
      perspective: *perspective_student_survey

      stat:
        -
          statistics: 
            - *stat_percent
          weight:
            - *w_col_individual

          domain:
            - 
              name: *dom_st_info

              dimention:
                -
                  name: *dim_st_family

                  topic:
                    - 
                      name: *top_one_child_st
                      variable: "staa001"
                        
                -
                  name: *dim_st_live

                  topic:
                    -
                      name: *top_sleep
                      variable: "staa002"
                    -  
                      name: *top_sleep_weekend
                      variable: "staa005"
                    -  
                      name: *top_sleep_enough
                      variable: "staa003"
                    -
                      name: *top_sleep_not_enough
                      variable: *var_staa004_n
                      condition:
                        name: *var_sleep_not_enough
                        value: *T
                    -  
                      name: *top_writing_homework_hours
                      variable: "staa053"
                    -  
                      name: *top_writing_homework_difficulty
                      variable: "staa054"
                    #-  
                    #  name: *top_month_test
                    #  variable: "staa055"
                    -  
                      name: *top_year_reading
                      variable: "staa056"
                      
                    
            - 
              name: *dom_st_learning
              
              dimention:
                -
                  name: *dim_st_pressure
                  perspective: *perspective_total_only
                  topic:
                    -
                      name: "如果学校公布成绩和名次，我会非常有压力"
                      variable: "staa048"
                    -
                      name: "每次考试我总担心自己考不好"
                      variable: "staa049"
                    -
                      name: "考试之前我经常会紧张地睡不着觉"
                      variable: "staa050"
                    -
                      name: "我怕因为成绩不好而被别人看不起"
                      variable: "staa051"
                    -
                      name: "我担心自己的学习成绩让父母失望"
                      variable: "staa052" 
                -
                  name: *dim_st_motivation
                  perspective: *perspective_total_only
                  topic:
                    -
                      name: "我有时不想上学"
                      variable: "staa040"
                    -
                      name: "学习本身是一件有趣的事情"
                      variable: "staa041"
                    -
                      name: "一提起学习，我就头疼"
                      variable: "staa042"
                    -
                      name: "其他事情再有趣，我也要首先完成学习任务"
                      variable: "staa043"
                    -
                      name: "碰到做不出来的题目，我会找各种方法把它"
                      variable: "staa044" 
                    -
                      name: "不管是不是喜欢，我都会努力学好每门功课"
                      variable: "staa047"
                    -
                      name: "我认为只有获得好成绩才能得到老师和父母"
                      variable: "staa045"
                    -
                      name: "我努力学习是为了获得好成绩"
                      variable: "staa046" 
                -
                  name: *dim_st_identity
                  perspective: *perspective_total_only
                  topic:
                    -
                      name: "我和同学关系不错"
                      variable: "staa023"
                    -
                      name: "我很愿意参加自己学校组织的集体活动"
                      variable: "staa024"
                    -
                      name: "我喜欢我的学校"
                      variable: "staa025"
                    -
                      name: "我在学校时常感觉很孤独"
                      variable: "staa027"
                    -
                      name: "我非常敬佩学校老师"
                      variable: "staa017" 
                    -
                      name: "我为我的学校感到自豪"
                      variable: "staa026"
                -
                  name: *dim_st_confidence
                  perspective: *perspective_total_only
                  topic:
                    -
                      name: "我天生不是学习的料"
                      variable: "staa028"
                    -
                      name: "只要我努力就会学得更好"
                      variable: "staa029"
                    -
                      name: "如果某个问题看起来很难，我就不愿意去尝"
                      variable: "staa030"
                    -
                      name: "我相信自己能在考试中取得好成绩"
                      variable: "staa031"
                    -
                      name: "我总是能实现自己所设定的学习目标"
                      variable: "staa032" 
                    -
                      name: "凡是我感兴趣的内容我都能学得很好"
                      variable: "staa033"
                -
                  name: *dim_st_method
                  perspective: *perspective_total_only
                  topic:
                    -
                      name: "我会尝试用多种方法解决一个问题"
                      variable: "staa034"
                    -
                      name: "我能够借助一些方式，如画图、举例子、打"
                      variable: "staa035"
                    -
                      name: "我喜欢利用小组讨论来学习"
                      variable: "staa036"
                    -
                      name: "我会努力记住一些重要的概念和公式"
                      variable: "staa037"
                    -
                      name: "我了解自己的不足，并进行有针对性的复习"
                      variable: "staa038" 
                    -
                      name: "我在上课时能够主动地提出问题"
                      variable: "staa039"
                -
                  name: *dim_st_confidence

                  topic:
                    -
                      name: *top_learning_confidence
                      variable: *var_learning_confidence
                      option:        
                        - *T
                -
                  name: *dim_st_pressure
                  topic:
                    -
                      name: *top_learning_pressure
                      variable: *var_learning_pressure
                      option:        
                        - *T
                -
                  name: *dim_st_driving

                  topic:
                    -
                      name: *top_learning_motivation
                      variable: *var_learning_motivation
                      option:        
                        - *T
                -
                  name: *dim_st_identity

                  topic:
                    -
                      name: *top_school_identity
                      variable: *var_school_identity
                      option:        
                        - *T
                    
                -
                  name: *dim_st_burden

                  topic:
                    -
                      name: *top_sleep_n_hours
                      variable: "staa002"
                      option:        
                        #- "8-9小时(含8小时)"
                        - "9-10小时（含9小时）"
                        - "10小时及以上"
                    -
                      name: *top_writing_homework_n_hours_less
                      variable: "staa053"
                      option:        
                        - "1小时以内"
                        #- "1-2小时（含1小时）"
                    -
                      name: *top_writing_homework_n_hours_more
                      variable: "staa053"
                      option: 
                        - "1-2小时（含1小时）"       
                        - "2-3小时（含2小时）"
                        - "3-4小时（含3小时）"
                        - "4小时及以上"
                    -
                      name: *top_month_test
                      variable: "staa055"
                      perspective: *perspective_school
                    -
                      name: *top_learning_burden
                      variable: *var_learning_burden
                      option:        
                        - *T

                    -
                      name: *top_extra_homework_n_hours_less
                      variable: "pg012"
                      option:        
                        - "2小时以下"
                        #- "2-4小时（含2小时）"
                        - "(空)"
                        - "(跳过)"
                    
            - 
              name: *dom_st_teacher
              
              dimention:
                -
                  name: *dim_st_teacher

                  topic:
                    -
                      name: *top_teacher_relationship
                      variable: *var_teacher_relationship
                      option:        
                        - *T
                -
                  name: *dim_st_fair
                  perspective: *perspective_total_only
                  topic:
                    -
                      name: "老师和我们是朋友"
                      variable: "staa008"
                    -
                      name: "老师关心每一位学生"
                      variable: "staa009"
                    -
                      name: "老师要求我必须接受他（她）的观点"
                      variable: "staa016"
                    - 
                      name: "老师处理事情很公平"
                      variable: "staa006"
                -
                  name: *dim_st_respect
                  perspective: *perspective_total_only
                  topic:
                    -
                      name: "老师允许我们有不同的见解"
                      variable: "staa010"
                    -
                      name: "老师会耐心听我们说话"
                      variable: "staa011"
                    -
                      name: "老师不讽刺、挖苦我们"
                      variable: "staa012"
                    - 
                      name: "当我犯错误时，老师会主动询问我原因"
                      variable: "staa015"
                    - 
                      name: "老师对我们很友好"
                      variable: "staa007"
                -
                  name: *dim_st_trust
                  perspective: *perspective_total_only
                  topic:
                    -
                      name: "老师很信任我们"
                      variable: "staa013"
                    -
                      name: "老师经常鼓励我们"
                      variable: "staa014"
                    -
                      name: "我愿意把自己的心里话告诉老师"
                      variable: "staa018"
                    - 
                      name: "当我遇到学习以外的困难时，会想找老师帮"
                      variable: "staa019"
                    - 
                      name: "我愿意在老师面前展示自己"
                      variable: "staa020"

            - 
              name: *dom_st_teaching
              
              dimention:
                -
                  name: *dim_st_teaching

                  topic:
                    -
                      name: *top_teaching_method
                      variable: *var_teaching_method
                      option:        
                        - *T
                -
                  name: *dim_st_yincaishijiao
                  perspective: *perspective_total_only
                  topic:
                    -
                      name: "老师鼓励我们使用不同的学习方法"
                      variable: "staa057"
                    -
                      name: "老师给我们提出不同的学习建议"
                      variable: "staa058"
                    -
                      name: "老师给我们布置不同的学习任务"
                      variable: "staa059"
                    -
                      name: "老师指出我在学习上的优点和不足"
                      variable: "staa070"
                -
                  name: *dim_st_hudongjiaoxue
                  perspective: *perspective_total_only
                  topic:
                    -
                      name: "老师和我们共同交流学习心得"
                      variable: "staa066"
                    -
                      name: "老师对我们的表现做出及时的回应"
                      variable: "staa064"
                    -
                      name: "老师采用恰当的方法使课堂具有活跃的气氛"
                      variable: "staa060"
                    -
                      name: "老师在课上组织我们进行小组活动"
                      variable: "staa062"                      
                -
                  name: *dim_st_gulitanjiu
                  perspective: *perspective_total_only
                  topic:
                    -
                      name: "老师鼓励我们猜想并通过各种方法验证猜想"
                      variable: "staa067"
                    -
                      name: "老师引导我们提出自己的观点"
                      variable: "staa068"
                    -
                      name: "老师鼓励我们用不同的思路解决问题"
                      variable: "staa069"
                    -
                      name: "老师讲课时将所教内容与我们生活实际相联"
                      variable: "staa061"                      
                    -
                      name: "老师在课堂上设置一些让我们独立思考的问"
                      variable: "staa063"
                    -
                      name: "老师引导我们就某个问题进行讨论"
                      variable: "staa065"                      
                      

            - 
              name: *dom_st_morality
              
              dimention:
                -
                  name: *dim_st_morality

                  topic:
                    -
                      name: *top_morality
                      variable: *var_morality 
                      option:        
                        - *T
                      condition:
                        name: *var_st_survey_A
                        value: *T

                - 
                  name: *dim_st_respect_others
                  perspective: *perspective_total_only
                  topic:
                    -
                      name: "学校组织全班同学在礼堂里听讲座。你认为"
                      variable: "staa074"
                      condition:
                        name: *var_st_survey_A
                        value: *T
                    -
                      name: "如果有事要进老师办公室，你认为你们班的"
                      variable: "staa077"
                      condition:
                        name: *var_st_survey_A
                        value: *T
                    -
                      name: "如果有去敬老院为老人们服务的机会。你认"
                      variable: "staa073"
                      condition:
                        name: *var_st_survey_A
                        value: *T
                    -
                      name: "班上转来一个外地的学生，他（她）说话带"
                      variable: "staa083"
                      condition:
                        name: *var_st_survey_A
                        value: *T
                    -
                      name: "有同学在私底下骂老师，你认为你们班的同"
                      variable: "staa084"
                      condition:
                        name: *var_st_survey_A
                        value: *T
                    -
                      name: "在校园内进出或上下楼梯与老师相遇时，你"
                      variable: "staa086"
                      condition:
                        name: *var_st_survey_A
                        value: *T
                - 
                  name: *dim_st_integrity
                  perspective: *perspective_total_only
                  topic:
                    -
                      name: "如果你的同班好友在学校举办的越野长跑中"
                      variable: "staa072"
                      condition:
                        name: *var_st_survey_A
                        value: *T
                    -
                      name: "你的同学和家人在黄金周去科技馆参观，售"
                      variable: "staa076"
                      condition:
                        name: *var_st_survey_A
                        value: *T
                    -
                      name: "老师布置作文后，有同学会从范文书或网上"
                      variable: "staa078"
                      condition:
                        name: *var_st_survey_A
                        value: *T
                    -
                      name: "自己已经和同学约好周末一起去郊游，另一"
                      variable: "staa079"
                      condition:
                        name: *var_st_survey_A
                        value: *T
                    -
                      name: "考试中有些同学会在老师不注意时偷看别人"
                      variable: "staa080"
                      condition:
                        name: *var_st_survey_A
                        value: *T
                    -
                      name: "看到同学的课桌上有漂亮的文具，有人偷偷"
                      variable: "staa082"
                      condition:
                        name: *var_st_survey_A
                        value: *T

                - 
                  name: *dim_st_responsibility
                  perspective: *perspective_total_only
                  topic:
                    -
                      name: "下课时，不知道是谁把空饮料瓶扔到了操场"
                      variable: "staa075"
                      condition:
                        name: *var_st_survey_A
                        value: *T

                    -
                      name: "学校集体大扫除时，老师给每个同学都分配"
                      variable: "staa081"
                      condition:
                        name: *var_st_survey_A
                        value: *T
                    -
                      name: "同学们一起去野外郊游，走了一段路没有发"
                      variable: "staa085"
                      condition:
                        name: *var_st_survey_A
                        value: *T
            - 
              name: *dom_st_healthy
              dimention:
                -
                  name: *dim_st_psychological

                  topic:
                    -
                      name: *top_psychological_health
                      variable: *var_psychological_health   
                      option:        
                        - *T
                      condition:
                        name: *var_st_survey_A
                        value: *F
                -
                  name: *dim_st_renjimingan
                  perspective: *perspective_total_only
                  topic:
                    -
                      name: "我害怕在同学面前做自己不擅长的事情"
                      variable: "staa087"   
                      condition:
                        name: *var_st_survey_A
                        value: *F
                    -
                      name: "我担心被别人取笑"
                      variable: "staa088"   
                      condition:
                        name: *var_st_survey_A
                        value: *F
                    -
                      name: "不认识的人围着我时，我会觉得害羞"
                      variable: "staa089"   
                      condition:
                        name: *var_st_survey_A
                        value: *F
                    -
                      name: "我担心其他同学会背地里说我"
                      variable: "staa094"   
                      condition:
                        name: *var_st_survey_A
                        value: *F
                    -
                      name: "我担心别的小朋友会不喜欢我"
                      variable: "staa103"   
                      condition:
                        name: *var_st_survey_A
                        value: *F
                    
                -
                  name: *dim_st_renjiguanxi
                  perspective: *perspective_total_only
                  topic:
                    -
                      name: "我与父母相处得很好"
                      variable: "staa090"   
                      condition:
                        name: *var_st_survey_A
                        value: *F
                    -
                      name: "我很容易和其他同学成为朋友"
                      variable: "staa091"   
                      condition:
                        name: *var_st_survey_A
                        value: *F
                    -
                      name: "同学们不喜欢和我做朋友"
                      variable: "staa095"   
                      condition:
                        name: *var_st_survey_A
                        value: *F
                    -
                      name: "我能很好地与同学相处"
                      variable: "staa096"   
                      condition:
                        name: *var_st_survey_A
                        value: *F
                    -
                      name: "我的父母不理解我"
                      variable: "staa097"   
                      condition:
                        name: *var_st_survey_A
                        value: *F
                    -
                      name: "我不喜欢我的父母"
                      variable: "staa098"   
                      condition:
                        name: *var_st_survey_A
                        value: *F
                    -
                      name: "大多数同学都不理睬我"
                      variable: "staa099"   
                      condition:
                        name: *var_st_survey_A
                        value: *F
                    -
                      name: "我觉得父母很爱我"
                      variable: "staa100"   
                      condition:
                        name: *var_st_survey_A
                        value: *F
                -
                  name: *dim_st_self_respect
                  perspective: *perspective_total_only
                  topic:
                    -
                      name: "我对自己的外貌感到满意"
                      variable: "staa092"   
                      condition:
                        name: *var_st_survey_A
                        value: *F
                    -
                      name: "我对自己的外表很自信"
                      variable: "staa093"   
                      condition:
                        name: *var_st_survey_A
                        value: *F
                    -
                      name: "我觉得自己比多数同学长得好看"
                      variable: "staa101"   
                      condition:
                        name: *var_st_survey_A
                        value: *F
                    -
                      name: "我对自己的长相不太满意"
                      variable: "staa102"   
                      condition:
                        name: *var_st_survey_A
                        value: *F
 
    index:
      table.in: *s_survey_st
      table.out: *i_survey_st

      assesment: *def_assesment
      grade: *def_grade
      tier: *tier_topic
      perspective: *perspective_student_survey

      stat:
        -
          statistics: 
            - *index_percent

          domain:

            - 
              name: *dom_st_learning

              dimention:
                -
                  name: *dim_st_confidence

                  topic:
                    -
                      index: *idx_confidence
                      name: *top_learning_confidence
                      stat: *stat_percent
                      key:
                        - *T
                -
                  name: *dim_st_pressure

                  topic:
                    -
                      index: *idx_pressure
                      coef: *coef_pressure
                      name: *top_learning_pressure
                      stat: *stat_percent
                      key:
                        - *T
                -
                  name: *dim_st_driving
                  topic:
                    -
                      index: *idx_motivation
                      coef: *coef_motivation
                      name: *top_learning_motivation
                      stat: *stat_percent
                      key:
                        - *T
                -
                  name: *dim_st_identity

                  topic:
                    -
                      index: *idx_school_identiy
                      name: *top_school_identity
                      stat: *stat_percent
                      key:
                        - *T
                -
                  name: *dim_st_burden

                  topic:
                    -
                      index: *idx_sleep
                      coef: *coef_sleep
                      name: *top_sleep_n_hours
                      stat: *stat_percent
                      key:
                        - *T
                    -
                      index: *idx_writing_homework
                      coef:  *coef_writing_homework
                      name: *top_writing_homework_n_hours_less
                      stat: *stat_percent
                      key:
                        - *T
                    -
                      index: *idx_extra_homework
                      coef: *coef_extra_homework
                      name: *top_extra_homework_n_hours_less
                      stat: *stat_percent
                      key:
                        - *T
                    -
                      index: *idx_burden
                      name: *top_learning_burden
                      stat: *stat_percent
                      key:
                        - *T

            - 
              name: *dom_st_morality

              dimention:
                -
                  name: *dim_st_morality

                  topic:
                    -
                      index: *idx_morality
                      name: *top_morality
                      stat: *stat_percent
                      key:
                        - *T

            - 
              name: *dom_st_healthy

              dimention:
                -
                  name: *dim_st_psychological

                  topic:
                    -
                      index: *idx_psychological
                      name: *top_psychological_health
                      stat: *stat_percent
                      key:
                        - *T 

            - 
              name: *dom_st_teacher

              dimention:
                -
                  name: *dim_st_teacher

                  topic:
                    -
                      index: *idx_teacher
                      coef: *coef_teacher
                      name: *top_teacher_relationship
                      stat: *stat_percent
                      key:
                        - *T
            - 
              name: *dom_st_teaching

              dimention:
                -
                  name: *dim_st_teaching

                  topic:
                    -
                      index: *idx_teaching
                      coef: *coef_teaching
                      name: *top_teaching_method
                      stat: *stat_percent
                      key:
                        - *T

  -
    process: TRUE
    subject: *survey_te
    table: *table_te

    check:
      -
        set: 
          - "tec012"
          - "tec013"
          - "tec014"
          - "tec015"
          - "tec016"
      -
        set: 
          - "tec041"
          - "tec042"
          - "tec043"
          - "tec044"
          - "tec045"
          - "tec046"
          - "tec047"
          - "tec048"
      - 
        set: 
          - "tec066"
          - "tec067"
          - "tec068"
          - "tec069"
          - "tec070"
          - "tec071"
          - "tec072"
          - "tec073"
          - "tec074"
          - "tec075"
          - "tec076"
          - "tec077"
          - "tec078"
          - "tec079" 
      -  
        set: 
          - "tec059"
          - "tec060"
          - "tec061"
          - "tec062"
          - "tec063"
          - "tec064"
          - "tec065"
      - 
        set: 
          - "tec049"
          - "tec050"
          - "tec051"
          - "tec052"
          - "tec053"
          - "tec054"
          - "tec055"
          - "tec056"
          - "tec057"
          - "tec058"
      -
        set: 
          - "tec024"
          - "tec025"
          - "tec026"
          - "tec027"
          - "tec028"
      -
        set: 
          - "tec029"
          - "tec030"
          - "tec031"
          - "tec032"
          - "tec033"
      -
        set: 
          - "tec034"
          - "tec035"
          - "tec037"
          - "tec038"
          - "tec040"
      -
        set: 
          - "tec017"
          - "tec018"
          - "tec019"
          - "tec020"
          - "tec021"
      - 
        set: 
          - "tec022"
          - "tec023"
          - "tec036"
          - "tec039"

    merge:
      -
        table.merge: *m_survey_te
        merge.by: "学校代码"
        table.left: 
          tab.name: *o_survey_te
        table.right:
          tab.name: *table_school
          drop:
            - "区县名称"
          rename: 
            - 
              old: "学校名称"
              new: "学校"
        drop:
          - "学校代码"
      -
        table.merge: *m_survey_te
        merge.by: "区县编码"
        table.left: 
          tab.name: *m_survey_te
        table.right:
          tab.name: *table_county
          drop:
            - "区县代码"
            - "区县别名"
          rename:
            -
              old: "区县名称"
              new: "区县"
        drop:
          - "区县编码"

    weight:
      -
        algorithm: *w_algo_individual
        col.weight: *w_col_individual
        table.out: *w_survey_te
        table.in: *m_survey_te
      -
        algorithm: *w_algo_group
        col.group: *tier_school
        col.weight: *w_col_school
        table.out: *w_survey_te
        table.in: *w_survey_te

    clean:
      table.in: *w_survey_te
      table.out: *c_survey_te

    variable:
      table.in: *c_survey_te
      table.out: *v_survey_te
      var:
        -
          var.name: *var_name_subject
          var.type: *var_type_constant
          var.value: *survey_te
        -
          var.name: *var_name_total
          var.type: *var_type_constant
          var.value: *var_value_total
        #-
        #  var.name: *tier_province
        #  var.type: *var_type_constant
        #  var.value: *sample_province

        -
          var.name: *var_course_leadership
          var.type: *var_type_polymer
          var.column:
            -
              col.name:
                - "tec017"
                - "tec018"
                - "tec019"
                - "tec020"
                - "tec021"
                - "tec022"
                - "tec023"
                - "tec029"
                - "tec030"
                - "tec031"
                - "tec032"
                - "tec033"
                - "tec034"
                - "tec035"
                - "tec036"
                - "tec037"
                - "tec038"
                - "tec030"
                - "tec040"
              col.value:
                - "非常符合"
                - "比较符合"
          var.threshold: 11
          var.option:
            T: *T
            F: *F

    statistics:
      table.in: *v_survey_te
      table.out: *s_survey_te

      assesment: *def_assesment
      grade: *def_grade
      tier: *tier_topic
      perspective: *perspective_school

      stat:
        -
          statistics: 
            - *stat_percent
          weight:
            - *w_col_individual

          domain:
            -
              name: *dom_te_info

              dimention:
                -
                  name: *dim_te_info

                  topic:
                    -
                      name: *top_te_gender
                      variable: "tec001"
                    - 
                      name: *top_te_years
                      variable: "tec002"
                    - 
                      name: *top_te_title
                      variable: "tec003"
                    -
                      name: *top_te_edu
                      variable: "tec004"
                    -
                      name: *top_te_normal_edu
                      variable:  "tec005"
                    - 
                      name: *top_te_major_match
                      variable: "tec007"
                    - 
                      name: *top_te_weekly_hours
                      variable: "tec008"
                    -
                      name: *top_te_daily_hours
                      variable: "tec009"
                    -
                      name: *top_te_job_favorite
                      variable: "tec010"
                    - 
                      name: *top_te_job_quit
                      variable: "tec011"
            - 
              name: *dom_te_feelings

              dimention:
                - 
                  name: *dim_te_feelings
                  perspective: *perspective_total_only
                  topic:
                    - 
                      name: "如果可能的话我会换到一所新的学校去工作"
                      variable: "tec012"
                    - 
                      name: "学校用学生成绩给教师排队令我感到压力很"
                      variable: "tec013"
                    - 
                      name: "我喜欢在这个学校工作"
                      variable: "tec014"
                    - 
                      name: "我工作上的付出和回报不成比例"
                      variable: "tec015"
                    - 
                      name: "总体而言，我很满意自己现在的工作"
                      variable: "tec016"
            
            -
              name: *dom_te_teaching
              
              dimention:
                -
                  name: *dim_te_philosophy
                  perspective: *perspective_total_only
                  topic:
                    -
                      name: "教学最本质的内涵是传授知识"
                      variable: "tec041"
                    -
                      name: "学生学习的过程，就是逐步学会做人的过程"
                      variable: "tec042"
                    -
                      name: "作为教师，我的角色就是引导学生自行探究"
                      variable: "tec043"
                    -
                      name: "对学生最大的期望在于通过教学使他们变得"
                      variable: "tec044"
                    -
                      name: "在课堂上应尽可能多创造机会让学生向教师"
                      variable: "tec045"
                    -
                      name: "组织学生探究费时费力，会选择重要的内容"
                      variable: "tec046"
                    -
                      name: "思考和推理过程比具体的课程内容更重要"
                      variable: "tec047"
                    -
                      name: "对学生最大的期望在于他们能牢记课本的知"
                      variable: "tec048"
                -
                  name: *dim_te_method
                  perspective: *perspective_total_only
                  topic:
                    -
                      name: "鼓励学生使用不同的学习方法"
                      variable: "tec066"  
                    -
                      name: "给学生提出不同的学习建议"
                      variable: "tec067"  
                    -
                      name: "给学生布置不同的学习任务"
                      variable: "tec068"  
                    -
                      name: "采用恰当的方法使课堂具有活跃的气氛"
                      variable: "tec069"  
                    -
                      name: "在讲课时将所教的内容与学生的生活实际相"
                      variable: "tec070"  
                    -
                      name: "在课上组织学生进行小组活动"
                      variable: "tec071"  
                    -
                      name: "在课堂上设置一些让学生独立思考的问题"
                      variable: "tec072"  
                    -
                      name: "对学生的表现做出及时的回应"
                      variable: "tec073"  
                    -
                      name: "引导学生就某个问题进行讨论"
                      variable: "tec074"  
                    -
                      name: "和学生共同交流学习心得"
                      variable: "tec075"  
                    -
                      name: "鼓励学生猜想并通过各种方法验证猜想"
                      variable: "tec076"  
                    -
                      name: "引导学生提出自己的观点"
                      variable: "tec077"  
                    -
                      name: "鼓励学生用不同的思路解决问题"
                      variable: "tec078"  
                    -
                      name: "指出学生在学习上的优点和不足"
                      variable: "tec079"  
                    
            -
              name: *dom_te_career
              perspective: *perspective_total_only
              dimention:
                - 
                  name: *dim_te_activity

                  topic:
                    -  
                      name: "听专家讲座"
                      variable: "tec059"
                    -  
                      name: "参加课题研究"
                      variable: "tec060"
                    -  
                      name: "参加学校或教研部门组织的教研活动"
                      variable: "tec061"
                    -  
                      name: "观摩他人的课并在课后进行研讨"
                      variable: "tec062"
                    -  
                      name: "与同事分享经验、讨论问题"
                      variable: "tec063"
                    -  
                      name: "对教学案例进行分析"
                      variable: "tec064"
                    -  
                      name: "自己学习或反思，如写教学日记"
                      variable: "tec065"
                - 
                  name: *dim_te_requirement
                  perspective: *perspective_total_only
                  topic:
                    -  
                      name: "对我所教学科领域的知识"
                      variable: "tec049"
                    -  
                      name: "教学技能"
                      variable: "tec050"
                    -  
                      name: "学科育人"
                      variable: "tec051"
                    -  
                      name: "学生评价和测试方法"
                      variable: "tec052"
                    -  
                      name: "信息技术应用能力"
                      variable: "tec053"
                    -  
                      name: "学生行为和课堂管理"
                      variable: "tec054"
                    -  
                      name: "学校行政和管理"
                      variable: "tec055"
                    -  
                      name: "个性化教学的方法"
                      variable: "tec056"
                    -  
                      name: "对学困生的教育"
                      variable: "tec057"
                    -  
                      name: "跨学科技能的教学（诸如问题解决能力"
                      variable: "tec058"
                    
                - 
                  name: *dim_te_difficulty
                  perspective: *perspective_total_only
                  topic:
                    -  
                      name: "我缺乏参加专业发展活动的机会"
                      variable: "tec024"
                    -  
                      name: "专业发展活动同我的工作时间冲突"
                      variable: "tec025"
                    -  
                      name: "我缺乏参加专业活动的资金"
                      variable: "tec026"
                    -  
                      name: "身边没有相关的专业发展活动开展"
                      variable: "tec027"
                    -  
                      name: "参加这种活动没有报酬"
                      variable: "tec028"
                
            - 
              name: *dom_te_course
              
              dimention:
                -
                  name: *dim_te_development
                  perspective: *perspective_total_only
                  topic:
                    - 
                      name: "学校成立了课程开发领导小组负责组织学校"
                      variable: "tec029"
                    - 
                      name: "学校能带领全体教师为实现课程目标共同努"
                      variable: "tec030"
                    - 
                      name: "学校的课程建设思路与方案具有本校特色"
                      variable: "tec031"
                    - 
                      name: "学校的课程规划与学校的办学理念和办学目"
                      variable: "tec032"
                    - 
                      name: "学校很重视探究型课程与拓展型课程的建设"
                      variable: "tec033"
                -
                  name: *dim_te_management
                  perspective: *perspective_total_only
                  topic:
                    - 
                      name: "学校使教师有机会畅所欲言表达自己的意见"
                      variable: "tec017"
                    - 
                      name: "学校能鼓励教师尝试新的教学方法与接受新"
                      variable: "tec018"
                    - 
                      name: "学校能够给予教师教学自主权"
                      variable: "tec019"
                    - 
                      name: "校长能领导学校各职能部门积极支持教学"
                      variable: "tec020"
                    - 
                      name: "学校能考虑教师的专长及能力来安排教师的"
                      variable: "tec021"

                -
                  name: *dim_te_implement
                  perspective: *perspective_total_only
                  topic:
                    - 
                      name: "校长善于利用校内外各种资源服务于各学科"
                      variable: "tec034"
                    - 
                      name: "学校经常组织学生参加校外的各类社会实践"
                      variable: "tec035"
                    - 
                      name: "学校领导班子经常参加学校的教研和备课活"
                      variable: "tec037"
                    - 
                      name: "学校领导班子经常到教室听课，并能给授"
                      variable: "tec038"
                    - 
                      name: "学校很重视学生对每门课程教学质量改进"
                      variable: "tec040"
                -
                  name: *dim_te_evaluation
                  perspective: *perspective_total_only
                  topic:
                    - 
                      name: "学校建立了本校的教学质量保障系统并能定"
                      variable: "tec022"
                    - 
                      name: "学校能根据课程与教学诊断的结果及时调整"
                      variable: "tec023"
                    - 
                      name: '学校对教师“教学过程”的关注甚于对“教'
                      variable: "tec036"
                    - 
                      name: "学校很关注学生在学校是否学得开心、愉"
                      variable: "tec039"
                    
                -
                  name: *dim_te_course

                  topic:
                    -
                      name: *top_course_leadership
                      variable: *var_course_leadership
                      option:        
                        - *T
                      weight:
                        - *w_col_school

    index:
      table.in: *s_survey_te
      table.out: *i_survey_te

      assesment: *def_assesment
      grade: *def_grade
      tier: *tier_topic
      perspective: *perspective_school

      stat:
        -
          statistics: 
            - *index_percent

          domain:
            - 
              name: *dom_te_course

              dimention:
                -
                  name: *dim_te_course

                  topic:
                    -
                      index: *idx_course_leadership
                      coef: *coef_course_leadership
                      name: *top_course_leadership
                      stat: *stat_percent
                      key:
                        - *T

  -
    process: TRUE
    subject: *survey_pr
    table: *table_pr

    check:
      -
        set: 
          - "se026"
          - "se027"
          - "se028"
          - "se029"
          - "se030"
          - "se031"
          - "se032"
          - "se033"
          - "se034"
          - "se035"
          - "se036"
          - "se037"
          - "se038"
      -
        set: 
          - "se042"
          - "se043"
          - "se044"
          - "se045"
          - "se046"
          - "se047"
          - "se048"
          - "se049"
      - 
        set: 
          - "se050"
          - "se051"
          - "se052"
          - "se053"
          - "se054"
          - "se055"
          - "se056"
          - "se057"

    merge:
      -
        table.merge: *m_survey_pr
        merge.by: "学校代码"
        table.left: 
          tab.name: *o_survey_pr
        table.right:
          tab.name: *table_school
          drop:
            - "区县名称"
          rename: 
            - 
              old: "学校名称"
              new: "学校"
        drop:
          - "学校代码"
      -
        table.merge: *m_survey_pr
        merge.by: "区县编码"
        table.left: 
          tab.name: *m_survey_pr
        table.right:
          tab.name: *table_county
          drop:
            - "区县代码"
            - "区县别名"
          rename:
            -
              old: "区县名称"
              new: "区县"
        drop:
          - "区县编码"

    weight:
      -
        algorithm: *w_algo_individual
        col.weight: *w_col_individual
        table.out: *w_survey_pr
        table.in: *m_survey_pr
      -
        algorithm: *w_algo_group
        col.group: *tier_school
        col.weight: *w_col_school
        table.out: *w_survey_pr
        table.in: *w_survey_pr

    clean:
      table.in: *w_survey_pr
      table.out: *c_survey_pr

    variable:
      table.in: *c_survey_pr
      table.out: *v_survey_pr
      var:
        -
          var.name: *var_name_subject
          var.type: *var_type_constant
          var.value: *survey_pr
        -
          var.name: *var_name_total
          var.type: *var_type_constant
          var.value: *var_value_total
        #-
        #  var.name: *tier_province
        #  var.type: *var_type_constant
        #  var.value: *sample_province

    statistics:
      table.in: *v_survey_pr
      table.out: *s_survey_pr

      assesment: *def_assesment
      grade: *def_grade
      tier: *tier_topic
      perspective: *perspective_school

      stat:
        -
          statistics: 
            - *stat_percent
          weight:
            - *w_col_individual

          domain:
            -
              name: *dom_pr_info

              dimention:
                -
                  name: *dim_pr_info

                  topic:
                    -
                      name: *top_pr_gender
                      variable: "se001"
                    -
                      name: *top_pr_age
                      variable: "se002"
                    -
                      name: *top_pr_years
                      variable: "se003"
                    -
                      name: *top_pr_edu
                      variable: "se004"
                    -
                      name: *top_pr_title
                      variable: "se005"
                    -
                      name: *top_school_history
                      variable: "se006"
                    -
                      name: *top_pr_all_edu
                      statistics: *stat_percent_weight_count
                      
                      weight: 
                        - *w_col_school
                      variable:
                        count: "se008"
                        column:
                          -
                            variable: "se011"
                            key: "中师或中专、高中及以下"
                          - 
                            variable: "se012"
                            key: "大专"
                          -
                            variable: "se013"
                            key: "本科"
                          -
                            variable: "se014"
                            key: "研究生"
                    -
                      name: *top_pr_all_title
                      statistics: *stat_percent_weight_count
                      weight: *w_col_school
                      variable:
                        count: "se008"
                        column:
                          -
                            variable: "se015"
                            key: "未定或没有"
                          - 
                            variable: "se016"
                            key: "小学二级"
                          -
                            variable: "se017"
                            key: "小学一级"
                          -
                            variable: "se018"
                            key: "小学高级"
                          - 
                            variable: "se019"
                            key: "中学高级"
            -
              name: *dom_pr_daily

              dimention:
                -
                  name: *dim_pr_daily
                  statistics: 
                    - *stat_mean
                  topic:
                    -
                      name: *top_pr_meeting
                      variable: "se020"
                      key: *key_percent
                    -
                      name: *top_pr_instructing
                      variable: "se021" 
                      key: *key_percent
                    -
                      name: *top_pr_researching
                      variable: "se022" 
                      key: *key_percent
                    -
                      name: *top_pr_evaluation
                      variable: "se023" 
                      key: *key_percent
                    -
                      name: *top_pr_financing
                      variable: "se024" 
                      key: *key_percent
                    -
                      name: *top_pr_communication
                      variable: "se025" 
                      key: *key_percent

            -
              name: *dom_pr_development
              
              dimention:
                -
                  name: *dim_pr_challenge
                  perspective: *perspective_total_only
                  topic:
                    -
                      name: "缺乏高素质的教师"
                      variable: "se026" 
                    -
                      name: "缺乏能对特殊需求学生进行教学的教"
                      variable: "se027" 
                    -
                      name: "缺乏或没有足够的实验室"
                      variable: "se028" 
                    -
                      name: "缺乏或没有足够的电脑用于教学"
                      variable: "se029" 
                    -
                      name: "缺乏或没有足够的图书馆资源"
                      variable: "se030" 
                    -
                      name: "缺乏足够的学校预算和资源"
                      variable: "se031" 
                    -
                      name: "政府条例和政策"
                      variable: "se032" 
                    -
                      name: "缺少家长或监护人的参与和支持"
                      variable: "se033" 
                    -
                      name: "缺少提高我自身专业发展的机会和支"
                      variable: "se034" 
                    -
                      name: "缺少提高教师专业发展的机会和支"
                      variable: "se035" 
                    -
                      name: "较多高强度负荷和高级别责任的工"
                      variable: "se036" 
                    -
                      name: "缺乏和其他员工共同管理学校"
                      variable: "se037" 
                    -
                      name: "缺乏优质的生源"
                      variable: "se038" 
                -
                  name: *dim_pr_performance
                  topic:
                    -
                      name: *top_pr_publishing
                      variable: "se039" 
                    -
                      name: *top_pr_course
                      variable: "se041" 
                    -
                      name: *top_pr_community
                      variable: "se040" 
                -
                  name: *dim_pr_feelings
                  perspective: *perspective_total_only
                  topic:
                    -
                      name: "教师对工作的满意度"
                      variable: "se042" 
                    -
                      name: "教师对学校课程目标的了解"
                      variable: "se043" 
                    -
                      name: "教师达成学校课程进度的程度"
                      variable: "se044" 
                    -
                      name: "教师对学生学习成绩的期望"
                      variable: "se045" 
                    -
                      name: "家长对学生学习的支持"
                      variable: "se046" 
                    -
                      name: "家长对学校活动的参与"
                      variable: "se047" 
                    -
                      name: "学生爱惜学校物品的程度"
                      variable: "se048" 
                    -
                      name: "学生力求在校表现良好的意愿"
                      variable: "se049" 
                -
                  name: *dim_pr_philosophy
                  perspective: *perspective_total_only
                  topic:
                    -
                      name: "教学最本质的内涵是传授知识"
                      variable: "se050" 
                    -
                      name: "学生学习的过程，就是逐步学会做人"
                      variable: "se051" 
                    -
                      name: "教师的角色就是引导学生自行探究"
                      variable: "se052" 
                    -
                      name: "对学生最大的期望在于通过教学使他"
                      variable: "se053" 
                    -
                      name: "教师在课堂上应尽可能多创造机会让"
                      variable: "se054" 
                    -
                      name: "教师组织学生探究费时费力，还不如"
                      variable: "se055" 
                    -
                      name: "思考和推理过程比具体的课程内容更"
                      variable: "se056" 
                    -
                      name: "对学生最大的期望在于他们能牢记课"
                      variable: "se057" 
                     
  -
    process: TRUE
    subject: *survey_pa
    table: *table_pa

    check:
      -
        set: 
          - "pg051"
          - "pg052"
          #- "pg037" need independent figure
      -
        set: 
          - "pg022"
          - "pg023"
          - "pg024"
          - "pg025"
          - "pg026"
          - "pg027"
          - "pg028"
          - "pg029"
          - "pg030"
          #- "pg031" need independent figure

    merge:
      -
        table.merge: *m_survey_pa
        merge.by: "准考证号"
        table.left: 
          tab.name: *o_survey_pa
        table.right:
          tab.name: *table_student
          drop:
            - "学生姓名"
            - "班级"
            - "区县编码"
            - "区县名称"
            - "学校名称"
            - "办学"
            - "学制"
      -
        table.merge: *m_survey_pa
        merge.by: "学校代码"
        table.left: 
          tab.name: *m_survey_pa
        table.right:
          tab.name: *table_school
          drop:
            - "区县名称"
          rename: 
            - 
              old: "学校名称"
              new: "学校"
        drop:
          - "学校代码"        
      -
        table.merge: *m_survey_pa
        merge.by: "区县编码"
        table.left: 
          tab.name: *m_survey_pa
        table.right:
          tab.name: *table_county
          drop:
            - "区县代码"
            - "区县别名"
          rename:
            -
              old: "区县名称"
              new: "区县"
        drop:
          - "区县编码"

    weight:
      -
        algorithm: *w_algo_individual
        col.weight: *w_col_individual
        table.out: *w_survey_pa
        table.in: *m_survey_pa
      -
        algorithm: *w_algo_group
        col.group: *tier_school
        col.weight: *w_col_school
        table.out: *w_survey_pa
        table.in: *w_survey_pa

    clean:
      table.in: *w_survey_pa
      table.out: *c_survey_pa

    variable:
      table.in: *c_survey_pa
      table.out: *v_survey_pa
      var:
        -
          var.name: *var_name_subject
          var.type: *var_type_constant
          var.value: *survey_pa
        -
          var.name: *var_name_total
          var.type: *var_type_constant
          var.value: *var_value_total
        #-
        #  var.name: *tier_province
        #  var.type: *var_type_constant
        #  var.value: *sample_province
        -
          var.name: "pg003"
          var.type: *var_type_derivative
          var.option: *var_value_family_member
          var.column: *var_family_member
        -
          var.name: *var_family
          var.type: *var_type_classify
          var.default: *var_value_family_core
          var.column: # column order dependent
            -
              col.name:
                - "家庭_祖父母"
              col.value:
                - "孩子（外）祖父母"
              col.class: *var_value_family_main
            -
              col.name:
                - "家庭_其他"
              col.value:
                - "其他"
              col.class: *var_value_family_extend

        -
          var.name: "pg011"
          var.type: *var_type_derivative
          var.option: *var_value_extra_homework_subject
          var.column: *var_extra_homework_subject
        -
          var.name: *var_extra_homework
          var.type: *var_type_polymer
          var.column: # one by one from var_extra_homework_subject, var_value__extra_homework_subject
            -
              col.name:
                - "家教补习_语文"
              col.value:
                - "语文"
            -
              col.name:
                - "家教补习_数学"
              col.value:
                - "数学"
            -
              col.name:
                - "家教补习_英语"
              col.value:
                - "英语"
          var.threshold: 0
          var.option:
            T: *T
            F: *F
        -
          var.name: *var_extra_homework_hour_not_null
          var.type: *var_type_polymer
          var.column: # one by one from var_extra_homework_subject, var_value__extra_homework_subject
            -
              col.name:
                - "pg012"
              col.value:
                - "2小时以下"
                - "2-4小时（含2小时）"
                - "4-6小时（含4小时）"
                - "6-8小时（含6小时）"
                - "8小时及以上"
          var.threshold: 0
          var.option:
            T: *T
            F: *F
        -
          var.name: "pg013"
          var.type: *var_type_derivative
          var.option: *var_value_extra_homework_reason
          var.column: *var_extra_homework_reason
          
        -
          var.name: "pg014"
          var.type: *var_type_derivative
          var.option: *var_value_extra_interesting_subject
          var.column: *var_extra_interesting_subject
        
        -
          var.name: *var_extra_interesting
          var.type: *var_type_polymer
          var.column:
            -
              col.name:
                - "兴趣班_器乐类"
              col.value:
                - "器乐类"
            -
              col.name:
                - "兴趣班_舞蹈类"
              col.value:
                - "舞蹈类"
            -
              col.name:
                - "兴趣班_歌唱类"
              col.value:
                - "歌唱类"
            -
              col.name:
                - "兴趣班_绘画类"
              col.value:
                - "绘画类"
            -
              col.name:
                - "兴趣班_体育类"
              col.value:
                - "体育类"
            -
              col.name:
                - "兴趣班_信息类"
              col.value:
                - "信息类"
            -
              col.name:
                - "兴趣班_棋类"
              col.value:
                - "棋类"
            -
              col.name:
                - "兴趣班_其他类"
              col.value:
                - "其他类"
              
          var.threshold: 0
          var.option:
            T: *T
            F: *F

        -
          var.name: *var_extra_interesting_hour_not_null
          var.type: *var_type_polymer
          var.column:
            -
              col.name:
                - "pg015"
              col.value:
                - "1小时以下"
                - "1-2小时（含1小时）"
                - "2-3小时（含2小时）"
                - "3-4小时（含3小时）"
                - "4-5小时（含4小时）"
                - "5小时及以上"
          var.threshold: 0
          var.option:
            T: *T
            F: *F

        -
          var.name: "pg016"
          var.type: *var_type_derivative
          var.option: *var_value_extra_interesting_reason
          var.column: *var_extra_interesting_reason
        -
          var.name: "pg039"
          var.type: *var_type_derivative
          var.option: *var_value_school_reasonable
          var.column: *var_school_reasonable

    statistics:
      table.in: *v_survey_pa
      table.out: *s_survey_pa

      assesment: *def_assesment
      grade: *def_grade
      tier: *tier_topic
      perspective: *perspective_student_survey

      stat:
        -
          statistics: 
            - *stat_percent
          weight:
            - *w_col_individual

          domain:
            - 
              name: *dom_pa_info

              dimention:
                -
                  name: *dim_pa_family

                  topic:
                    -
                      name: *top_one_child_pa
                      variable: "pg002"
                    -
                      name: *top_books
                      variable: "pg008"
                    -
                      name: *top_cars
                      variable: "pg009"
                    -
                      name: *top_oversea_trip
                      variable: "pg010"
                    -
                      name: *top_father_edu
                      variable: "pg005"
                    -
                      name: *top_mother_edu
                      variable: "pg006"
        
                    -
                      name: *top_family_structure
                      variable: *var_family
                    
                -
                  name: *dim_pa_live

                  topic:
                    -
                      name: *top_extra_homework_hour
                      variable: "pg012"
                      condition:
                        name: *var_extra_homework_hour_not_null
                        value: *T
                    -
                      name: *top_extra_homework_hour_all
                      variable: "pg012"
                      
                    -
                      name: *top_extra_homework_yes
                      variable: "pg012"
                      option:        
                        - "2小时以下"
                        - "2-4小时（含2小时）"
                        - "4-6小时（含4小时）"
                        - "6-8小时（含6小时）"
                        - "8小时及以上"
                    -
                      name: *top_extra_homework_n_hours_less
                      variable: "pg012"
                      option:        
                        - "2小时以下"                        
                        - "(空)"
                        - "(跳过)"
                    -
                      name: *top_extra_homework_n_hours_more
                      variable: "pg012"
                      option:  
                        - "2-4小时（含2小时）"      
                        - "4-6小时（含4小时）"
                        - "6-8小时（含6小时）"
                        - "8小时及以上"
                    -
                      name: *top_extra_interesting_yes
                      variable: "pg015"
                      option:        
                        - "1小时以下"
                        - "1-2小时（含1小时）"
                        - "2-3小时（含2小时）"
                        - "3-4小时（含3小时）"
                        - "4-5小时（含4小时）"
                        - "5小时及以上"
                    -
                      name: *top_extra_homework_subject
                      variable: *var_extra_homework_subject
                      condition:
                        name: *var_extra_homework
                        value: *T
                    -
                      name: *top_extra_homework_reason
                      variable: *var_extra_homework_reason
                      condition:
                        name: *var_extra_homework
                        value: *T
                    
                    -
                      name: *top_extra_interesting_subject
                      variable: *var_extra_interesting_subject
                      condition:
                        name: *var_extra_interesting
                        value: *T
                    - 
                      name: *top_extra_interesting_hour
                      variable: "pg015"
                      condition:
                        name: *var_extra_interesting_hour_not_null
                        value: *T
                    - 
                      name: *top_extra_interesting_hour_all
                      variable: "pg015"
                    - 
                      name: *top_extra_interesting_reason
                      variable: *var_extra_interesting_reason
                      condition:
                        name: *var_extra_interesting
                        value: *T
                    - 
                      name: *top_daily_sport_hour
                      variable: "pg020"
            -
              name: *dom_pa_relationship
              dimention: 
                -
                  name: *dim_pa_relationship
                  topic:
                    - 
                      name: *top_query_about_school
                      variable: "pg033"
                    -
                      name: *top_family_discuss
                      variable: "pg036"
                    -
                      name: *top_family_work
                      variable: "pg035"
                    - 
                      name: *top_parent_accompany
                      variable: "pg034"
                    -  
                      name: *top_quarrel_frequency
                      variable: "pg040"
                    - 
                      name: *top_quarrel_level
                      variable: "pg041"
            -
              name:  *dom_pa_education
              dimention:
                - 
                  name:  *dim_pa_coach
                  #perspective: *perspective_total_only
                  topic:
                    -  
                      name: "我没有足够的能力辅导孩子对学校功课的"
                      variable: "pg051"
                    -  
                      name: "我没有时间辅导孩子对学校功课的学习"
                      variable: "pg052"
                -
                  name: *dim_pa_coach_person
                  topic:
                    - 
                      name: "您家里负责孩子学习的人主要是？"
                      variable: "pg037"
            
                - 
                  name: *dim_pa_feelings
                  perspective: *perspective_total_only
                  topic:
                    - 
                      name: "学校老师对我孩子很公平"
                      variable: "pg022"
                    - 
                      name: "如果我孩子需要额外的帮助，都能从老师那"
                      variable: "pg023"
                    - 
                      name: "学校老师关心我孩子的身心健康"
                      variable: "pg024"
                    - 
                      name: "学校老师对我孩子的学习很关心"
                      variable: "pg025"
                    - 
                      name: "我孩子喜欢学校"
                      variable: "pg026"
                    - 
                      name: "学校经常让家长知道孩子在学校的情况"
                      variable: "pg027"
                    - 
                      name: "我有足够渠道向学校表达意见，如家长日"
                      variable: "pg028"
                    - 
                      name: "学校时常邀请家长参与学校活动"
                      variable: "pg029"
                    - 
                      name: "老师对我孩子很了解"
                      variable: "pg030"
                -
                  name: *dim_pa_satisfaction
                  topic:
                    - 
                      name: "您对孩子学校的满意度情况是"
                      variable: "pg031"
                -
                  name: *dim_pa_expection
                  topic:
                    -
                      name: "您期待孩子将来上学上到什么程度"
                      variable: "pg004"
                - 
                  name: *dim_pa_philosophy
                  perspective: *perspective_total_only
                  topic:
                    - 
                      name: "学校老师应该对孩子的学习成绩承担主要责"
                      variable: "pg042"
                    - 
                      name: "孩子是坐在教室的前面还是后面，对孩子的"
                      variable: "pg043"
                    - 
                      name: "我认为孩子之间发生小摩擦时，应该由他们"
                      variable: "pg045"
                    - 
                      name: "如果我孩子没有担任班干部，我心里有点不"
                      variable: "pg046"
                    - 
                      name: "教孩子学会做人是家庭教育最重要的任务"
                      variable: "pg047"
                    - 
                      name: "好成绩比什么都重要"
                      variable: "pg048"
                    - 
                      name: "老师比家长更权威、更有办法"
                      variable: "pg049"
                    - 
                      name: "孩子的天性很重要，有的孩子天生好教育"
                      variable: "pg050"
                -
                  name: *dim_pa_school_reasonable
                  topic:
                    - 
                      name: *top_school_reasonable
                      variable: *var_school_reasonable
                    
  -
    process: TRUE
    subject: *subject_cn
    table: *table_cn

    merge:
      -
        table.merge: *m_score_cn
        merge.by: "准考证号"
        table.left: 
          tab.name: *o_score_cn
        table.right:
          tab.name: *table_student
          drop:
            - "学生姓名"
            - "班级"
            - "区县编码"
            - "区县名称"
            - "学校名称"
            - "办学"
            - "学制"
      -
        table.merge: *m_score_cn
        merge.by: "学校代码"
        table.left: 
          tab.name: *m_score_cn
        table.right:
          tab.name: *table_school
          drop:
            - "区县名称"
          rename: 
            - 
              old: "学校名称"
              new: "学校"
        drop:
          - "学校代码"           
      -
        table.merge: *m_score_cn
        merge.by: "区县编码"
        table.left: 
          tab.name: *m_score_cn
        table.right:
          tab.name: *table_county
          drop:
            - "区县代码"
            - "区县别名"
          rename:
            -
              old: "区县名称"
              new: "区县"
        drop:
          - "区县编码"

    weight:
      -
        algorithm: *w_algo_individual
        col.weight: *w_col_individual
        table.out: *w_score_cn
        table.in: *m_score_cn
      -
        algorithm: *w_algo_group
        col.group: *tier_school
        col.weight: *w_col_school
        table.out: *w_score_cn
        table.in: *w_score_cn

    clean:
      table.in: *w_score_cn
      table.out: *c_score_cn

    variable:
      table.in: *c_score_cn
      table.out: *v_score_cn
      var:
        -
          var.name: *var_name_subject
          var.type: *var_type_constant
          var.value: *subject_cn
        -
          var.name: *var_name_total
          var.type: *var_type_constant
          var.value: *var_value_total
        #-
        #  var.name: *tier_province
        #  var.type: *var_type_constant
        #  var.value: *sample_province
        -
          var.type: *var_type_segment
          var.column:
            -
              col.name: *total_score_cn
              var.name: *total_score_segment_cn
              var.default: *total_score_segment_default
              var.value: *total_score_segment_value
        -
          var.name: *total_passed
          var.type: *var_type_polymer
          var.column:
            -
              col.name:
                - *total_score_level_cn
              col.value:
                - "A"
                - "B"
                #- "C"
          var.threshold: 0
          var.option:
            T: *T
            F: *F
        
        -
          var.name: *var_high_level_score
          var.type: *var_type_sum
          var.column:
            -
              col.name:
                - "C3AO231_X"
                - "C3AS241_X"
                - "C3AO251_X"
                - "C3AO301_X"
                - "C3AS311_X"
                - "C3AS312_X"
                - "C3AS313_X"
                - "C3AS314_X"
          var.default: 0

        -
          var.name: "C3AS310_X" # writing total score
          var.type: *var_type_sum
          var.column:
            -
              col.name:
                - "C3AS311"
                - "C3AS312"
                - "C3AS313"
                - "C3AS314"
          var.default: 0

        -
          var.name: "C3AS311_S"
          var.type: *var_type_point_segment
          segment:
            -
              min: -0.5
              max: 1
              key: "0-1"
            -
              min: 1
              max: 3
              key: "1.5-3"
            -
              min: 3
              max: 5
              key: "3.5-5"
            -
              min: 5
              max: 6
              key: "5.5-6"    
          var.column: 
            -
              col.name:
                - "C3AS311"
          var.default: 0

        -
          var.name: "C3AS312_S"
          var.type: *var_type_point_segment
          segment:
            -
              min: -0.5
              max: 1
              key: "0-1"
            -
              min: 1
              max: 3
              key: "1.5-3"
            -
              min: 3
              max: 5
              key: "3.5-5"
            -
              min: 5
              max: 6
              key: "5.5-6"    
          var.column: 
            -
              col.name:
                - "C3AS312"
          var.default: 0

        -
          var.name: "C3AS313_S"
          var.type: *var_type_point_segment
          segment:
            -
              min: -0.5
              max: 5
              key: "0-5"
            -
              min: 5
              max: 9
              key: "5.5-9"
            -
              min: 9
              max: 12
              key: "9.5-12"
            -
              min: 12
              max: 15
              key: "12.5-15"    
          var.column: 
            -
              col.name:
                - "C3AS313"
          var.default: 0

        -
          var.name: "C3AS314_S"
          var.type: *var_type_point_segment
          segment:
            -
              min: -0.5
              max: 0
              key: "0"
            -
              min: 0
              max: 1
              key: "0.5-1"
            -
              min: 1
              max: 2
              key: "1.5-2"
            -
              min: 2
              max: 3
              key: "2.5-3"    
          var.column: 
            -
              col.name:
                - "C3AS314"
          var.default: 0

    statistics:
      table.in: *v_score_cn
      table.out: *s_score_cn

      assesment: *def_assesment
      grade: *def_grade
      tier: *tier_topic
      perspective: *perspective_student_score

      stat:
        -
          statistics: 
            - *stat_percent
          weight:
            - *w_col_individual

          domain:
            - 
              name: *dom_cn_total

              dimention:
                -
                  name: *dim_cn_score

                  topic:
                    -
                      name: *top_total_score_segment
                      variable: *total_score_segment_cn

                    -
                      statistics: 
                        - *stat_quantile
                      quantile: *stat_quantile_box
                      #perspective: *perspective_total_only
                      name: *top_total_score_quantile
                      variable: *total_score_cn
                    -
                      statistics: 
                        - *stat_mean
                      #perspective: *perspective_total_only
                      name: *top_total_score_mean                      
                      variable: *total_score_cn
                      key: *key_score_mean
                    -
                      statistics: 
                        - *stat_coefvar
                      perspective: *perspective_student_score
                      name: *top_total_score_coefficient_variation                 
                      variable: *total_score_cn
                      key: *key_score_cv
                -
                  name: *dim_cn_level

                  topic:
                    -
                      name: *top_total_score_level
                      variable: *total_score_level_cn
                    -
                      name: *top_passed_rate
                      variable: *total_passed
                      option:        
                        - *T

                -
                  name: *dim_cn_jilei

                  topic:
                    -
                      statistics: 
                        - *stat_quantile
                      quantile: *stat_quantile_box
                      #perspective: *perspective_total_only
                      name: *top_jilei_score_quantile_cn
                      variable: *jilei_score_cn
                    -
                      statistics: 
                        - *stat_mean
                      #perspective: *perspective_total_only
                      name: *top_jilei_score_mean_cn                   
                      variable: *jilei_score_cn
                      key: *key_score_mean
                    -
                      name: *top_jilei_score_level_cn
                      variable: *jilei_score_level_cn
                -
                  name: *dim_cn_reading

                  topic:
                    -
                      statistics: 
                        - *stat_quantile
                      quantile: *stat_quantile_box
                      #perspective: *perspective_total_only
                      name: *top_reading_score_quantile_cn
                      variable: *reading_score_cn
                    -
                      statistics: 
                        - *stat_mean
                      #perspective: *perspective_total_only
                      name: *top_reading_score_mean_cn                    
                      variable: *reading_score_cn
                      key: *key_score_mean
                    -
                      name: *top_reading_score_level_cn
                      variable: *reading_score_level_cn
                -
                  name: *dim_cn_writing

                  topic:
                    -
                      statistics: 
                        - *stat_quantile
                      quantile: *stat_quantile_box
                      #perspective: *perspective_total_only
                      name: *top_writing_score_quantile_cn
                      variable: *writing_score_cn
                    -
                      statistics: 
                        - *stat_mean
                      #perspective: *perspective_total_only
                      name: *top_writing_score_mean_cn                     
                      variable: *writing_score_cn
                      key: *key_score_mean
                    -
                      name: *top_writing_score_level_cn
                      variable: *writing_score_level_cn
            -
              name: *dom_thinking

              dimention:
                -
                  name: *dim_thinking

                  topic:
                    -
                      name: *top_high_level_thinking
                      variable: *var_high_level_score
                      statistics: 
                        - *stat_gt_mean
                      perspective: *perspective_student_score

            - 
              name: *dom_point_rate

              dimention:
                -
                  name: *dim_cn_jilei

                  topic:
                    -
                      name: *top_point_rate
                      variable: "C3AO011_X"
                      point: 1
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_student_score
                    -
                      name: *top_point_rate
                      variable: "C3AO011_X"
                      point: 1
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "A"
                      key: "A"
                    -
                      name: *top_point_rate
                      variable: "C3AO011_X"
                      point: 1
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "B"
                      key: "B"
                    -
                      name: *top_point_rate
                      variable: "C3AO011_X"
                      point: 1
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "C"
                      key: "C"
                    -
                      name: *top_answer
                      variable: "C3AO011"
                      perspective: *perspective_total_only

                    -
                      name: *top_point_rate
                      variable: "C3AO021_X"
                      point: 1
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_student_score
                    -
                      name: *top_point_rate
                      variable: "C3AO021_X"
                      point: 1
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "A"
                      key: "A"
                    -
                      name: *top_point_rate
                      variable: "C3AO021_X"
                      point: 1
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "B"
                      key: "B"
                    -
                      name: *top_point_rate
                      variable: "C3AO021_X"
                      point: 1
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "C"
                      key: "C"
                    -
                      name: *top_answer
                      variable: "C3AO021"
                      perspective: *perspective_total_only

                    -
                      name: *top_point_rate
                      variable: "C3AO031_X"
                      point: 1
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_student_score
                    -
                      name: *top_point_rate
                      variable: "C3AO031_X"
                      point: 1
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "A"
                      key: "A"
                    -
                      name: *top_point_rate
                      variable: "C3AO031_X"
                      point: 1
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "B"
                      key: "B"
                    -
                      name: *top_point_rate
                      variable: "C3AO031_X"
                      point: 1
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "C"
                      key: "C"

                    -
                      name: *top_answer
                      variable: "C3AO031"
                      perspective: *perspective_total_only

                    -
                      name: *top_point_rate
                      variable: "C3AO041_X"
                      point: 1
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_student_score
                    -
                      name: *top_point_rate
                      variable: "C3AO041_X"
                      point: 1
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "A"
                      key: "A"
                    -
                      name: *top_point_rate
                      variable: "C3AO041_X"
                      point: 1
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "B"
                      key: "B"
                    -
                      name: *top_point_rate
                      variable: "C3AO041_X"
                      point: 1
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "C"
                      key: "C"

                    -
                      name: *top_answer
                      variable: "C3AO041"
                      perspective: *perspective_total_only


                    -
                      name: *top_point_rate
                      variable: "C3AO051_X"
                      point: 1
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_student_score
                    -
                      name: *top_point_rate
                      variable: "C3AO051_X"
                      point: 1
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "A"
                      key: "A"
                    -
                      name: *top_point_rate
                      variable: "C3AO051_X"
                      point: 1
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "B"
                      key: "B"
                    -
                      name: *top_point_rate
                      variable: "C3AO051_X"
                      point: 1
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "C"
                      key: "C"
                    -
                      name: *top_answer
                      variable: "C3AO051"
                      perspective: *perspective_total_only

                    -
                      name: *top_point_rate
                      variable: "C3AO061_X"
                      point: 1
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_student_score
                    -
                      name: *top_point_rate
                      variable: "C3AO061_X"
                      point: 1
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "A"
                      key: "A"
                    -
                      name: *top_point_rate
                      variable: "C3AO061_X"
                      point: 1
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "B"
                      key: "B"
                    -
                      name: *top_point_rate
                      variable: "C3AO061_X"
                      point: 1
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "C"
                      key: "C"
                    -
                      name: *top_answer
                      variable: "C3AO061"
                      perspective: *perspective_total_only

                    -
                      name: *top_point_rate
                      variable: "C3AO071_X"
                      point: 1
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_student_score
                    -
                      name: *top_point_rate
                      variable: "C3AO071_X"
                      point: 1
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "A"
                      key: "A"
                    -
                      name: *top_point_rate
                      variable: "C3AO071_X"
                      point: 1
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "B"
                      key: "B"
                    -
                      name: *top_point_rate
                      variable: "C3AO071_X"
                      point: 1
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "C"
                      key: "C"
                    -
                      name: *top_answer
                      variable: "C3AO071"
                      perspective: *perspective_total_only

                    -
                      name: *top_point_rate
                      variable: "C3AO081_X"
                      point: 1
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_student_score
                    -
                      name: *top_point_rate
                      variable: "C3AO081_X"
                      point: 1
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "A"
                      key: "A"
                    -
                      name: *top_point_rate
                      variable: "C3AO081_X"
                      point: 1
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "B"
                      key: "B"
                    -
                      name: *top_point_rate
                      variable: "C3AO081_X"
                      point: 1
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "C"
                      key: "C"
                    -
                      name: *top_answer
                      variable: "C3AO081"
                      perspective: *perspective_total_only

                    -
                      name: *top_point_rate
                      variable: "C3AO091_X"
                      point: 1
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_student_score
                    -
                      name: *top_point_rate
                      variable: "C3AO091_X"
                      point: 1
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "A"
                      key: "A"
                    -
                      name: *top_point_rate
                      variable: "C3AO091_X"
                      point: 1
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "B"
                      key: "B"
                    -
                      name: *top_point_rate
                      variable: "C3AO091_X"
                      point: 1
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "C"
                      key: "C"
                    -
                      name: *top_answer
                      variable: "C3AO091"
                      perspective: *perspective_total_only

                    -
                      name: *top_point_rate
                      variable: "C3AO101_X"
                      point: 1
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_student_score
                    -
                      name: *top_point_rate
                      variable: "C3AO101_X"
                      point: 1
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "A"
                      key: "A"
                    -
                      name: *top_point_rate
                      variable: "C3AO101_X"
                      point: 1
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "B"
                      key: "B"
                    -
                      name: *top_point_rate
                      variable: "C3AO101_X"
                      point: 1
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "C"
                      key: "C"
                    -
                      name: *top_answer
                      variable: "C3AO101"
                      perspective: *perspective_total_only

                    -
                      name: *top_point_rate
                      variable: "C3AO111_X"
                      point: 1
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_student_score
                    -
                      name: *top_point_rate
                      variable: "C3AO111_X"
                      point: 1
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "A"
                      key: "A"
                    -
                      name: *top_point_rate
                      variable: "C3AO111_X"
                      point: 1
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "B"
                      key: "B"
                    -
                      name: *top_point_rate
                      variable: "C3AO111_X"
                      point: 1
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "C"
                      key: "C"
                    -
                      name: *top_answer
                      variable: "C3AO111"
                      perspective: *perspective_total_only

                    -
                      name: *top_point_rate
                      variable: "C3AO121_X"
                      point: 1
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_student_score
                    -
                      name: *top_point_rate
                      variable: "C3AO121_X"
                      point: 1
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "A"
                      key: "A"
                    -
                      name: *top_point_rate
                      variable: "C3AO121_X"
                      point: 1
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "B"
                      key: "B"
                    -
                      name: *top_point_rate
                      variable: "C3AO121_X"
                      point: 1
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "C"
                      key: "C"
                    -
                      name: *top_answer
                      variable: "C3AO121"
                      perspective: *perspective_total_only

                    -
                      name: *top_point_rate
                      variable: "C3AO131_X"
                      point: 2
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_student_score
                    -
                      name: *top_point_rate
                      variable: "C3AO131_X"
                      point: 2
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "A"
                      key: "A"
                    -
                      name: *top_point_rate
                      variable: "C3AO131_X"
                      point: 2
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "B"
                      key: "B"
                    -
                      name: *top_point_rate
                      variable: "C3AO131_X"
                      point: 2
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "C"
                      key: "C"
                    -
                      name: *top_answer
                      variable: "C3AO131"
                      perspective: *perspective_total_only

                    -
                      name: *top_point_rate
                      variable: "C3AO141_X"
                      point: 2
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_student_score
                    -
                      name: *top_point_rate
                      variable: "C3AO141_X"
                      point: 2
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "A"
                      key: "A"
                    -
                      name: *top_point_rate
                      variable: "C3AO141_X"
                      point: 2
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "B"
                      key: "B"
                    -
                      name: *top_point_rate
                      variable: "C3AO141_X"
                      point: 2
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "C"
                      key: "C"
                    -
                      name: *top_answer
                      variable: "C3AO141"
                      perspective: *perspective_total_only

                    -
                      name: *top_point_rate
                      variable: "C3AO151_X"
                      point: 2
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_student_score
                    -
                      name: *top_point_rate
                      variable: "C3AO151_X"
                      point: 2
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "A"
                      key: "A"
                    -
                      name: *top_point_rate
                      variable: "C3AO151_X"
                      point: 2
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "B"
                      key: "B"
                    -
                      name: *top_point_rate
                      variable: "C3AO151_X"
                      point: 2
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "C"
                      key: "C"
                    -
                      name: *top_answer
                      variable: "C3AO151"
                      perspective: *perspective_total_only

                    -
                      name: *top_point_rate
                      variable: "C3AO161_X"
                      point: 2
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_student_score
                    -
                      name: *top_point_rate
                      variable: "C3AO161_X"
                      point: 2
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "A"
                      key: "A"
                    -
                      name: *top_point_rate
                      variable: "C3AO161_X"
                      point: 2
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "B"
                      key: "B"
                    -
                      name: *top_point_rate
                      variable: "C3AO161_X"
                      point: 2
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "C"
                      key: "C"
                    -
                      name: *top_answer
                      variable: "C3AO161"
                      perspective: *perspective_total_only

                    -
                      name: *top_point_rate
                      variable: "C3AO171_X"
                      point: 2
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_student_score
                    -
                      name: *top_point_rate
                      variable: "C3AO171_X"
                      point: 2
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "A"
                      key: "A"
                    -
                      name: *top_point_rate
                      variable: "C3AO171_X"
                      point: 2
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "B"
                      key: "B"
                    -
                      name: *top_point_rate
                      variable: "C3AO171_X"
                      point: 2
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "C"
                      key: "C"
                    -
                      name: *top_answer
                      variable: "C3AO171"
                      perspective: *perspective_total_only

                    -
                      name: *top_point_rate
                      variable: "C3AO181_X"
                      point: 3
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_student_score
                    -
                      name: *top_point_rate
                      variable: "C3AO181_X"
                      point: 3
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "A"
                      key: "A"
                    -
                      name: *top_point_rate
                      variable: "C3AO181_X"
                      point: 3
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "B"
                      key: "B"
                    -
                      name: *top_point_rate
                      variable: "C3AO181_X"
                      point: 3
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "C"
                      key: "C"
                    -
                      name: *top_answer
                      variable: "C3AO181"
                      perspective: *perspective_total_only

                    -
                      name: *top_point_rate
                      variable: "C3AO191_X"
                      point: 3
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_student_score
                    -
                      name: *top_point_rate
                      variable: "C3AO191_X"
                      point: 3
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "A"
                      key: "A"
                    -
                      name: *top_point_rate
                      variable: "C3AO191_X"
                      point: 3
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "B"
                      key: "B"
                    -
                      name: *top_point_rate
                      variable: "C3AO191_X"
                      point: 3
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "C"
                      key: "C"
                    -
                      name: *top_answer
                      variable: "C3AO191"
                      perspective: *perspective_total_only

                    -
                      name: *top_point_rate
                      variable: "C3AO201_X"
                      point: 3
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_student_score
                    -
                      name: *top_point_rate
                      variable: "C3AO201_X"
                      point: 3
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "A"
                      key: "A"
                    -
                      name: *top_point_rate
                      variable: "C3AO201_X"
                      point: 3
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "B"
                      key: "B"
                    -
                      name: *top_point_rate
                      variable: "C3AO201_X"
                      point: 3
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "C"
                      key: "C"
                    -
                      name: *top_answer
                      variable: "C3AO201"
                      perspective: *perspective_total_only
                -
                  name: *dim_cn_reading

                  topic:

                    -
                      name: *top_point_rate
                      variable: "C3AO211_X"
                      point: 3
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_student_score
                    -
                      name: *top_point_rate
                      variable: "C3AO211_X"
                      point: 3
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "A"
                      key: "A"
                    -
                      name: *top_point_rate
                      variable: "C3AO211_X"
                      point: 3
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "B"
                      key: "B"
                    -
                      name: *top_point_rate
                      variable: "C3AO211_X"
                      point: 3
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "C"
                      key: "C"
                    -
                      name: *top_answer
                      variable: "C3AO211"
                      perspective: *perspective_total_only

                    -
                      name: *top_point_rate
                      variable: "C3AO221_X"
                      point: 4
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_student_score
                    -
                      name: *top_point_rate
                      variable: "C3AO221_X"
                      point: 4
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "A"
                      key: "A"
                    -
                      name: *top_point_rate
                      variable: "C3AO221_X"
                      point: 4
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "B"
                      key: "B"
                    -
                      name: *top_point_rate
                      variable: "C3AO221_X"
                      point: 4
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "C"
                      key: "C"
                    -
                      name: *top_answer
                      variable: "C3AO221"
                      perspective: *perspective_total_only

                    -
                      name: *top_point_rate
                      variable: "C3AO231_X"
                      point: 4
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_student_score
                    -
                      name: *top_point_rate
                      variable: "C3AO231_X"
                      point: 4
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "A"
                      key: "A"
                    -
                      name: *top_point_rate
                      variable: "C3AO231_X"
                      point: 4
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "B"
                      key: "B"
                    -
                      name: *top_point_rate
                      variable: "C3AO231_X"
                      point: 4
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "C"
                      key: "C"
                    -
                      name: *top_answer
                      variable: "C3AO231"
                      perspective: *perspective_total_only

                    -
                      name: *top_point_rate
                      variable: "C3AO251_X"
                      point: 4
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_student_score
                    -
                      name: *top_point_rate
                      variable: "C3AO251_X"
                      point: 4
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "A"
                      key: "A"
                    -
                      name: *top_point_rate
                      variable: "C3AO251_X"
                      point: 4
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "B"
                      key: "B"
                    -
                      name: *top_point_rate
                      variable: "C3AO251_X"
                      point: 4
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "C"
                      key: "C"
                    -
                      name: *top_answer
                      variable: "C3AO251"
                      perspective: *perspective_total_only

                    -
                      name: *top_point_rate
                      variable: "C3AO271_X"
                      point: 3
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_student_score
                    -
                      name: *top_point_rate
                      variable: "C3AO271_X"
                      point: 3
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "A"
                      key: "A"
                    -
                      name: *top_point_rate
                      variable: "C3AO271_X"
                      point: 3
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "B"
                      key: "B"
                    -
                      name: *top_point_rate
                      variable: "C3AO271_X"
                      point: 3
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "C"
                      key: "C"
                    -
                      name: *top_answer
                      variable: "C3AO271"
                      perspective: *perspective_total_only

                    -
                      name: *top_point_rate
                      variable: "C3AO281_X"
                      point: 4
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_student_score
                    -
                      name: *top_point_rate
                      variable: "C3AO281_X"
                      point: 4
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "A"
                      key: "A"
                    -
                      name: *top_point_rate
                      variable: "C3AO281_X"
                      point: 4
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "B"
                      key: "B"
                    -
                      name: *top_point_rate
                      variable: "C3AO281_X"
                      point: 4
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "C"
                      key: "C"
                    -
                      name: *top_answer
                      variable: "C3AO281"
                      perspective: *perspective_total_only

                    -
                      name: *top_point_rate
                      variable: "C3AO291_X"
                      point: 4
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_student_score
                    -
                      name: *top_point_rate
                      variable: "C3AO291_X"
                      point: 4
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "A"
                      key: "A"
                    -
                      name: *top_point_rate
                      variable: "C3AO291_X"
                      point: 4
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "B"
                      key: "B"
                    -
                      name: *top_point_rate
                      variable: "C3AO291_X"
                      point: 4
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "C"
                      key: "C"
                    -
                      name: *top_answer
                      variable: "C3AO291"
                      perspective: *perspective_total_only

                    -
                      name: *top_point_rate
                      variable: "C3AO301_X"
                      point: 5
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_student_score
                    -
                      name: *top_point_rate
                      variable: "C3AO301_X"
                      point: 5
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "A"
                      key: "A"
                    -
                      name: *top_point_rate
                      variable: "C3AO301_X"
                      point: 5
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "B"
                      key: "B"
                    -
                      name: *top_point_rate
                      variable: "C3AO301_X"
                      point: 5
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "C"
                      key: "C"
                    -
                      name: *top_answer
                      variable: "C3AO301"
                      perspective: *perspective_total_only

                    -
                      name: *top_point_rate
                      variable: "C3AS241_X"
                      point: 4
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_student_score
                    -
                      name: *top_point_rate
                      variable: "C3AS241_X"
                      point: 4
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "A"
                      key: "A"
                    -
                      name: *top_point_rate
                      variable: "C3AS241_X"
                      point: 4
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "B"
                      key: "B"
                    -
                      name: *top_point_rate
                      variable: "C3AS241_X"
                      point: 4
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "C"
                      key: "C"
                    -
                      name: *top_answer
                      variable: "C3AS241"
                      perspective: *perspective_total_only

                    -
                      name: *top_point_rate
                      variable: "C3AS261_X"
                      point: 4
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_student_score
                    -
                      name: *top_point_rate
                      variable: "C3AS261_X"
                      point: 4
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "A"
                      key: "A"
                    -
                      name: *top_point_rate
                      variable: "C3AS261_X"
                      point: 4
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "B"
                      key: "B"
                    -
                      name: *top_point_rate
                      variable: "C3AS261_X"
                      point: 4
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "C"
                      key: "C"
                    -
                      name: *top_answer
                      variable: "C3AS261"
                      perspective: *perspective_total_only
                -
                  name: *dim_cn_writing

                  topic:

                    -
                      name: *top_point_rate
                      variable: "C3AS311_X"
                      point: 6
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_student_score
                    -
                      name: *top_point_rate
                      variable: "C3AS311_X"
                      point: 6
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_student_score
                      condition:
                        name: *total_score_level_cn
                        value: "A"
                      key: "A"
                    -
                      name: *top_point_rate
                      variable: "C3AS311_X"
                      point: 6
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_student_score
                      condition:
                        name: *total_score_level_cn
                        value: "B"
                      key: "B"
                    -
                      name: *top_point_rate
                      variable: "C3AS311_X"
                      point: 6
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_student_score
                      condition:
                        name: *total_score_level_cn
                        value: "C"
                      key: "C"
                    -
                      name: *top_answer
                      variable: "C3AS311_S"
                      perspective: *perspective_total_only

                    -
                      name: *top_point_rate
                      variable: "C3AS312_X"
                      point: 6
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_student_score
                    -
                      name: *top_point_rate
                      variable: "C3AS312_X"
                      point: 6
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_student_score
                      condition:
                        name: *total_score_level_cn
                        value: "A"
                      key: "A"
                    -
                      name: *top_point_rate
                      variable: "C3AS312_X"
                      point: 6
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_student_score
                      condition:
                        name: *total_score_level_cn
                        value: "B"
                      key: "B"
                    -
                      name: *top_point_rate
                      variable: "C3AS312_X"
                      point: 6
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_student_score
                      condition:
                        name: *total_score_level_cn
                        value: "C"
                      key: "C"
                    -
                      name: *top_answer
                      variable: "C3AS312_S"
                      perspective: *perspective_total_only

                    -
                      name: *top_point_rate
                      variable: "C3AS313_X"
                      point: 15
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_student_score
                    -
                      name: *top_point_rate
                      variable: "C3AS313_X"
                      point: 15
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_student_score
                      condition:
                        name: *total_score_level_cn
                        value: "A"
                      key: "A"
                    -
                      name: *top_point_rate
                      variable: "C3AS313_X"
                      point: 15
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_student_score
                      condition:
                        name: *total_score_level_cn
                        value: "B"
                      key: "B"
                    -
                      name: *top_point_rate
                      variable: "C3AS313_X"
                      point: 15
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_student_score
                      condition:
                        name: *total_score_level_cn
                        value: "C"
                      key: "C"
                    -
                      name: *top_answer
                      variable: "C3AS313_S"
                      perspective: *perspective_total_only

                    -
                      name: *top_point_rate
                      variable: "C3AS314_X"
                      point: 3
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_student_score
                    -
                      name: *top_point_rate
                      variable: "C3AS314_X"
                      point: 3
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_student_score
                      condition:
                        name: *total_score_level_cn
                        value: "A"
                      key: "A"
                    -
                      name: *top_point_rate
                      variable: "C3AS314_X"
                      point: 3
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_student_score
                      condition:
                        name: *total_score_level_cn
                        value: "B"
                      key: "B"
                    -
                      name: *top_point_rate
                      variable: "C3AS314_X"
                      point: 3
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_student_score
                      condition:
                        name: *total_score_level_cn
                        value: "C"
                      key: "C"
                    -
                      name: *top_answer
                      variable: "C3AS314_S"
                      perspective: *perspective_total_only

                    -
                      name: *top_point_rate
                      variable: "C3AS310_X"
                      point: 30
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_student_score
                    -
                      name: *top_point_rate
                      variable: "C3AS310_X"
                      point: 30
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_student_score
                      condition:
                        name: *total_score_level_cn
                        value: "A"
                      key: "A"
                    -
                      name: *top_point_rate
                      variable: "C3AS310_X"
                      point: 30
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_student_score
                      condition:
                        name: *total_score_level_cn
                        value: "B"
                      key: "B"
                    -
                      name: *top_point_rate
                      variable: "C3AS310_X"
                      point: 30
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_student_score
                      condition:
                        name: *total_score_level_cn
                        value: "C"
                      key: "C"
                    
    index:
      table.in: *s_score_cn
      table.out: *i_score_cn

      assesment: *def_assesment
      grade: *def_grade
      tier: *tier_topic
      perspective: *perspective_student_score

      stat:
        -
          statistics: 
            - *index_percent

          domain:

            - 
              name: *dom_cn_total

              dimention:
                -
                  name: *dim_cn_level

                  topic:
                    -
                      index: *idx_passed_rate
                      coef: *coef_passed_rate
                      statistics: 
                        - *index_passed_rate
                      name: *top_passed_rate
                      stat: *stat_percent
                      key:
                        - *T
                -
                  name: *dim_cn_score

                  topic:
                    -
                      index: *idx_individual_balance
                      statistics: 
                        - *index_coefficient_variation
                      name: *top_total_score_coefficient_variation
                      stat: *stat_coefvar
                      key:
                        - *key_score_cv

            - 
              name: *dom_thinking
              dimention:
                -
                  name: *dim_thinking
                  topic:
                    -
                      index: *idx_high_level_thinking
                      coef: *coef_high_level_thinking
                      name: *top_high_level_thinking
                      stat: *stat_gt_mean
                      key:
                        - *T

  -
    process: TRUE
    subject: *subject_ma
    table: *table_ma

    merge:
      -
        table.merge: *m_score_ma
        merge.by: "准考证号"
        table.left: 
          tab.name: *o_score_ma
        table.right:
          tab.name: *table_student
          drop:
            - "学生姓名"
            - "班级"
            - "区县编码"
            - "区县名称"
            - "学校名称"
            - "办学"
            - "学制"
      -
        table.merge: *m_score_ma
        merge.by: "学校代码"
        table.left: 
          tab.name: *m_score_ma
        table.right:
          tab.name: *table_school
          drop:
            - "区县名称"
          rename: 
            - 
              old: "学校名称"
              new: "学校"
        drop:
          - "学校代码"        
        
      -
        table.merge: *m_score_ma
        merge.by: "区县编码"
        table.left: 
          tab.name: *m_score_ma
        table.right:
          tab.name: *table_county
          drop:
            - "区县代码"
            - "区县别名"
          rename:
            -
              old: "区县名称"
              new: "区县"
        drop:
          - "区县编码"

    weight:
      -
        algorithm: *w_algo_individual
        col.weight: *w_col_individual
        table.out: *w_score_ma
        table.in: *m_score_ma
      -
        algorithm: *w_algo_group
        col.group: *tier_school
        col.weight: *w_col_school
        table.out: *w_score_ma
        table.in: *w_score_ma

    clean:
      table.in: *w_score_ma
      table.out: *c_score_ma

    variable:
      table.in: *c_score_ma
      table.out: *v_score_ma
      var:
        -
          var.name: *var_name_subject
          var.type: *var_type_constant
          var.value: *subject_ma
        -
          var.name: *var_name_total
          var.type: *var_type_constant
          var.value: *var_value_total
        #-
        #  var.name: *tier_province
        #  var.type: *var_type_constant
        #  var.value: *sample_province
        -
          var.type: *var_type_segment
          var.column:
            -
              col.name: *total_score_ma
              var.name: *total_score_segment_ma
              var.default: *total_score_segment_default
              var.value: *total_score_segment_value
        -
          var.name: *total_passed
          var.type: *var_type_polymer
          var.column:
            -
              col.name:
                - *total_score_level_ma
              col.value:
                - "A"
                - "B"
                #- "C"
          var.threshold: 0
          var.option:
            T: *T
            F: *F
        -
          var.name: *var_high_level_score
          var.type: *var_type_sum
          var.column:
            -
              col.name:
                - "M3AO071_X"
                - "M3AO121_X"
                - "M3AS211_X"
                - "M3AS231_X"
                - "M3AS232_X"
          var.default: 0
                
    statistics:
      table.in: *v_score_ma
      table.out: *s_score_ma

      assesment: *def_assesment
      grade: *def_grade
      tier: *tier_topic
      perspective: *perspective_student_score

      stat:
        -
          statistics: 
            - *stat_percent
          weight:
            - *w_col_individual

          domain:
            - 
              name: *dom_ma_total

              dimention:
                -
                  name: *dim_ma_score

                  topic:
                    -
                      name: *top_total_score_segment
                      variable: *total_score_segment_ma

                    -
                      statistics: 
                        - *stat_quantile
                      quantile: *stat_quantile_box
                      #perspective: *perspective_total_only
                      name: *top_total_score_quantile
                      variable: *total_score_ma
                    -
                      statistics: 
                        - *stat_mean
                      #perspective: *perspective_total_only
                      name: *top_total_score_mean
                        
                      variable: *total_score_ma
                      key: *key_score_mean
                    -
                      statistics: 
                        - *stat_coefvar
                      perspective: *perspective_student_score
                      name: *top_total_score_coefficient_variation                 
                      variable: *total_score_ma
                      key: *key_score_cv

                -
                  name: *dim_ma_level

                  topic:
                    -
                      name: *top_total_score_level
                      variable: *total_score_level_ma
                    -
                      name: *top_passed_rate
                      variable: *total_passed
                      option:        
                        - *T
                - 
                  name: *dim_ma_number

                  topic:
                    -
                      statistics: 
                        - *stat_quantile
                      quantile: *stat_quantile_box
                      #perspective: *perspective_total_only
                      name: *top_number_score_quantile_ma
                      variable: *number_score_ma
                    -
                      statistics: 
                        - *stat_mean
                      #perspective: *perspective_total_only
                      name: *top_number_score_mean_ma
                      variable: *number_score_ma
                      key: *key_score_mean
                    -
                      name: *top_number_score_level_ma
                      variable: *number_score_level_ma
                - 
                  name: *dim_ma_space

                  topic:
                    -
                      statistics: 
                        - *stat_quantile
                      quantile: *stat_quantile_box
                      #perspective: *perspective_total_only
                      name: *top_space_score_quantile_ma
                      variable: *space_score_ma
                    -
                      statistics: 
                        - *stat_mean
                      #perspective: *perspective_total_only
                      name: *top_space_score_mean_ma
                      variable: *space_score_ma
                      key: *key_score_mean
                    -
                      name: *top_space_score_level_ma
                      variable: *space_score_level_ma
                - 
                  name: *dim_ma_statistics

                  topic:
                    -
                      statistics: 
                        - *stat_quantile
                      quantile: *stat_quantile_box
                      #perspective: *perspective_total_only
                      name: *top_statistics_score_quantile_ma
                      variable: *statistics_score_ma
                    -
                      statistics: 
                        - *stat_mean
                      #perspective: *perspective_total_only
                      name: *top_statistics_score_mean_ma
                      variable: *statistics_score_ma
                      key: *key_score_mean
                    -
                      name: *top_statistics_score_level_ma
                      variable: *statistics_score_level_ma
                - 
                  name: *dim_ma_skill

                  topic:
                    -
                      statistics: 
                        - *stat_quantile
                      quantile: *stat_quantile_box
                      #perspective: *perspective_total_only
                      name: *top_skill_score_quantile_ma
                      variable: *skill_score_ma
                    -
                      statistics: 
                        - *stat_mean
                      #perspective: *perspective_total_only
                      name: *top_skill_score_mean_ma
                      variable: *skill_score_ma
                      key: *key_score_mean
                    -
                      name: *top_skill_score_level_ma
                      variable: *skill_score_level_ma
                - 
                  name: *dim_ma_concept

                  topic:
                    -
                      statistics: 
                        - *stat_quantile
                      quantile: *stat_quantile_box
                      #perspective: *perspective_total_only
                      name: *top_concept_score_quantile_ma
                      variable: *concept_score_ma
                    -
                      statistics: 
                        - *stat_mean
                      #perspective: *perspective_total_only
                      name: *top_concept_score_mean_ma
                      variable: *concept_score_ma
                      key: *key_score_mean
                    -
                      name: *top_concept_score_level_ma
                      variable: *concept_score_level_ma
                - 
                  name: *dim_ma_apply

                  topic:
                    -
                      statistics: 
                        - *stat_quantile
                      quantile: *stat_quantile_box
                      #perspective: *perspective_total_only
                      name: *top_apply_score_quantile_ma
                      variable: *apply_score_ma
                    -
                      statistics: 
                        - *stat_mean
                      #perspective: *perspective_total_only
                      name: *top_apply_score_mean_ma
                      variable: *apply_score_ma
                      key: *key_score_mean
                    -
                      name: *top_apply_score_level_ma
                      variable: *apply_score_level_ma
                - 
                  name: *dim_ma_problem

                  topic:
                    -
                      statistics: 
                        - *stat_quantile
                      quantile: *stat_quantile_box
                      #perspective: *perspective_total_only
                      name: *top_problem_score_quantile_ma
                      variable: *problem_score_ma
                    -
                      statistics: 
                        - *stat_mean
                      #perspective: *perspective_total_only
                      name: *top_problem_score_mean_ma
                      variable: *problem_score_ma
                      key: *key_score_mean
                    -
                      name: *top_problem_score_level_ma
                      variable: *problem_score_level_ma

            -
              name: *dom_thinking

              dimention:
                -
                  name: *dim_thinking

                  topic:
                    -
                      name: *top_high_level_thinking
                      variable: *var_high_level_score
                      statistics: 
                        - *stat_gt_mean
                      perspective: *perspective_student_score

            - 
              name: *dom_point_rate

              dimention:
                -
                  name: *dim_ma_skill

                  topic:
                    -
                      name: *top_point_rate
                      variable: "M3AO031_X"
                      point: 4
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_student_score
                    -
                      name: *top_point_rate
                      variable: "M3AO031_X"
                      point: 4
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "A"
                      key: "A"
                    -
                      name: *top_point_rate
                      variable: "M3AO031_X"
                      point: 4
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "B"
                      key: "B"
                    -
                      name: *top_point_rate
                      variable: "M3AO031_X"
                      point: 4
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "C"
                      key: "C"
                    -
                      name: *top_answer
                      variable: "M3AO031"
                      perspective: *perspective_total_only

                    -
                      name: *top_point_rate
                      variable: "M3AS141_X"
                      point: 4
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_student_score
                    -
                      name: *top_point_rate
                      variable: "M3AS141_X"
                      point: 4
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "A"
                      key: "A"
                    -
                      name: *top_point_rate
                      variable: "M3AS141_X"
                      point: 4
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "B"
                      key: "B"
                    -
                      name: *top_point_rate
                      variable: "M3AS141_X"
                      point: 4
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "C"
                      key: "C"
                    -
                      name: *top_answer
                      variable: "M3AS141"
                      perspective: *perspective_total_only

                    -
                      name: *top_point_rate
                      variable: "M3AS151_X"
                      point: 4
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_student_score
                    -
                      name: *top_point_rate
                      variable: "M3AS151_X"
                      point: 4
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "A"
                      key: "A"
                    -
                      name: *top_point_rate
                      variable: "M3AS151_X"
                      point: 4
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "B"
                      key: "B"
                    -
                      name: *top_point_rate
                      variable: "M3AS151_X"
                      point: 4
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "C"
                      key: "C"
                    -
                      name: *top_answer
                      variable: "M3AS151"
                      perspective: *perspective_total_only

                    -
                      name: *top_point_rate
                      variable: "M3AO041_X"
                      point: 4
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_student_score
                    -
                      name: *top_point_rate
                      variable: "M3AO041_X"
                      point: 4
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "A"
                      key: "A"
                    -
                      name: *top_point_rate
                      variable: "M3AO041_X"
                      point: 4
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "B"
                      key: "B"
                    -
                      name: *top_point_rate
                      variable: "M3AO041_X"
                      point: 4
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "C"
                      key: "C"
                    -
                      name: *top_answer
                      variable: "M3AO041"
                      perspective: *perspective_total_only

                    -
                      name: *top_point_rate
                      variable: "M3AS131_X"
                      point: 4
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_student_score
                    -
                      name: *top_point_rate
                      variable: "M3AS131_X"
                      point: 4
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "A"
                      key: "A"
                    -
                      name: *top_point_rate
                      variable: "M3AS131_X"
                      point: 4
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "B"
                      key: "B"
                    -
                      name: *top_point_rate
                      variable: "M3AS131_X"
                      point: 4
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "C"
                      key: "C"
                    -
                      name: *top_answer
                      variable: "M3AS131"
                      perspective: *perspective_total_only

                    -
                      name: *top_point_rate
                      variable: "M3AS201_X"
                      point: 2
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_student_score
                    -
                      name: *top_point_rate
                      variable: "M3AS201_X"
                      point: 2
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "A"
                      key: "A"
                    -
                      name: *top_point_rate
                      variable: "M3AS201_X"
                      point: 2
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "B"
                      key: "B"
                    -
                      name: *top_point_rate
                      variable: "M3AS201_X"
                      point: 2
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "C"
                      key: "C"
                    -
                      name: *top_answer
                      variable: "M3AS201"
                      perspective: *perspective_total_only

                    -
                      name: *top_point_rate
                      variable: "M3AS221_X"
                      point: 2
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_student_score
                    -
                      name: *top_point_rate
                      variable: "M3AS221_X"
                      point: 2
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "A"
                      key: "A"
                    -
                      name: *top_point_rate
                      variable: "M3AS221_X"
                      point: 2
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "B"
                      key: "B"
                    -
                      name: *top_point_rate
                      variable: "M3AS221_X"
                      point: 2
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "C"
                      key: "C"
                    -
                      name: *top_answer
                      variable: "M3AS221"
                      perspective: *perspective_total_only
                -
                  name: *dim_ma_concept

                  topic:
                    -
                      name: *top_point_rate
                      variable: "M3AO021_X"
                      point: 4
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_student_score
                    -
                      name: *top_point_rate
                      variable: "M3AO021_X"
                      point: 4
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "A"
                      key: "A"
                    -
                      name: *top_point_rate
                      variable: "M3AO021_X"
                      point: 4
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "B"
                      key: "B"
                    -
                      name: *top_point_rate
                      variable: "M3AO021_X"
                      point: 4
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "C"
                      key: "C"
                    -
                      name: *top_answer
                      variable: "M3AO021"
                      perspective: *perspective_total_only

                    -
                      name: *top_point_rate
                      variable: "M3AO051_X"
                      point: 4
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_student_score
                    -
                      name: *top_point_rate
                      variable: "M3AO051_X"
                      point: 4
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "A"
                      key: "A"
                    -
                      name: *top_point_rate
                      variable: "M3AO051_X"
                      point: 4
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "B"
                      key: "B"
                    -
                      name: *top_point_rate
                      variable: "M3AO051_X"
                      point: 4
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "C"
                      key: "C"
                    -
                      name: *top_answer
                      variable: "M3AO051"
                      perspective: *perspective_total_only

                    -
                      name: *top_point_rate
                      variable: "M3AO011_X"
                      point: 4
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_student_score
                    -
                      name: *top_point_rate
                      variable: "M3AO011_X"
                      point: 4
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "A"
                      key: "A"
                    -
                      name: *top_point_rate
                      variable: "M3AO011_X"
                      point: 4
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "B"
                      key: "B"
                    -
                      name: *top_point_rate
                      variable: "M3AO011_X"
                      point: 4
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "C"
                      key: "C"
                    -
                      name: *top_answer
                      variable: "M3AO011"
                      perspective: *perspective_total_only

                    -
                      name: *top_point_rate
                      variable: "M3AO071_X"
                      point: 4
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_student_score
                    -
                      name: *top_point_rate
                      variable: "M3AO071_X"
                      point: 4
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "A"
                      key: "A"
                    -
                      name: *top_point_rate
                      variable: "M3AO071_X"
                      point: 4
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "B"
                      key: "B"
                    -
                      name: *top_point_rate
                      variable: "M3AO071_X"
                      point: 4
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "C"
                      key: "C"
                    -
                      name: *top_answer
                      variable: "M3AO071"
                      perspective: *perspective_total_only

                    -
                      name: *top_point_rate
                      variable: "M3AO111_X"
                      point: 4
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_student_score
                    -
                      name: *top_point_rate
                      variable: "M3AO111_X"
                      point: 4
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "A"
                      key: "A"
                    -
                      name: *top_point_rate
                      variable: "M3AO111_X"
                      point: 4
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "B"
                      key: "B"
                    -
                      name: *top_point_rate
                      variable: "M3AO111_X"
                      point: 4
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "C"
                      key: "C"
                    -
                      name: *top_answer
                      variable: "M3AO111"
                      perspective: *perspective_total_only

                    -
                      name: *top_point_rate
                      variable: "M3AO091_X"
                      point: 4
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_student_score
                    -
                      name: *top_point_rate
                      variable: "M3AO091_X"
                      point: 4
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "A"
                      key: "A"
                    -
                      name: *top_point_rate
                      variable: "M3AO091_X"
                      point: 4
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "B"
                      key: "B"
                    -
                      name: *top_point_rate
                      variable: "M3AO091_X"
                      point: 4
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "C"
                      key: "C"
                    -
                      name: *top_answer
                      variable: "M3AO091"
                      perspective: *perspective_total_only
                 
                    -
                      name: *top_point_rate
                      variable: "M3AS171_X"
                      point: 4
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_student_score
                    -
                      name: *top_point_rate
                      variable: "M3AS171_X"
                      point: 4
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "A"
                      key: "A"
                    -
                      name: *top_point_rate
                      variable: "M3AS171_X"
                      point: 4
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "B"
                      key: "B"
                    -
                      name: *top_point_rate
                      variable: "M3AS171_X"
                      point: 4
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "C"
                      key: "C"
                    -
                      name: *top_answer
                      variable: "M3AS171"
                      perspective: *perspective_total_only

                    -
                      name: *top_point_rate
                      variable: "M3AS191_X"
                      point: 4
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_student_score
                    -
                      name: *top_point_rate
                      variable: "M3AS191_X"
                      point: 4
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "A"
                      key: "A"
                    -
                      name: *top_point_rate
                      variable: "M3AS191_X"
                      point: 4
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "B"
                      key: "B"
                    -
                      name: *top_point_rate
                      variable: "M3AS191_X"
                      point: 4
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "C"
                      key: "C"
                    -
                      name: *top_answer
                      variable: "M3AS191"
                      perspective: *perspective_total_only

                -
                  name: *dim_ma_apply

                  topic:

                    -
                      name: *top_point_rate
                      variable: "M3AS161_X"
                      point: 4
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_student_score
                    -
                      name: *top_point_rate
                      variable: "M3AS161_X"
                      point: 4
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "A"
                      key: "A"
                    -
                      name: *top_point_rate
                      variable: "M3AS161_X"
                      point: 4
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "B"
                      key: "B"
                    -
                      name: *top_point_rate
                      variable: "M3AS161_X"
                      point: 4
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "C"
                      key: "C"
                    -
                      name: *top_answer
                      variable: "M3AS161"
                      perspective: *perspective_total_only

                    -
                      name: *top_point_rate
                      variable: "M3AO061_X"
                      point: 4
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_student_score
                    -
                      name: *top_point_rate
                      variable: "M3AO061_X"
                      point: 4
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "A"
                      key: "A"
                    -
                      name: *top_point_rate
                      variable: "M3AO061_X"
                      point: 4
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "B"
                      key: "B"
                    -
                      name: *top_point_rate
                      variable: "M3AO061_X"
                      point: 4
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "C"
                      key: "C"
                    -
                      name: *top_answer
                      variable: "M3AO061"
                      perspective: *perspective_total_only

                    -
                      name: *top_point_rate
                      variable: "M3AO081_X"
                      point: 4
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_student_score
                    -
                      name: *top_point_rate
                      variable: "M3AO081_X"
                      point: 4
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "A"
                      key: "A"
                    -
                      name: *top_point_rate
                      variable: "M3AO081_X"
                      point: 4
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "B"
                      key: "B"
                    -
                      name: *top_point_rate
                      variable: "M3AO081_X"
                      point: 4
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "C"
                      key: "C"
                    -
                      name: *top_answer
                      variable: "M3AO081"
                      perspective: *perspective_total_only

                    -
                      name: *top_point_rate
                      variable: "M3AS181_X"
                      point: 4
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_student_score
                    -
                      name: *top_point_rate
                      variable: "M3AS181_X"
                      point: 4
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "A"
                      key: "A"
                    -
                      name: *top_point_rate
                      variable: "M3AS181_X"
                      point: 4
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "B"
                      key: "B"
                    -
                      name: *top_point_rate
                      variable: "M3AS181_X"
                      point: 4
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "C"
                      key: "C"
                    -
                      name: *top_answer
                      variable: "M3AS181"
                      perspective: *perspective_total_only

                    -
                      name: *top_point_rate
                      variable: "M3AO101_X"
                      point: 4
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_student_score
                    -
                      name: *top_point_rate
                      variable: "M3AO101_X"
                      point: 4
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "A"
                      key: "A"
                    -
                      name: *top_point_rate
                      variable: "M3AO101_X"
                      point: 4
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "B"
                      key: "B"
                    -
                      name: *top_point_rate
                      variable: "M3AO101_X"
                      point: 4
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "C"
                      key: "C"
                    -
                      name: *top_answer
                      variable: "M3AO101"
                      perspective: *perspective_total_only

                    -
                      name: *top_point_rate
                      variable: "M3AS222_X"
                      point: 3
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_student_score
                    -
                      name: *top_point_rate
                      variable: "M3AS222_X"
                      point: 3
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "A"
                      key: "A"
                    -
                      name: *top_point_rate
                      variable: "M3AS222_X"
                      point: 3
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "B"
                      key: "B"
                    -
                      name: *top_point_rate
                      variable: "M3AS222_X"
                      point: 3
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "C"
                      key: "C"
                    -
                      name: *top_answer
                      variable: "M3AS222"
                      perspective: *perspective_total_only

                -
                  name: *dim_ma_problem

                  topic:

                    -
                      name: *top_point_rate
                      variable: "M3AO121_X"
                      point: 4
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_student_score
                    -
                      name: *top_point_rate
                      variable: "M3AO121_X"
                      point: 4
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "A"
                      key: "A"
                    -
                      name: *top_point_rate
                      variable: "M3AO121_X"
                      point: 4
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "B"
                      key: "B"
                    -
                      name: *top_point_rate
                      variable: "M3AO121_X"
                      point: 4
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "C"
                      key: "C"
                    -
                      name: *top_answer
                      variable: "M3AO121"
                      perspective: *perspective_total_only

                    -
                      name: *top_point_rate
                      variable: "M3AS211_X"
                      point: 6
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_student_score
                    -
                      name: *top_point_rate
                      variable: "M3AS211_X"
                      point: 6
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "A"
                      key: "A"
                    -
                      name: *top_point_rate
                      variable: "M3AS211_X"
                      point: 6
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "B"
                      key: "B"
                    -
                      name: *top_point_rate
                      variable: "M3AS211_X"
                      point: 6
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "C"
                      key: "C"
                    -
                      name: *top_answer
                      variable: "M3AS211"
                      perspective: *perspective_total_only

                    -
                      name: *top_point_rate
                      variable: "M3AS231_X"
                      point: 2
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_student_score
                    -
                      name: *top_point_rate
                      variable: "M3AS231_X"
                      point: 2
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "A"
                      key: "A"
                    -
                      name: *top_point_rate
                      variable: "M3AS231_X"
                      point: 2
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "B"
                      key: "B"
                    -
                      name: *top_point_rate
                      variable: "M3AS231_X"
                      point: 2
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "C"
                      key: "C"
                    -
                      name: *top_answer
                      variable: "M3AS231"
                      perspective: *perspective_total_only

                    -
                      name: *top_point_rate
                      variable: "M3AS232_X"
                      point: 5
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_student_score
                    -
                      name: *top_point_rate
                      variable: "M3AS232_X"
                      point: 5
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "A"
                      key: "A"
                    -
                      name: *top_point_rate
                      variable: "M3AS232_X"
                      point: 5
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "B"
                      key: "B"
                    -
                      name: *top_point_rate
                      variable: "M3AS232_X"
                      point: 5
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "C"
                      key: "C"
                    -
                      name: *top_answer
                      variable: "M3AS232"
                      perspective: *perspective_total_only

                    -
                      name: *top_point_rate
                      variable: "M3AS223_X"
                      point: 4
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_student_score
                    -
                      name: *top_point_rate
                      variable: "M3AS223_X"
                      point: 4
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "A"
                      key: "A"
                    -
                      name: *top_point_rate
                      variable: "M3AS223_X"
                      point: 4
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "B"
                      key: "B"
                    -
                      name: *top_point_rate
                      variable: "M3AS223_X"
                      point: 4
                      statistics:
                        - *stat_point_rate
                      perspective: *perspective_total_only
                      condition:
                        name: *total_score_level_cn
                        value: "C"
                      key: "C"
                    -
                      name: *top_answer
                      variable: "M3AS223"
                      perspective: *perspective_total_only


    index:
      table.in: *s_score_ma
      table.out: *i_score_ma

      assesment: *def_assesment
      grade: *def_grade
      tier: *tier_topic
      perspective: *perspective_student_score

      stat:
        -
          statistics: 
            - *index_percent

          domain:

            - 
              name: *dom_ma_total

              dimention:
                -
                  name: *dim_ma_level

                  topic:
                    -
                      index: *idx_passed_rate
                      coef: *coef_passed_rate
                      statistics: 
                        - *index_passed_rate
                      name: *top_passed_rate
                      stat: *stat_percent
                      key:
                        - *T
                -
                  name: *dim_ma_score

                  topic:
                    -
                      index: *idx_individual_balance
                      statistics: 
                        - *index_coefficient_variation
                      name: *top_total_score_coefficient_variation
                      stat: *stat_coefvar
                      key:
                        - *key_score_cv
            - 
              name: *dom_thinking
      
              dimention:
                -
                  name: *dim_thinking

                  topic:
                    -
                      index: *idx_high_level_thinking
                      coef: *coef_high_level_thinking
                      name: *top_high_level_thinking
                      stat: *stat_gt_mean
                      key:
                        - *T

  -
    process: TRUE
    subject: "学生原始信息"

    clean:
      table.in: "学生原始信息"
      table.out: "学生信息清洗"
      clean:

        -
          proc: *clean_drop
          column: 
            - "班级名称"
        -
          proc: *clean_rename
          column: 
            - 
              old: "随班就读情况"
              new: "随班就读"
        -
          proc: *clean_correct
          correct:
            -
              column: 
                - "性别"
              value:
                -
                  old: "男性"
                  new: "男"
                -
                  old: "女性"
                  new: "女"

  -
    process: TRUE #this must process after variable process 
    subject: *participant_cnt
    table: *table_participant_st

    merge:

      -
        table.merge: *table_participant_st
        merge.type: "outer"
        merge.by: "准考证号"
        table.left: 
          tab.name: *m_score_cn
          keep:
            - "准考证号"
            - "省市"
            - "区县"
            - "学校"
        table.right:
          tab.name: *m_score_ma
          keep:
            - "准考证号"
            - "省市"
            - "区县"
            - "学校"
        merge.column:
          - "省市"
          - "区县"
          - "学校"


    weight:
      -
        algorithm: *w_algo_individual
        col.weight: *w_col_individual
        table.out: *table_participant_st
        table.in: *table_participant_st      

count:
  -
    subject: *participant_cnt
    table.in: *table_participant_st
    table.out: *n_student
          
    statistics:
      -
        statistics:
          - *stat_count
        var.name: *scope
        var.count: *w_col_individual
        var.value: *value
        var.tier: *tier
        equal:
          -
            col.name: *tier_province
            col.value: *sample_province
        groupby:
          - *tier_province
          - *tier_county
          - *tier_school
        set: 
          -
            col.name: *assesment
            col.value: *def_assesment
          -
            col.name: *grade
            col.value: *def_grade
          -
            col.name: *subject
            col.value: *participant_cnt
          -
            col.name: *perspective
            col.value: *per_total
          -
            col.name: *sample
            col.value: *per_total
          -
            col.name: *domain
            col.value: *dom_participant
          -
            col.name: *dimention
            col.value: *dim_participant
          -
            col.name: *topic
            col.value: *top_participant
          -
            col.name: *variable
            col.value: "参加人数"
          -
            col.name: *statistics
            col.value: "计数"
          -
            col.name: *weight
            col.value:  *w_col_individual
          -
            col.name: *key
            col.value: *key_count

  -
    subject: *survey_st
    table.in: *v_survey_st
    table.out: *n_survey_st
          
    statistics:
      -
        statistics:
          - *stat_count
        var.name: *scope
        var.count: *w_col_individual
        var.value: *value
        var.tier: *tier
        equal:
          -
            col.name: *tier_province
            col.value: *sample_province
        groupby:
          - *tier_province
          - *tier_county
          - *tier_school
        set: 
          -
            col.name: *assesment
            col.value: *def_assesment
          -
            col.name: *grade
            col.value: *def_grade
          -
            col.name: *subject
            col.value: *survey_st
          -
            col.name: *perspective
            col.value: *per_total
          -
            col.name: *sample
            col.value: *per_total
          -
            col.name: *domain
            col.value: *dom_participant
          -
            col.name: *dimention
            col.value: *dim_participant
          -
            col.name: *topic
            col.value: *top_participant
          -
            col.name: *variable
            col.value: "参加人数"
          -
            col.name: *statistics
            col.value: "计数"
          -
            col.name: *weight
            col.value:  *w_col_individual
          -
            col.name: *key
            col.value: *key_count

  -
    subject: *survey_te
    table.in: *v_survey_te
    table.out: *n_survey_te
          
    statistics:
      -
        statistics:
          - *stat_count
        var.name: *scope
        var.count: *w_col_individual
        var.value: *value
        var.tier: *tier
        equal:
          -
            col.name: *tier_province
            col.value: *sample_province
        groupby:
          - *tier_province
          - *tier_county
          - *tier_school
        set: 
          -
            col.name: *assesment
            col.value: *def_assesment
          -
            col.name: *grade
            col.value: *def_grade
          -
            col.name: *subject
            col.value: *survey_te
          -
            col.name: *perspective
            col.value: *per_total
          -
            col.name: *sample
            col.value: *per_total
          -
            col.name: *domain
            col.value: *dom_participant
          -
            col.name: *dimention
            col.value: *dim_participant
          -
            col.name: *topic
            col.value: *top_participant
          -
            col.name: *variable
            col.value: "参加人数"
          -
            col.name: *statistics
            col.value: "计数"
          -
            col.name: *weight
            col.value:  *w_col_individual
          -
            col.name: *key
            col.value: *key_count

  -
    subject: *survey_pr
    table.in: *v_survey_pr
    table.out: *n_survey_pr
          
    statistics:
      -
        statistics:
          - *stat_count
        var.name: *scope
        var.count: *w_col_individual
        var.value: *value
        var.tier: *tier
        equal:
          -
            col.name: *tier_province
            col.value: *sample_province
        groupby:
          - *tier_province
          - *tier_county
          - *tier_school
        set: 
          -
            col.name: *assesment
            col.value: *def_assesment
          -
            col.name: *grade
            col.value: *def_grade
          -
            col.name: *subject
            col.value: *survey_pr
          -
            col.name: *perspective
            col.value: *per_total
          -
            col.name: *sample
            col.value: *per_total
          -
            col.name: *domain
            col.value: *dom_participant
          -
            col.name: *dimention
            col.value: *dim_participant
          -
            col.name: *topic
            col.value: *top_participant
          -
            col.name: *variable
            col.value: "参加人数"
          -
            col.name: *statistics
            col.value: "计数"
          -
            col.name: *weight
            col.value:  *w_col_individual
          -
            col.name: *key
            col.value: *key_count

  -
    subject: *survey_pa
    table.in: *v_survey_pa
    table.out: *n_survey_pa
          
    statistics:
      -
        statistics:
          - *stat_count
        var.name: *scope
        var.count: *w_col_individual
        var.value: *value
        var.tier: *tier
        equal:
          -
            col.name: *tier_province
            col.value: *sample_province
        groupby:
          - *tier_province
          - *tier_county
          - *tier_school
        set: 
          -
            col.name: *assesment
            col.value: *def_assesment
          -
            col.name: *grade
            col.value: *def_grade
          -
            col.name: *subject
            col.value: *survey_pa
          -
            col.name: *perspective
            col.value: *per_total
          -
            col.name: *sample
            col.value: *per_total
          -
            col.name: *domain
            col.value: *dom_participant
          -
            col.name: *dimention
            col.value: *dim_participant
          -
            col.name: *topic
            col.value: *top_participant
          -
            col.name: *variable
            col.value: "参加人数"
          -
            col.name: *statistics
            col.value: "计数"
          -
            col.name: *weight
            col.value:  *w_col_individual
          -
            col.name: *key
            col.value: *key_count

  -
    subject: *subject_cn
    table.in: *v_score_cn
    table.out: *n_score_cn
          
    statistics:
      -
        statistics:
          - *stat_count
        var.name: *scope
        var.count: *w_col_individual
        var.value: *value
        var.tier: *tier
        equal:
          -
            col.name: *tier_province
            col.value: *sample_province
        groupby:
          - *tier_province
          - *tier_county
          - *tier_school
        set: 
          -
            col.name: *assesment
            col.value: *def_assesment
          -
            col.name: *grade
            col.value: *def_grade
          -
            col.name: *subject
            col.value: *subject_cn
          -
            col.name: *perspective
            col.value: *per_total
          -
            col.name: *sample
            col.value: *per_total
          -
            col.name: *domain
            col.value: *dom_participant
          -
            col.name: *dimention
            col.value: *dim_participant
          -
            col.name: *topic
            col.value: *top_participant
          -
            col.name: *variable
            col.value: "参加人数"
          -
            col.name: *statistics
            col.value: "计数"
          -
            col.name: *weight
            col.value:  *w_col_individual
          -
            col.name: *key
            col.value: *key_count

  -
    subject: *subject_ma
    table.in: *v_score_ma
    table.out: *n_score_ma
          
    statistics:
      -
        statistics:
          - *stat_count
        var.name: *scope
        var.count: *w_col_individual
        var.value: *value
        var.tier: *tier
        equal:
          -
            col.name: *tier_province
            col.value: *sample_province
        groupby:
          - *tier_province
          - *tier_county
          - *tier_school
        set: 
          -
            col.name: *assesment
            col.value: *def_assesment
          -
            col.name: *grade
            col.value: *def_grade
          -
            col.name: *subject
            col.value: *subject_ma
          -
            col.name: *perspective
            col.value: *per_total
          -
            col.name: *sample
            col.value: *per_total
          -
            col.name: *domain
            col.value: *dom_participant
          -
            col.name: *dimention
            col.value: *dim_participant
          -
            col.name: *topic
            col.value: *top_participant
          -
            col.name: *variable
            col.value: "参加人数"
          -
            col.name: *statistics
            col.value: "计数"
          -
            col.name: *weight
            col.value:  *w_col_individual
          -
            col.name: *key
            col.value: *key_count

score: 
  -
    process: TRUE
    subject: *subject_all
    bind:
      table.in:
        - *s_score_cn
        - *s_score_ma
      table.out: *s_score

    statistics: 
      table.in: *s_score
      table.out: *s_score #table.out could be same as table.in 

      stat:
        -
          statistics: 
            - *stat_mean
          equal:
            -
              col.name: *domain
              col.value: *dom_score_total
            -
              col.name:  *dimention
              col.value: *dim_score_total
            -
              col.name: *topic
              col.value: *top_total_score_mean
          groupby:
            - *assesment
            - *grade
            - *tier
            - *scope
            - *perspective
            - *sample
            - *statistics
            - *key
            - *weight
          set:
            -
              col.name: *subject
              col.value: *subject_all
            -
              col.name: *variable
              col.value: "学科平均"

        -
          statistics: 
            - *stat_mean
          equal:
            -
              col.name: *domain
              col.value: *dom_score_total
            -
              col.name:  *dimention
              col.value: *dim_score_total
            -
              col.name: *topic
              col.value: *top_total_score_coefficient_variation
          groupby:
            - *assesment
            - *grade
            - *tier
            - *scope
            - *perspective
            - *sample
            - *statistics
            - *key
            - *weight
          set:
            -
              col.name: *subject
              col.value: *subject_all
            -
              col.name: *variable
              col.value: "学科平均"

        -
          statistics: 
            - *stat_mean
          equal:
            -
              col.name: *domain
              col.value: *dom_score_total
            -
              col.name:  *dimention
              col.value: *dim_level_total
            -
              col.name: *topic
              col.value: *top_passed_rate
          groupby:
            - *assesment
            - *grade
            - *tier
            - *scope
            - *perspective
            - *sample
            - *statistics
            - *key
            - *weight
          set:
            -
              col.name: *subject
              col.value: *subject_all
            -
              col.name: *variable
              col.value: "学科平均"

        -
          statistics: 
            - *stat_mean
          equal:
            -
              col.name: *domain
              col.value: *dom_thinking
            -
              col.name:  *dimention
              col.value: *dim_thinking
            -
              col.name: *topic
              col.value: *top_high_level_thinking
          groupby:
            - *assesment
            - *grade
            - *tier
            - *scope
            - *perspective
            - *sample
            - *statistics
            - *key
            - *weight
          set:
            -
              col.name: *subject
              col.value: *subject_all
            -
              col.name: *variable
              col.value: "学科平均"

    index:
      table.in: *s_score
      table.out: *i_score

      assesment: *def_assesment
      grade: *def_grade
      tier: *tier_topic
      perspective: *perspective_student_score

      stat:
        -
          statistics: 
            - *index_passed_rate

          domain:

            - 
              name: *dom_score_total

              dimention:
                -
                  name: *dim_level_total

                  topic:
                    -
                      index: *idx_passed_rate
                      coef: *coef_passed_rate
                      name: *top_passed_rate
                      stat: *stat_percent
                      key:
                        - *T
                -
                  name: *dim_score_total

                  topic:
                    -
                      index: *idx_individual_balance
                      statistics: 
                        - *index_coefficient_variation
                      name: *top_total_score_coefficient_variation
                      stat: *stat_coefvar
                      key:
                        - *key_score_cv
            - 
              name: *dom_thinking
              statistics: 
                - *index_percent

              dimention:
                -
                  name: *dim_thinking

                  topic:
                    -
                      index: *idx_high_level_thinking
                      coef: *coef_high_level_thinking
                      name: *top_high_level_thinking
                      stat: *stat_gt_mean
                      key:
                        - *T

combine: 

  process: TRUE

  bind:
    table.in:
      - *n_score_ma
      - *n_score_cn
      - *n_survey_pa
      - *n_survey_pr
      - *n_survey_te
      - *n_survey_st
      - *n_student
      - *s_score
      - *s_survey_pr
      - *s_survey_pa
      - *s_survey_te
      - *i_survey_te
      - *s_survey_st
      - *i_survey_st
      - *i_score_cn
      - *i_score_ma
      - *i_score
      - *i_economic_balance
      - *i_history
    table.out: *si_final

report:
  #table: *si_final
  assesment: *def_assesment
  table: "统计指标汇总"
  aliasTable: "别名"
  aliasFlag: TRUE
  dumpFlag: TRUE
  cleanFlag: TRUE

  province: "上海市"
  skip: TRUE #skip other county／school  
  test:
    county: "崇明区"
    # "黄浦区" 
    school: "上海奉贤区民办青溪小学" 
    #"上海市浦东新区第二中心小学（巨野校区）"
    # "上海市西郊学校"
    # 
    # "上海浦东新区民办联营小学" #    缺学生问卷
    # "上海市浦东新区第二中心小学(张江校区)" 缺校长问卷
  brake: TRUE
  dummy.fig: *plot_dummy_fig
  geom: *plot_geom
  output:
    -
      format: "pdf_document"
      ext: ".pdf"
      plot: "pdf"
        #-
        #  format: "word_document"
        #  ext: ".docx"
        #  plot: "png"

  inscribed:
    producer: "上海市教育委员会教学研究室"
    producer1: "上海市教育委员会基础教育质量监测中心"
    date: "二〇一七年九月"
    copyright: "版权声明：本报告版权属于上海市教育委员会教学研究室，未得到上海市教育委员会教学研究室同意，不得使用或公开报告的任何内容"
 
  command:
    copy:
      command: *command_copy
      from: 
        - *cmd_cp_from_dummy
        - *cmd_cp_from_cn
        - *cmd_cp_from_ma
        - *cmd_cp_from_tex
      to: *cmd_dump_to_plot
    zip:
      command: *command_zip
      from: 
        - *cmd_zip_from_plot
    zipcounty:
      command: *command_zip
      from: 
        - *cmd_zip_from_county
    zipschool:
      command: *command_zip
      from: 
        - *cmd_zip_from_school
    
    
    dump:
      command: *command_dump
      to: *cmd_dump_to_plot
      dbase: *cmd_dump_db
    remove:
      command: *command_remove
      files: *cmd_remove_plot

  report:
    
    -
      process: FALSE
      table: "统计指标汇总"
      markdown: "province_base.Rmd"

      

      year: "2016年度"
      tier: *tier_province
      project: "中小学学业质量"
      report: "绿色指标基础数据报告"
      subject: ""
      
      title: ""
      header: "" 

      
      dir_output: "province/"
      datetime: ""
      file: ""

      pre.render:
        - "pre.render.global.setting"
        - "pre.render.cover.page"
        - "pre.render.head.foot"
        - "pre.render.report.preface"
        - "pre.render.table.of.contents"
        - "pre.render.project.summary"

      plot:

        score.segment.bar.cn: 
          fig.name: "学生总体语文分数分布"
          data:
            digits: *plot_data_digits
            filter:
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_total_score_segment
            aes:
              - 
                arg: "x"
                var: *key
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_segment  
            text:
              vjust: 0.5
            bar:
              width: *plot_bar_width

            label:
              xlab: "标准分"
              ylab: "百分数（%）"

        score.segment.bar.ma: 
          fig.name: "学生总体数学分数分布"
          data:
            digits: *plot_data_digits
            filter:
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_total_score_segment
            aes:
              - 
                arg: "x"
                var: *key
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_segment  
            text:
              vjust: 0.5
            bar:
              width: *plot_bar_width

            label:
              xlab: "标准分"
              ylab: "百分数（%）"

        level.bar.urban.subject: 
          fig.name: "不同区域学生在各学科各水平上的人数比例"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_urbannization
                - 
                  variable: *topic
                  value: *top_total_score_level
            aes:
              - 
                arg: "x"
                var: *sample
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
              - 
                arg: "Group"
                var: *subject

          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_stacking 
            group:
              variable: *subject
              scales: "fixed"
              position: "bottom"

            legend: *plot_legend_top
            bar:
              width: 0.3
            label:
              xlab: ""
              ylab: "百分数（%）"

        level.bar.academy.subject: 
          fig.name: "不同类型学校学生在各学科各水平上的人数比例"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *top_total_score_level
            aes:
              - 
                arg: "x"
                var: *sample
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
              - 
                arg: "Group"
                var: *subject
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_stacking 
            group:
              variable: *subject
              scales: "fixed"
              position: "bottom"
            legend: *plot_legend_top
            bar:
              width: 0.3
            label:
              xlab: ""
              ylab: "百分数（%）"

        level.bar.gender.subject: 
          fig.name: "不同性别学生在各学科各水平上的人数比例"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_gender
                - 
                  variable: *topic
                  value: *top_total_score_level
            aes:
              - 
                arg: "x"
                var: *sample
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
              - 
                arg: "Group"
                var: *subject
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_stacking 
            group:
              variable: *subject
              scales: "fixed"
              position: "bottom"
            legend: *plot_legend_top
            bar:
              width: 0.3
            label:
              xlab: ""
              ylab: "百分数（%）"

        level.bar.xinyouzhi.subject: 
          fig.name: "学生在语文和数学学科各水平上的人数比例"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_xinyouzhi
                - 
                  variable: *topic
                  value: *top_total_score_level
              -
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_total_score_level
            aes:
              - 
                arg: "x"
                var: *sample
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
              - 
                arg: "Group"
                var: *subject
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_stacking 
            group:
              variable: *subject
              scales: "fixed"
              position: "bottom"
            legend: *plot_legend_top
            bar:
              width: 0.3
            label:
              xlab: ""
              ylab: "百分数（%）"

        level.bar.huji.subject: 
          fig.name: "不同户籍类型学生在各学科各水平上的人数比例"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_huji
                - 
                  variable: *topic
                  value: *top_total_score_level
            aes:
              - 
                arg: "x"
                var: *sample
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
              - 
                arg: "Group"
                var: *subject
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_stacking 
            group:
              variable: *subject
              scales: "fixed"
              position: "bottom"
            legend: *plot_legend_top
            bar:
              width: 0.3
            label:
              xlab: ""
              ylab: "百分数（%）"

        level.bar.county.cn: 
          fig.name: "各区县学生在语文学科各水平上的人数比例"
          data:
            digits: *plot_data_digits
            filter:
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_total_score_level
            aes:
              - 
                arg: "x"
                var: *scope
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_stacking 
            legend: *plot_legend_top
            bar:
              width: 0.6
            label:
              xlab: ""
              ylab: "百分数（%）"

        score.box.county.cn: 
          fig.name: "各区县学生在语文学科上的得分分布"
          data:
            digits: *plot_data_digits
            filter:
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_total_score_quantile
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_total_score_mean

            derivative: 
              group: *scope
              key: *key
              keep:
                - *scope
                - *tier

            aes:
              - 
                arg: "x"
                var: *scope
              -  
                arg: "ymin"
                var: *stat_quantile_key_bottom
              -  
                arg: "lower"
                var: *stat_quantile_key_lower
              -  
                arg: "middle"
                var: *stat_quantile_key_median
              -  
                arg: "upper"
                var: *stat_quantile_key_upper
              -  
                arg: "ymax"
                var: *stat_quantile_key_top
              -  
                arg: "fill"
                var: *tier
              -  
                arg: "mean"
                var: *key_score_mean


          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_box
            legend: *plot_legend_top
            bar:
              width: 0.3
            label:
              xlab: ""
              ylab: "标准分"

        level.bar.county.ma: 
          fig.name: "各区县学生在数学学科各水平上的人数比例"
          data:
            digits: *plot_data_digits
            filter:
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_total_score_level
            aes:
              - 
                arg: "x"
                var: *scope
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_stacking 
            legend: *plot_legend_top
            bar:
              width: 0.6
            label:
              xlab: ""
              ylab: "百分数（%）"

        score.box.county.ma: 
          fig.name: "各区县学生在数学学科上的得分分布"
          data:
            digits: *plot_data_digits
            filter:
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_total_score_quantile
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_total_score_mean

            derivative: 
              group: *scope
              key: *key
              keep:
                - *scope
                - *tier

            aes:
              - 
                arg: "x"
                var: *scope
              -  
                arg: "ymin"
                var: *stat_quantile_key_bottom
              -  
                arg: "lower"
                var: *stat_quantile_key_lower
              -  
                arg: "middle"
                var: *stat_quantile_key_median
              -  
                arg: "upper"
                var: *stat_quantile_key_upper
              -  
                arg: "ymax"
                var: *stat_quantile_key_top
              -  
                arg: "fill"
                var: *tier
              -  
                arg: "mean"
                var: *key_score_mean

          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_box
            legend: *plot_legend_top
            bar:
              width: 0.3
            label:
              xlab: ""
              ylab: "标准分"

        onechild.bar: 
          fig.name: "四年级学生为独生子女情况"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_one_child_st
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *top_one_child_st
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_xinyouzhi
                - 
                  variable: *topic
                  value: *top_one_child_st
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_gender
                - 
                  variable: *topic
                  value: *top_one_child_st
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_huji
                - 
                  variable: *topic
                  value: *top_one_child_st
            aes:
              - 
                arg: "x"
                var: *sample
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            order: 
              -
                var: "x"
                list: *order_prov_acad_xin_gen_hu
              - 
                var: "fill"
                list:
                  - "是"
                  - "不是"

          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_stacking 
            
            legend: *plot_legend_top
            bar:
              width: *plot_bar_width
            label:
              xlab: *xlab_prov_acad_xin_gen_hu
              ylab: "百分数（%）"

        book.bar: 
          fig.name: "四年级学生家里的图书量"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_books
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *top_books
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_xinyouzhi
                - 
                  variable: *topic
                  value: *top_books
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_gender
                - 
                  variable: *topic
                  value: *top_books
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_huji
                - 
                  variable: *topic
                  value: *top_books
            aes:
              - 
                arg: "x"
                var: *sample
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
              
            order: 
              -
                var: "x"
                list: *order_prov_acad_xin_gen_hu
              -
                var: "fill"
                list:
                  - "20本以下"
                  - "21-50本之间"
                  - "51-100本之间"
                  - "101-200本之间"
                  - "200本以上"
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_stacking 
            legend: 
              position: "top"
              direction: "horizontal"
            bar:
              width: *plot_bar_width
            label:
              xlab: *xlab_prov_acad_xin_gen_hu
              #"|    本市    |            学制              |       新优质学校        |             性别            |            户籍             |"
              ylab: "百分数（%）"

        car.bar: 
          fig.name: "四年级学生家庭汽车拥有量"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_cars
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *top_cars
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_xinyouzhi
                - 
                  variable: *topic
                  value: *top_cars
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_gender
                - 
                  variable: *topic
                  value: *top_cars
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_huji
                - 
                  variable: *topic
                  value: *top_cars
            aes:
              - 
                arg: "x"
                var: *sample
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            order: 
              -
                var: "x"
                list: *order_prov_acad_xin_gen_hu
              -
                var: "fill"
                list:
                  - "没有"
                  - "有，1辆"
                  - "有，2辆"
                  - "有，2辆以上"
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_stacking 
            
            legend: *plot_legend_top
            bar:
              width: *plot_bar_width
            label:
              xlab: *xlab_prov_acad_xin_gen_hu
              ylab: "百分数（%）"

        trip.bar: 
          fig.name: "四年级学生出境旅游的总体情况"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_oversea_trip
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *top_oversea_trip
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_xinyouzhi
                - 
                  variable: *topic
                  value: *top_oversea_trip
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_gender
                - 
                  variable: *topic
                  value: *top_oversea_trip
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_huji
                - 
                  variable: *topic
                  value: *top_oversea_trip
            aes:
              - 
                arg: "x"
                var: *sample
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            order: 
              -
                var: "x"
                list: *order_prov_acad_xin_gen_hu  
              -
                var: "fill"
                list:
                  - "目前还没有去过"
                  - "1次"
                  - "2次"
                  - "3次"
                  - "4次及以上"
            
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_stacking 
            
            legend: *plot_legend_top
            bar:
              width: *plot_bar_width
            label:
              xlab: *xlab_prov_acad_xin_gen_hu
              ylab: "百分数（%）"

        father_edu.bar: 
          fig.name: "四年级学生父亲的受教育情况"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_father_edu
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *top_father_edu
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_xinyouzhi
                - 
                  variable: *topic
                  value: *top_father_edu
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_gender
                - 
                  variable: *topic
                  value: *top_father_edu
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_huji
                - 
                  variable: *topic
                  value: *top_father_edu
            aes:
              - 
                arg: "x"
                var: *sample
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            order: 
              -
                var: "x"
                list: *order_prov_acad_xin_gen_hu  
              -
                var: "fill"
                list:
                  - "初中及以下"
                  - "高中(职高、中专)"
                  - "大专"
                  - "本科"
                  - "研究生"
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_stacking 
            
            legend: *plot_legend_top
            bar:
              width: *plot_bar_width
            label:
              xlab: *xlab_prov_acad_xin_gen_hu
              ylab: "百分数（%）"

        mother_edu.bar: 
          fig.name: "四年级学生母亲的受教育情况"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_mother_edu
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *top_mother_edu
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_xinyouzhi
                - 
                  variable: *topic
                  value: *top_mother_edu
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_gender
                - 
                  variable: *topic
                  value: *top_mother_edu
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_huji
                - 
                  variable: *topic
                  value: *top_mother_edu
            aes:
              - 
                arg: "x"
                var: *sample
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            order: 
              -
                var: "x"
                list: *order_prov_acad_xin_gen_hu
              -
                var: "fill"
                list:
                  - "初中及以下"
                  - "高中(职高、中专)"
                  - "大专"
                  - "本科"
                  - "研究生"
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_stacking 
            
            legend: *plot_legend_top
            bar:
              width: *plot_bar_width
            label:
              xlab: *xlab_prov_acad_xin_gen_hu
              ylab: "百分数（%）"

        sleep.bar: 
          fig.name: "四年级学生平时上学时每天的睡眠时间"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_sleep
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *top_sleep
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_xinyouzhi
                - 
                  variable: *topic
                  value: *top_sleep
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_gender
                - 
                  variable: *topic
                  value: *top_sleep
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_huji
                - 
                  variable: *topic
                  value: *top_sleep
            aes:
              - 
                arg: "x"
                var: *sample
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            order: 
              -
                var: "x"
                list: *order_prov_acad_xin_gen_hu
              -
                var: "fill"
                list:
                  - "少于7小时"
                  - "7-8小时(含7小时)"
                  - "8-9小时(含8小时)"
                  - "9-10小时（含9小时）"
                  - "10小时及以上"
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_stacking 
            
            legend: *plot_legend_top
            bar:
              width: *plot_bar_width
            label:
              xlab: *xlab_prov_acad_xin_gen_hu
              ylab: "百分数（%）"

        sleep_weekend.bar: 
          fig.name: "四年级学生放假时每天的睡眠时间"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_sleep_weekend
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *top_sleep_weekend
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_xinyouzhi
                - 
                  variable: *topic
                  value: *top_sleep_weekend
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_gender
                - 
                  variable: *topic
                  value: *top_sleep_weekend
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_huji
                - 
                  variable: *topic
                  value: *top_sleep_weekend
            aes:
              - 
                arg: "x"
                var: *sample
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            order: 
              -
                var: "x"
                list: *order_prov_acad_xin_gen_hu
              -
                var: "fill"
                list:
                  - "少于7小时"
                  - "7-8小时(含7小时)"
                  - "8-9小时(含8小时)"
                  - "9-10小时(含9小时)"
                  - "10小时及以上"
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_stacking 
            
            legend: *plot_legend_top
            bar:
              width: *plot_bar_width
            label:
              xlab: *xlab_prov_acad_xin_gen_hu
              ylab: "百分数（%）"

        sleep_enough.bar: 
          fig.name: "四年级学生对自己睡眠时间是否充足的看法"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_sleep_enough
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *top_sleep_enough
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_xinyouzhi
                - 
                  variable: *topic
                  value: *top_sleep_enough
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_gender
                - 
                  variable: *topic
                  value: *top_sleep_enough
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_huji
                - 
                  variable: *topic
                  value: *top_sleep_enough
            aes:
              - 
                arg: "x"
                var: *sample
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            order: 
              -
                var: "x"
                list: *order_prov_acad_xin_gen_hu
              -
                var: "fill"
                list:
                  - "非常不充足"
                  - "比较不充足"
                  - "比较充足"
                  - "非常充足"
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_stacking 
            
            legend: *plot_legend_top
            bar:
              width: *plot_bar_width
            label:
              xlab: *xlab_prov_acad_xin_gen_hu
              ylab: "百分数（%）"

        sleep_not_enough.bar: 
          fig.name: "四年级学生睡眠不充足的原因"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_sleep_not_enough
            aes:
              - 
                arg: "x"
                var: *key
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            sort:
              -
                var: "x"
                variable: *topic
                option: *top_sleep_not_enough
                value: *value
                asc_desc: "ASC"
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            position: "dodge" 
            coord: "flip"
            text:
              vjust: 0.5
            bar:
              width: *plot_bar_width_fat
            label:
              xlab: ""
              ylab: "百分数（%）"

        writing_homework_hours.bar: 
          fig.name: "四年级学生每天书面作业的时间"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_writing_homework_hours
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *top_writing_homework_hours
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_xinyouzhi
                - 
                  variable: *topic
                  value: *top_writing_homework_hours
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_gender
                - 
                  variable: *topic
                  value: *top_writing_homework_hours
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_huji
                - 
                  variable: *topic
                  value: *top_writing_homework_hours
            aes:
              - 
                arg: "x"
                var: *sample
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            order: 
              -
                var: "x"
                list: *order_prov_acad_xin_gen_hu
              -
                var: "fill"
                list:
                  - "1小时以内"
                  - "1-2小时（含1小时）"
                  - "2-3小时（含2小时）"
                  - "3-4小时（含3小时）"
                  - "4小时及以上"
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_stacking 
            
            legend: *plot_legend_top
            bar:
              width: *plot_bar_width
            label:
              xlab: *xlab_prov_acad_xin_gen_hu
              ylab: "百分数（%）"

        writing_homework_difficulty.bar: 
          fig.name: "四年级学生作业的难易程度"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_writing_homework_difficulty
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *top_writing_homework_difficulty
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_xinyouzhi
                - 
                  variable: *topic
                  value: *top_writing_homework_difficulty
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_gender
                - 
                  variable: *topic
                  value: *top_writing_homework_difficulty
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_huji
                - 
                  variable: *topic
                  value: *top_writing_homework_difficulty
            aes:
              - 
                arg: "x"
                var: *sample
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            order: 
              -
                var: "x"
                list: *order_prov_acad_xin_gen_hu
              -
                var: "fill"
                list:
                  - "非常容易"
                  - "比较容易"
                  - "难易适中"
                  - "比较难"
                  - "非常难"
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_stacking 
            
            legend: *plot_legend_top
            bar:
              width: *plot_bar_width
            label:
              xlab: *xlab_prov_acad_xin_gen_hu
              ylab: "百分数（%）"

        extra_homework_yes.bar: 
          fig.name: "四年级学生参加与考试科目相关的家教补习或课外辅导比例"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_extra_homework_yes
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *top_extra_homework_yes
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_xinyouzhi
                - 
                  variable: *topic
                  value: *top_extra_homework_yes
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_gender
                - 
                  variable: *topic
                  value: *top_extra_homework_yes
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_huji
                - 
                  variable: *topic
                  value: *top_extra_homework_yes
            aes:
              - 
                arg: "x"
                var: *sample
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *perspective
              -  
                arg: "label"
                var: *label
            order: 
              -
                var: "x"
                list: *order_prov_acad_xin_gen_hu
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            position: "dodge" 
            text:
              vjust: 0.5
            bar:
              width: *plot_bar_width
            label:
              xlab: *xlab_prov_acad_xin_gen_hu
              ylab: "百分数（%）"

        extra_homework_subject.bar: 
          fig.name: "四年级学生参加与考试科目相关的家教补习或课外辅导情况"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_extra_homework_subject
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *top_extra_homework_subject
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_xinyouzhi
                - 
                  variable: *topic
                  value: *top_extra_homework_subject
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_gender
                - 
                  variable: *topic
                  value: *top_extra_homework_subject
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_huji
                - 
                  variable: *topic
                  value: *top_extra_homework_subject
            aes:
              - 
                arg: "x"
                var: *sample
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            order: 
              -
                var: "x"
                list: *order_prov_acad_xin_gen_hu
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            position: "dodge" 
            legend: *plot_legend_top
            bar:
              width: *plot_bar_width_fat
            label:
              xlab: *xlab_prov_acad_xin_gen_hu
              ylab: "百分数（%）"

        extra_homework_hour.bar: 
          fig.name: "四年级学生参加与考试科目相关的家教补习、课外辅导时间"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_extra_homework_hour
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *top_extra_homework_hour
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_xinyouzhi
                - 
                  variable: *topic
                  value: *top_extra_homework_hour
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_gender
                - 
                  variable: *topic
                  value: *top_extra_homework_hour
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_huji
                - 
                  variable: *topic
                  value: *top_extra_homework_hour
            aes:
              - 
                arg: "x"
                var: *sample
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            order: 
              -
                var: "x"
                list: *order_prov_acad_xin_gen_hu
              -
                var: "fill"
                list:
                  #- "(跳过)"
                  #- "(空)"
                  - "2小时以下"
                  - "2-4小时（含2小时）"
                  - "4-6小时（含4小时）"
                  - "6-8小时（含6小时）"
                  - "8小时及以上"
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_stacking 
            
            legend: *plot_legend_top
            bar:
              width: *plot_bar_width
            label:
              xlab: *xlab_prov_acad_xin_gen_hu
              ylab: "百分数（%）"

        extra_homework_reason.bar: 
          fig.name: "四年级学生参加与考试科目相关的家教补习、课外辅导的主要原因"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_extra_homework_reason
            aes:
              - 
                arg: "x"
                var: *key
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            sort:
              -
                var: "x"
                variable: *topic
                option: *top_extra_homework_reason
                value: *value
                asc_desc: "ASC"

          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            position: "dodge" 
            text:
              vjust: 0.5
            coord: "flip"
            bar:
              width: *plot_bar_width_fat
            label:
              xlab: ""
              ylab: "百分数（%）"

        extra_interesting_yes.bar: 
          fig.name: "四年级学生参加校外兴趣班的比例"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_extra_interesting_yes
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *top_extra_interesting_yes
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_xinyouzhi
                - 
                  variable: *topic
                  value: *top_extra_interesting_yes
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_gender
                - 
                  variable: *topic
                  value: *top_extra_interesting_yes
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_huji
                - 
                  variable: *topic
                  value: *top_extra_interesting_yes
            aes:
              - 
                arg: "x"
                var: *sample
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *perspective
              -  
                arg: "label"
                var: *label
            order: 
              -
                var: "x"
                list: *order_prov_acad_xin_gen_hu
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            position: "dodge" 
            text:
              vjust: 0.5
            bar:
              width: *plot_bar_width
            label:
              xlab: *xlab_prov_acad_xin_gen_hu
              ylab: "百分数（%）"

        extra_interesting_subject.bar: 
          fig.name: "四年级学生参加校外兴趣班的种类"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_extra_interesting_subject
            aes:
              - 
                arg: "x"
                var: *key
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            sort:
              -
                var: "x"
                variable: *topic
                option: *top_extra_interesting_subject
                value: *value
                asc_desc: "ASC"

          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            position: "dodge" 
            text:
              vjust: 0.5
            coord: "flip"
            bar:
              width: *plot_bar_width_fat
            label:
              xlab: ""
              ylab: "百分数（%）"

        extra_interesting_hour.bar: 
          fig.name: "四年级学生参加校外兴趣班的时间"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_extra_interesting_hour
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *top_extra_interesting_hour
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_xinyouzhi
                - 
                  variable: *topic
                  value: *top_extra_interesting_hour
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_gender
                - 
                  variable: *topic
                  value: *top_extra_interesting_hour
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_huji
                - 
                  variable: *topic
                  value: *top_extra_interesting_hour
            aes:
              - 
                arg: "x"
                var: *sample
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            order: 
              -
                var: "x"
                list: *order_prov_acad_xin_gen_hu
              -
                var: "fill"
                list:
                  #- "(跳过)"
                  #- "(空)"
                  - "1小时以下"
                  - "1-2小时（含1小时）"
                  - "2-3小时（含2小时）"
                  - "3-4小时（含3小时）"
                  - "4-5小时（含4小时）"
                  - "5小时及以上"    
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_stacking 
            
            legend: *plot_legend_top
            bar:
              width: *plot_bar_width
            label:
              xlab: *xlab_prov_acad_xin_gen_hu
              ylab: "百分数（%）"

        extra_interesting_reason.bar: 
          fig.name: "四年级学生参加校外兴趣班的主要原因"
          data:
            digits: 0
            filter:
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_extra_interesting_reason

            aes:
              - 
                arg: "x"
                var: *key
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            sort:
              -
                var: "x"
                variable: *topic
                option: *top_extra_interesting_reason
                value: *value
                asc_desc: "ASC"

          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            position: "dodge" 
            coord: "flip"
            text:
              vjust: 0.5
            bar:
              width: *plot_bar_width_fat
            label:
              xlab: ""
              ylab: "百分数（%）"

        month_test.bar: 
          fig.name: "四年级学生每个月参加考试和测验频率"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                -
                  variable: *dimention
                  value: *dim_st_burden
                - 
                  variable: *topic
                  value: *top_month_test
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_academicsystem
                -
                  variable: *dimention
                  value: *dim_st_burden
                - 
                  variable: *topic
                  value: *top_month_test
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_xinyouzhi
                -
                  variable: *dimention
                  value: *dim_st_burden
                - 
                  variable: *topic
                  value: *top_month_test

            aes:
              - 
                arg: "x"
                var: *sample
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            order: 
              -
                var: "x"
                list: *order_prov_acad_xin
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_stacking 
            
            legend: *plot_legend_top
            bar:
              width: *plot_bar_width_thin
            label:
              xlab: *xlab_prov_acad_xin
              ylab: "百分数（%）"

        year_reading.bar: 
          fig.name: "四年级学生过去一年内阅读课外读物的数量"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_year_reading
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *top_year_reading
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_xinyouzhi
                - 
                  variable: *topic
                  value: *top_year_reading
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_gender
                - 
                  variable: *topic
                  value: *top_year_reading
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_huji
                - 
                  variable: *topic
                  value: *top_year_reading
            aes:
              - 
                arg: "x"
                var: *sample
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            order: 
              -
                var: "x"
                list: *order_prov_acad_xin_gen_hu
              -
                var: "fill"
                list:
                  - "没有"
                  - "1-4本"
                  - "5-8本"
                  - "9-12本"
                  - "13本及以上"
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_stacking 
            
            legend: *plot_legend_top
            bar:
              width: *plot_bar_width
            label:
              xlab: *xlab_prov_acad_xin_gen_hu
              ylab: "百分数（%）"

        daily_sport_hour.bar: 
          fig.name: "四年级学生每天放学回家后的运动时间"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_daily_sport_hour
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *top_daily_sport_hour
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_xinyouzhi
                - 
                  variable: *topic
                  value: *top_daily_sport_hour
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_gender
                - 
                  variable: *topic
                  value: *top_daily_sport_hour
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_huji
                - 
                  variable: *topic
                  value: *top_daily_sport_hour
            aes:
              - 
                arg: "x"
                var: *sample
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            order: 
              -
                var: "x"
                list: *order_prov_acad_xin_gen_hu
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_stacking 
            
            legend: *plot_legend_top
            bar:
              width: *plot_bar_width
            label:
              xlab: *xlab_prov_acad_xin_gen_hu
              ylab: "百分数（%）"

        teacher_fair.bar: 
          fig.name: "四年级学生对教师是否公平、平等的对待学生的评价"
          data:
            digits: 0
            filter:
              -
                -
                  variable: *tier
                  value: *tier_province
                - 
                  variable: *dimention
                  value: *dim_st_fair

            aes:
              - 
                arg: "x"
                var: *topic
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            order:
              -
                var: "fill"
                list: *legend_order_aggree

          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            position: "stack" 
            coord: "flip"
            text:
              vjust: 0.5
            legend: *plot_legend_right
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "百分数（%）"

        teacher_respect.bar: 
          fig.name: "四年级学生对教师是否尊重学生的评价"
          data:
            digits: 0
            filter:
              -
                -
                  variable: *tier
                  value: *tier_province
                - 
                  variable: *dimention
                  value: *dim_st_respect

            aes:
              - 
                arg: "x"
                var: *topic
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            order:
              -
                var: "fill"
                list: *legend_order_aggree
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            position: "stack" 
            coord: "flip"
            text:
              vjust: 0.5
            legend: *plot_legend_right
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "百分数（%）"

        teacher_trust.bar: 
          fig.name: "四年级学生对教师是否信任学生的评价"
          data:
            digits: 0
            filter:
              -
                -
                  variable: *tier
                  value: *tier_province
                - 
                  variable: *dimention
                  value: *dim_st_trust

            aes:
              - 
                arg: "x"
                var: *topic
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            order:
              -
                var: "fill"
                list: *legend_order_aggree

          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            position: "stack" 
            coord: "flip"
            text:
              vjust: 0.5
            legend: *plot_legend_right
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "百分数（%）"

        learning_pressure.bar: 
          fig.name: "四年级学生对学习压力相关问题的看法"
          data:
            digits: 0
            filter:
              -
                -
                  variable: *tier
                  value: *tier_province
                - 
                  variable: *dimention
                  value: *dim_st_pressure
                - variable: *variable
                  value: "staa048"
              -
                -
                  variable: *tier
                  value: *tier_province
                - 
                  variable: *dimention
                  value: *dim_st_pressure
                - variable: *variable
                  value: "staa049"
              -
                -
                  variable: *tier
                  value: *tier_province
                - 
                  variable: *dimention
                  value: *dim_st_pressure
                - variable: *variable
                  value: "staa050"
              -
                -
                  variable: *tier
                  value: *tier_province
                - 
                  variable: *dimention
                  value: *dim_st_pressure
                - variable: *variable
                  value: "staa051"
              -
                -
                  variable: *tier
                  value: *tier_province
                - 
                  variable: *dimention
                  value: *dim_st_pressure
                - variable: *variable
                  value: "staa052"

            aes:
              - 
                arg: "x"
                var: *topic
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            order:
              -
                var: "fill"
                list: *legend_order_aggree

          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            position: "stack" 
            coord: "flip"
            text:
              vjust: 0.5
            legend: *plot_legend_right
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "百分数（%）"

        learning_motivation.bar: 
          fig.name: "四年级学生对学习动机相关问题的看法"
          data:
            digits: 0
            filter:
              -
                -
                  variable: *tier
                  value: *tier_province
                - 
                  variable: *dimention
                  value: *dim_st_motivation
                -
                  variable: *variable
                  value: "staa040"
              -
                -
                  variable: *tier
                  value: *tier_province
                - 
                  variable: *dimention
                  value: *dim_st_motivation
                -
                  variable: *variable
                  value: "staa041"
              -
                -
                  variable: *tier
                  value: *tier_province
                - 
                  variable: *dimention
                  value: *dim_st_motivation
                -
                  variable: *variable
                  value: "staa042"
              -
                -
                  variable: *tier
                  value: *tier_province
                - 
                  variable: *dimention
                  value: *dim_st_motivation
                -
                  variable: *variable
                  value: "staa043"
              -
                -
                  variable: *tier
                  value: *tier_province
                - 
                  variable: *dimention
                  value: *dim_st_motivation
                -
                  variable: *variable
                  value: "staa044"
              -
                -
                  variable: *tier
                  value: *tier_province
                - 
                  variable: *dimention
                  value: *dim_st_motivation
                -
                  variable: *variable
                  value: "staa045"
              -
                -
                  variable: *tier
                  value: *tier_province
                - 
                  variable: *dimention
                  value: *dim_st_motivation
                -
                  variable: *variable
                  value: "staa046"
              -
                -
                  variable: *tier
                  value: *tier_province
                - 
                  variable: *dimention
                  value: *dim_st_motivation
                -
                  variable: *variable
                  value: "staa047"

            aes:
              - 
                arg: "x"
                var: *topic
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            order:
              -
                var: "fill"
                list: *legend_order_aggree

          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            position: "stack" 
            coord: "flip"
            text:
              vjust: 0.5
            legend: *plot_legend_right
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "百分数（%）"

        school_identity.bar: 
          fig.name: "四年级学生对学校认同度相关问题的看法"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *tier
                  value: *tier_province
                - 
                  variable: *dimention
                  value: *dim_st_identity
                -
                  variable: *variable
                  value: "staa017"
              -
                -
                  variable: *tier
                  value: *tier_province
                - 
                  variable: *dimention
                  value: *dim_st_identity
                -
                  variable: *variable
                  value: "staa023"
              -
                -
                  variable: *tier
                  value: *tier_province
                - 
                  variable: *dimention
                  value: *dim_st_identity
                -
                  variable: *variable
                  value: "staa024"
              -
                -
                  variable: *tier
                  value: *tier_province
                - 
                  variable: *dimention
                  value: *dim_st_identity
                -
                  variable: *variable
                  value: "staa025"
              -
                -
                  variable: *tier
                  value: *tier_province
                - 
                  variable: *dimention
                  value: *dim_st_identity
                -
                  variable: *variable
                  value: "staa026"
              -
                -
                  variable: *tier
                  value: *tier_province
                - 
                  variable: *dimention
                  value: *dim_st_identity
                -
                  variable: *variable
                  value: "staa027"

            aes:
              - 
                arg: "x"
                var: *topic
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            order:
              -
                var: "fill"
                list: *legend_order_aggree

          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            position: "stack" 
            coord: "flip"
            text:
              vjust: 0.5
            legend: *plot_legend_right
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "百分数（%）"

        learning_confidence.bar: 
          fig.name: "四年级学生对学习自信心相关问题的看法"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *tier
                  value: *tier_province
                - 
                  variable: *dimention
                  value: *dim_st_confidence
                -
                  variable: *variable
                  value: "staa028"
              -
                -
                  variable: *tier
                  value: *tier_province
                - 
                  variable: *dimention
                  value: *dim_st_confidence
                -
                  variable: *variable
                  value: "staa029"
              -
                -
                  variable: *tier
                  value: *tier_province
                - 
                  variable: *dimention
                  value: *dim_st_confidence
                -
                  variable: *variable
                  value: "staa030"
              -
                -
                  variable: *tier
                  value: *tier_province
                - 
                  variable: *dimention
                  value: *dim_st_confidence
                -
                  variable: *variable
                  value: "staa031"
              -
                -
                  variable: *tier
                  value: *tier_province
                - 
                  variable: *dimention
                  value: *dim_st_confidence
                -
                  variable: *variable
                  value: "staa032"
              -
                -
                  variable: *tier
                  value: *tier_province
                - 
                  variable: *dimention
                  value: *dim_st_confidence
                -
                  variable: *variable
                  value: "staa033"

            aes:
              - 
                arg: "x"
                var: *topic
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            order:
              -
                var: "fill"
                list: *legend_order_aggree

          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            position: "stack" 
            coord: "flip"
            text:
              vjust: 0.5
            legend: *plot_legend_right
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "百分数（%）"

        learning_method.bar: 
          fig.name: "四年级学生对自己某些学习方法的评价"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *tier
                  value: *tier_province
                - 
                  variable: *dimention
                  value: *dim_st_method

            aes:
              - 
                arg: "x"
                var: *topic
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            order:
              -
                var: "fill"
                list: *legend_order_match
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            position: "stack" 
            coord: "flip"
            text:
              vjust: 0.5
            legend: *plot_legend_right
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "百分数（%）"

        teaching_yincaishijiao.bar: 
          fig.name: "四年级学生对教师教学方式的评价——因材施教"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *tier
                  value: *tier_province
                - 
                  variable: *dimention
                  value: *dim_st_yincaishijiao

            aes:
              - 
                arg: "x"
                var: *topic
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            order:
              -
                var: "fill"
                list: *legend_order_frequency
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            position: "stack" 
            coord: "flip"
            text:
              vjust: 0.5
            legend: *plot_legend_right
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "百分数（%）"

        teaching_hudongjiaoxue.bar: 
          fig.name: "四年级学生对教师教学方式的评价——互动教学"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *tier
                  value: *tier_province
                - 
                  variable: *dimention
                  value: *dim_st_hudongjiaoxue

            aes:
              - 
                arg: "x"
                var: *topic
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            order:
              -
                var: "fill"
                list: *legend_order_frequency
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            position: "stack" 
            coord: "flip"
            text:
              vjust: 0.5
            legend: *plot_legend_right
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "百分数（%）"

        teaching_gulitanjiu.bar: 
          fig.name: "四年级学生对教师教学方式的评价——鼓励学生探究与发展"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *tier
                  value: *tier_province
                - 
                  variable: *dimention
                  value: *dim_st_gulitanjiu

            aes:
              - 
                arg: "x"
                var: *topic
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            order:
              -
                var: "fill"
                list: *legend_order_frequency
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            position: "stack" 
            coord: "flip"
            text:
              vjust: 0.5
            legend: *plot_legend_right
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "百分数（%）"

        morality_respect_others.bar: 
          fig.name: "四年级学生尊重他人行为的总体情况"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *tier
                  value: *tier_province
                - 
                  variable: *dimention
                  value: *dim_st_respect_others

            aes:
              - 
                arg: "x"
                var: *topic
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            order:
              -
                var: "fill"
                list: *legend_order_people
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            position: "stack" 
            coord: "flip"
            text:
              vjust: 0.5
            legend: *plot_legend_right
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "百分数（%）"

        morality_integrity.bar: 
          fig.name: "四年级学生遇到各种诚信问题时的行为表现情况"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *tier
                  value: *tier_province
                - 
                  variable: *dimention
                  value: *dim_st_integrity

            aes:
              - 
                arg: "x"
                var: *topic
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            order:
              -
                var: "fill"
                list: *legend_order_people
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            position: "stack" 
            coord: "flip"
            text:
              vjust: 0.5
            legend: *plot_legend_right
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "百分数（%）"

        morality_responsibility.bar: 
          fig.name: "四年级学生关于社会责任感方面问题的表现情况"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *tier
                  value: *tier_province
                - 
                  variable: *dimention
                  value: *dim_st_responsibility

            aes:
              - 
                arg: "x"
                var: *topic
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            order:
              -
                var: "fill"
                list: *legend_order_people
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            position: "stack" 
            coord: "flip"
            text:
              vjust: 0.5
            legend: *plot_legend_right
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "百分数（%）"

        psychological_renjimangan.bar: 
          fig.name: "四年级学生对人际敏感性相关问题的看法"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *tier
                  value: *tier_province
                - 
                  variable: *dimention
                  value: *dim_st_renjimingan

            aes:
              - 
                arg: "x"
                var: *topic
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            order:
              -
                var: "fill"
                list: *legend_order_aggree
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            position: "stack" 
            coord: "flip"
            text:
              vjust: 0.5
            legend: *plot_legend_right
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "百分数（%）"

        psychological_renjiguanxi.bar: 
          fig.name: "四年级学生对人际关系相关问题的看法"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *tier
                  value: *tier_province
                - 
                  variable: *dimention
                  value: *dim_st_renjiguanxi

            aes:
              - 
                arg: "x"
                var: *topic
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            order:
              -
                var: "fill"
                list: *legend_order_aggree
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            position: "stack" 
            coord: "flip"
            text:
              vjust: 0.5
            legend: *plot_legend_right
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "百分数（%）"

        psychological_self_respect.bar: 
          fig.name: "四年级学生对自尊相关问题的看法"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *tier
                  value: *tier_province
                - 
                  variable: *dimention
                  value: *dim_st_self_respect

            aes:
              - 
                arg: "x"
                var: *topic
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            order:
              -
                var: "fill"
                list: *legend_order_aggree
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            position: "stack" 
            coord: "flip"
            text:
              vjust: 0.5
            legend: *plot_legend_right
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "百分数（%）"
       
        score_sleep.point: 
          fig.name: "四年级学生睡眠时间与学业成绩的关系"
          data:
            digits: 2
            filter:
              -
                -
                  variable: *subject
                  value: *subject_all
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_total_score_mean
              -
                -
                  variable: *subject
                  value: *subject_all
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_total_score_mean
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_sleep_n_hours
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_sleep_n_hours
            join:
              left: 
                variable: *topic
                value: *top_total_score_mean
              right:
                variable: *topic
                value: *top_sleep_n_hours
              linkon: *scope
              newvariable: *top_sleep_n_hours
            aes:
              - 
                arg: "x"
                var: *top_sleep_n_hours #newvariable
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *tier
              -  
                arg: "label"
                var: "alias"
            alias:
              arg: "alias"
              var: *scope
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_point
            
            label:
              xlab: "睡眠9小时以上百分数（%）"
              ylab: "学业成绩"
       
        score_homework.point: 
          fig.name: "四年级学生作业或课外练习时间与学业成绩的关系"
          data:
            digits: 2
            filter:
              -
                -
                  variable: *subject
                  value: *subject_all
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_total_score_mean
              -
                -
                  variable: *subject
                  value: *subject_all
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_total_score_mean
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_writing_homework_n_hours_more
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_writing_homework_n_hours_more
            join:
              left: 
                variable: *topic
                value: *top_total_score_mean
              right:
                variable: *topic
                value: *top_writing_homework_n_hours_more
              linkon: *scope
              newvariable: *top_writing_homework_n_hours_more
            aes:
              - 
                arg: "x"
                var: *top_writing_homework_n_hours_more #newvariable
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *tier
              -  
                arg: "label"
                var: "alias"
            alias:
              arg: "alias"
              var: *scope
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_point
            
            label:
              xlab: "作业1小时以上百分数（%）"
              ylab: "学业成绩"
       
        score_extra_homework.point: 
          fig.name: "四年级学生每周课外补课或辅导班时间与学业成绩的关系"
          data:
            digits: 2
            filter:
              -
                -
                  variable: *subject
                  value: *subject_all
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_total_score_mean
              -
                -
                  variable: *subject
                  value: *subject_all
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_total_score_mean
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_extra_homework_n_hours_more
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_extra_homework_n_hours_more
            join:
              left: 
                variable: *topic
                value: *top_total_score_mean
              right:
                variable: *topic
                value: *top_extra_homework_n_hours_more
              linkon: *scope
              newvariable: *top_extra_homework_n_hours_more

            
            aes:
              - 
                arg: "x"
                var: *top_extra_homework_n_hours_more #newvariable
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *tier
              -  
                arg: "label"
                var: "alias"
            alias:
              arg: "alias"
              var: *scope
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_point
            
            label:
              xlab: "校外补习2小时以上百分数（%）"
              ylab: "学业成绩"
       
        score_teacher.point: 
          fig.name: "四年级师生关系与学业成绩的关系"
          data:
            digits: 2
            filter:
              -
                -
                  variable: *subject
                  value: *subject_all
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_total_score_mean
              -
                -
                  variable: *subject
                  value: *subject_all
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_total_score_mean
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_teacher_relationship
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_teacher_relationship
            join:
              left: 
                variable: *topic
                value: *top_total_score_mean
              right:
                variable: *topic
                value: *top_teacher_relationship
              linkon: *scope
              newvariable: *top_teacher_relationship
            aes:
              - 
                arg: "x"
                var: *top_teacher_relationship #newvariable
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *tier
              -  
                arg: "label"
                var: "alias"
            alias:
              arg: "alias"
              var: *scope
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_point
            
            label:
              xlab: "学生与教师总体关系（%）"
              ylab: "学业成绩"

        score_pressure.point: 
          fig.name: "四年级学生学习压力与学业成绩的关系"
          data:
            digits: 2
            filter:
              -
                -
                  variable: *subject
                  value: *subject_all
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_total_score_mean
              -
                -
                  variable: *subject
                  value: *subject_all
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_total_score_mean
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_learning_pressure
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_learning_pressure
            join:
              left: 
                variable: *topic
                value: *top_total_score_mean
              right:
                variable: *topic
                value: *top_learning_pressure
              linkon: *scope
              newvariable: *top_learning_pressure
            aes:
              - 
                arg: "x"
                var: *top_learning_pressure #newvariable
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *tier
              -  
                arg: "label"
                var: "alias"
            alias:
              arg: "alias"
              var: *scope
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_point
            
            label:
              xlab: "学习压力较小的学生所占比例（%）"
              ylab: "学业成绩"
       
        score_identity.point: 
          fig.name: "四年级学生学校认同度与学业成绩的关系"
          data:
            digits: 2
            filter:
              -
                -
                  variable: *subject
                  value: *subject_all
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_total_score_mean
              -
                -
                  variable: *subject
                  value: *subject_all
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_total_score_mean
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_school_identity
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_school_identity
            join:
              left: 
                variable: *topic
                value: *top_total_score_mean
              right:
                variable: *topic
                value: *top_school_identity
              linkon: *scope
              newvariable: *top_school_identity
            aes:
              - 
                arg: "x"
                var: *top_school_identity #newvariable
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *tier
              -  
                arg: "label"
                var: "alias"
            alias:
              arg: "alias"
              var: *scope
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_point
            
            label:
              xlab: "学校认同度较高的学生所占比例（%）"
              ylab: "学业成绩"
        
        score_motivation.point: 
          fig.name: "四年级学生学习动机与学业成绩的关系"
          data:
            digits: 2
            filter:
              -
                -
                  variable: *subject
                  value: *subject_all
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_total_score_mean
              -
                -
                  variable: *subject
                  value: *subject_all
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_total_score_mean
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_learning_motivation
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_learning_motivation
            join:
              left: 
                variable: *topic
                value: *top_total_score_mean
              right:
                variable: *topic
                value: *top_learning_motivation
              linkon: *scope
              newvariable: *top_learning_motivation
            aes:
              - 
                arg: "x"
                var: *top_learning_motivation #newvariable
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *tier
              -  
                arg: "label"
                var: "alias"
            alias:
              arg: "alias"
              var: *scope
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_point
            
            label:
              xlab: "学习动机较强的学生所占比例（%）"
              ylab: "学业成绩"
    
        score_confidence.point: 
          fig.name: "四年级学生自信心与学业成绩的关系"
          data:
            digits: 2
            filter:
              -
                -
                  variable: *subject
                  value: *subject_all
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_total_score_mean
              -
                -
                  variable: *subject
                  value: *subject_all
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_total_score_mean
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_learning_confidence
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_learning_confidence
            join:
              left: 
                variable: *topic
                value: *top_total_score_mean
              right:
                variable: *topic
                value: *top_learning_confidence
              linkon: *scope
              newvariable: *top_learning_confidence
            aes:
              - 
                arg: "x"
                var: *top_learning_confidence #newvariable
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *tier
              -  
                arg: "label"
                var: "alias"
            alias:
              arg: "alias"
              var: *scope
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_point
            
            label:
              xlab: "学习自信心较强的学生所占比例（%）"
              ylab: "学业成绩"

        teacher_gender.bar: 
          fig.name: "四年级教师性别情况"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *survey_te
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_te_gender
              -
                -
                  variable: *subject
                  value: *survey_te
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *top_te_gender
              -
                -
                  variable: *subject
                  value: *survey_te
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_xinyouzhi
                - 
                  variable: *topic
                  value: *top_te_gender

            aes:
              - 
                arg: "x"
                var: *sample
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            order: 
              -
                var: "x"
                list: *order_prov_acad_xin
              
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_stacking 
            
            legend: *plot_legend_top
            bar:
              width: *plot_bar_width_thin
            label:
              xlab: *xlab_prov_acad_xin
              ylab: "百分数（%）"

        teacher_years.bar: 
          fig.name: "四年级教师教龄情况"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *survey_te
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_te_years
              -
                -
                  variable: *subject
                  value: *survey_te
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *top_te_years
              -
                -
                  variable: *subject
                  value: *survey_te
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_xinyouzhi
                - 
                  variable: *topic
                  value: *top_te_years

            aes:
              - 
                arg: "x"
                var: *sample
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            order: 
              -
                var: "x"
                list: *order_prov_acad_xin
              -
                var: "fill"
                list:
                  - "5年及以下"
                  - "6-10年"
                  - "11-15年"
                  - "16-20年"
                  - "20年以上"
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_stacking 
            
            legend: *plot_legend_top
            bar:
              width: *plot_bar_width_thin
            label:
              xlab: *xlab_prov_acad_xin
              ylab: "百分数（%）"

        teacher_title.bar: 
          fig.name: "四年级教师专业职称情况"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *survey_te
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_te_title
              -
                -
                  variable: *subject
                  value: *survey_te
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *top_te_title
              -
                -
                  variable: *subject
                  value: *survey_te
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_xinyouzhi
                - 
                  variable: *topic
                  value: *top_te_title

            aes:
              - 
                arg: "x"
                var: *sample
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            order: 
              -
                var: "x"
                list: *order_prov_acad_xin
              -
                var: "fill"
                list:
                  - "未定"
                  - "小学一级"
                  - "小学二级"
                  - "小学高级"
                  - "中学高级"
              
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_stacking 
            
            legend: *plot_legend_top
            bar:
              width: *plot_bar_width_thin
            label:
              xlab: *xlab_prov_acad_xin
              ylab: "百分数（%）"

        teacher_all_title.bar: 
          fig.name: "小学教师专业职称情况"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *survey_pr
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_pr_all_title
              -
                -
                  variable: *subject
                  value: *survey_pr
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *top_pr_all_title
              -
                -
                  variable: *subject
                  value: *survey_pr
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_xinyouzhi
                - 
                  variable: *topic
                  value: *top_pr_all_title

            aes:
              - 
                arg: "x"
                var: *sample
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            order: 
              -
                var: "x"
                list: *order_prov_acad_xin
              -
                var: "fill"
                list:
                  - "未定或没有"
                  - "小学一级"
                  - "小学二级"
                  - "小学高级"
                  - "中学高级"
              
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_stacking 
            
            legend: *plot_legend_top
            bar:
              width: *plot_bar_width_thin
            label:
              xlab: *xlab_prov_acad_xin
              ylab: "百分数（%）"

        teacher_edu.bar: 
          fig.name: "四年级教师学历情况"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *survey_te
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_te_edu
              -
                -
                  variable: *subject
                  value: *survey_te
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *top_te_edu
              -
                -
                  variable: *subject
                  value: *survey_te
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_xinyouzhi
                - 
                  variable: *topic
                  value: *top_te_edu

            aes:
              - 
                arg: "x"
                var: *sample
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            order: 
              -
                var: "x"
                list: *order_prov_acad_xin
              -
                var: "fill"
                list:
                  - "初中或以下"
                  - "中师或中专、高中"
                  - "大专"
                  - "本科"
                  - "研究生"
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_stacking 
            
            legend: *plot_legend_top
            bar:
              width: *plot_bar_width_thin
            label:
              xlab: *xlab_prov_acad_xin
              ylab: "百分数（%）"

        teacher_all_edu.bar: 
          fig.name: "小学教师学历情况"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *survey_pr
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_pr_all_edu
              -
                -
                  variable: *subject
                  value: *survey_pr
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *top_pr_all_edu
              -
                -
                  variable: *subject
                  value: *survey_pr
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_xinyouzhi
                - 
                  variable: *topic
                  value: *top_pr_all_edu

            aes:
              - 
                arg: "x"
                var: *sample
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            order: 
              -
                var: "x"
                list: *order_prov_acad_xin
              -
                var: "fill"
                list:
                  - "中师或中专、高中及以下"
                  - "大专"
                  - "本科"
                  - "研究生"
              
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_stacking 
            
            legend: *plot_legend_top
            bar:
              width: *plot_bar_width_thin
            label:
              xlab: *xlab_prov_acad_xin
              ylab: "百分数（%）"

        teacher_normal_edu.bar: 
          fig.name: "四年级教师就职前是否接受过师范教育的情况"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *survey_te
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_te_normal_edu
              -
                -
                  variable: *subject
                  value: *survey_te
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *top_te_normal_edu
              -
                -
                  variable: *subject
                  value: *survey_te
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_xinyouzhi
                - 
                  variable: *topic
                  value: *top_te_normal_edu

            aes:
              - 
                arg: "x"
                var: *sample
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            order: 
              -
                var: "x"
                list: *order_prov_acad_xin
              
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_stacking 
            
            legend: *plot_legend_top
            bar:
              width: *plot_bar_width_thin
            label:
              xlab: *xlab_prov_acad_xin
              ylab: "百分数（%）"

        teacher_major_match.bar: 
          fig.name: "四年级教师所教学科是否专业对口的情况"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *survey_te
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_te_major_match
              -
                -
                  variable: *subject
                  value: *survey_te
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *top_te_major_match
              -
                -
                  variable: *subject
                  value: *survey_te
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_xinyouzhi
                - 
                  variable: *topic
                  value: *top_te_major_match

            aes:
              - 
                arg: "x"
                var: *sample
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            order: 
              -
                var: "x"
                list: *order_prov_acad_xin
              
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_stacking 
            
            legend: *plot_legend_top
            bar:
              width: *plot_bar_width_thin
            label:
              xlab: *xlab_prov_acad_xin
              ylab: "百分数（%）"

        teacher_weekly_hours.bar: 
          fig.name: "四年级教师每周的上课节数情况"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *survey_te
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_te_weekly_hours
              -
                -
                  variable: *subject
                  value: *survey_te
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *top_te_weekly_hours
              -
                -
                  variable: *subject
                  value: *survey_te
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_xinyouzhi
                - 
                  variable: *topic
                  value: *top_te_weekly_hours

            aes:
              - 
                arg: "x"
                var: *sample
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            order: 
              -
                var: "x"
                list: *order_prov_acad_xin
              - 
                var: "fill"
                list:
                  - "6节以下"
                  - "6-10节"
                  - "11-15节"
                  - "16-20节"
                  - "20节以上"
              
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_stacking 
            
            legend: *plot_legend_top
            bar:
              width: *plot_bar_width_thin
            label:
              xlab: *xlab_prov_acad_xin
              ylab: "百分数（%）"

        teacher_daily_hours.bar: 
          fig.name: "四年级教师每天的工作时间情况"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *survey_te
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_te_daily_hours
              -
                -
                  variable: *subject
                  value: *survey_te
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *top_te_daily_hours
              -
                -
                  variable: *subject
                  value: *survey_te
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_xinyouzhi
                - 
                  variable: *topic
                  value: *top_te_daily_hours

            aes:
              - 
                arg: "x"
                var: *sample
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            order: 
              -
                var: "x"
                list: *order_prov_acad_xin
              - 
                var: "fill"
                list:
                  - "8小时及以下"
                  - "8-9小时(含9小时)"
                  - "9-11小时(含11小时)"
                  - "11-13小时(含13小时)"
                  - "13小时以上"
              
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_stacking 
            
            legend: *plot_legend_top
            bar:
              width: *plot_bar_width_thin
            label:
              xlab: *xlab_prov_acad_xin
              ylab: "百分数（%）"

        teacher_job_favorite.bar: 
          fig.name: "四年级教师对教师职业喜爱程度的情况"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *survey_te
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_te_job_favorite
              -
                -
                  variable: *subject
                  value: *survey_te
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *top_te_job_favorite
              -
                -
                  variable: *subject
                  value: *survey_te
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_xinyouzhi
                - 
                  variable: *topic
                  value: *top_te_job_favorite

            aes:
              - 
                arg: "x"
                var: *sample
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            order: 
              -
                var: "x"
                list: *order_prov_acad_xin
              - 
                var: "fill"
                list:
                  - "不喜欢"
                  - "不太喜欢"
                  - "不确定"
                  - "比较喜欢"
                  - "非常喜欢"
              
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_stacking 
            
            legend: *plot_legend_top
            bar:
              width: *plot_bar_width_thin
            label:
              xlab: *xlab_prov_acad_xin
              ylab: "百分数（%）"

        teacher_job_quit.bar: 
          fig.name: "四年级教师的离职倾向情况"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *survey_te
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_te_job_quit
              -
                -
                  variable: *subject
                  value: *survey_te
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *top_te_job_quit
              -
                -
                  variable: *subject
                  value: *survey_te
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_xinyouzhi
                - 
                  variable: *topic
                  value: *top_te_job_quit

            aes:
              - 
                arg: "x"
                var: *sample
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            order: 
              -
                var: "x"
                list: *order_prov_acad_xin
              
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_stacking 
            
            legend: *plot_legend_top
            bar:
              width: *plot_bar_width_thin
            label:
              xlab: *xlab_prov_acad_xin
              ylab: "百分数（%）"

        teacher_feelings.bar: 
          fig.name: "四年级教师对现有工作的感受情况"
          data:
            digits: 0
            filter:
              -
                -
                  variable: *subject
                  value: *survey_te
                -
                  variable: *tier
                  value: *tier_province
                - 
                  variable: *dimention
                  value: *dim_te_feelings

            aes:
              - 
                arg: "x"
                var: *topic
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            order:
              -
                var: "fill"
                list: *legend_order_aggree
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            position: "stack" 
            coord: "flip"
            text:
              vjust: 0.5
            legend: *plot_legend_right
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "百分数（%）"

        teacher_philosophy.bar: 
          fig.name: "四年级教师教学观的情况"
          data:
            digits: 0
            filter:
              -
                -
                  variable: *subject
                  value: *survey_te
                -
                  variable: *tier
                  value: *tier_province
                - 
                  variable: *dimention
                  value: *dim_te_philosophy

            aes:
              - 
                arg: "x"
                var: *topic
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            order:
              -
                var: "fill"
                list: *legend_order_aggree
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            position: "stack" 
            coord: "flip"
            text:
              vjust: 0.5
            legend: *plot_legend_right
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "百分数（%）"

        teacher_method.bar: 
          fig.name: "四年级教师教学方式的情况"
          data:
            digits: 0
            filter:
              -
                -
                  variable: *subject
                  value: *survey_te
                -
                  variable: *tier
                  value: *tier_province
                - 
                  variable: *dimention
                  value: *dim_te_method

            aes:
              - 
                arg: "x"
                var: *topic
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            order:
              -
                var: "fill"
                list: *legend_order_frequency
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            position: "stack" 
            coord: "flip"
            text:
              vjust: 0.5
            legend: *plot_legend_right
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "百分数（%）"

        teacher_activity.bar: 
          fig.name: "四年级教师提高自身素养和教学水平参与专业活动的情况"
          data:
            digits: 0
            filter:
              -
                -
                  variable: *subject
                  value: *survey_te
                -
                  variable: *tier
                  value: *tier_province
                - 
                  variable: *dimention
                  value: *dim_te_activity

            aes:
              - 
                arg: "x"
                var: *topic
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            order:
              -
                var: "fill"
                list: 
                  - "从不"
                  - "每学期1-3次"
                  - "每学期4-7次"
                  - "每学期8-12次"
                  - "每学期13次及以上"
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            position: "stack" 
            coord: "flip"
            text:
              vjust: 0.5
            legend: *plot_legend_right
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "百分数（%）"

        teacher_requirement.bar: 
          fig.name: "四年级教师专业发展需求方面的情况"
          data:
            digits: 0
            filter:
              -
                -
                  variable: *subject
                  value: *survey_te
                -
                  variable: *tier
                  value: *tier_province
                - 
                  variable: *dimention
                  value: *dim_te_requirement

            aes:
              - 
                arg: "x"
                var: *topic
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            order:
              - 
                var: "fill"
                list: 
                  - "目前不需要"
                  - "需要度不高"
                  - "不确定"
                  - "需要"
                  - "非常需要"

          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            position: "stack" 
            coord: "flip"
            text:
              vjust: 0.5
            legend: *plot_legend_right
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "百分数（%）"
  
        teacher_difficulty.bar: 
          fig.name: "四年级教师专业发展遇到的困难情况"
          data:
            digits: 0
            filter:
              -
                -
                  variable: *subject
                  value: *survey_te
                -
                  variable: *tier
                  value: *tier_province
                - 
                  variable: *dimention
                  value: *dim_te_difficulty

            aes:
              - 
                arg: "x"
                var: *topic
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            order:
              - 
                var: "fill"
                list: *legend_order_match

          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            position: "stack" 
            coord: "flip"
            text:
              vjust: 0.5
            legend: *plot_legend_right
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "百分数（%）"
   
        teacher_course_development.bar: 
          fig.name: "四年级教师对学校课程建设的感知情况"
          data:
            digits: 0
            filter:
              -
                -
                  variable: *subject
                  value: *survey_te
                -
                  variable: *tier
                  value: *tier_province
                - 
                  variable: *dimention
                  value: *dim_te_development

            aes:
              - 
                arg: "x"
                var: *topic
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            order:
              - 
                var: "fill"
                list: *legend_order_match

          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            position: "stack" 
            coord: "flip"
            text:
              vjust: 0.5
            legend: *plot_legend_right
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "百分数（%）"
  
        teacher_course_implement.bar: 
          fig.name: "四年级教师对学校课程实施的感知情况"
          data:
            digits: 0
            filter:
              -
                -
                  variable: *subject
                  value: *survey_te
                -
                  variable: *tier
                  value: *tier_province
                - 
                  variable: *dimention
                  value: *dim_te_implement

            aes:
              - 
                arg: "x"
                var: *topic
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            order:
              - 
                var: "fill"
                list: *legend_order_match

          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            position: "stack" 
            coord: "flip"
            text:
              vjust: 0.5
            legend: *plot_legend_right
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "百分数（%）"
  
        teacher_course_management.bar: 
          fig.name: "四年级教师对学校课程管理的感知情况"
          data:
            digits: 0
            filter:
              -
                -
                  variable: *subject
                  value: *survey_te
                -
                  variable: *tier
                  value: *tier_province
                - 
                  variable: *dimention
                  value: *dim_te_management

            aes:
              - 
                arg: "x"
                var: *topic
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            order:
              - 
                var: "fill"
                list: *legend_order_match

          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            position: "stack" 
            coord: "flip"
            text:
              vjust: 0.5
            legend: *plot_legend_right
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "百分数（%）"
   
        teacher_course_evaluation.bar: 
          fig.name: "四年级教师对学校课程评价的感知情况"
          data:
            digits: 0
            filter:
              -
                -
                  variable: *subject
                  value: *survey_te
                -
                  variable: *tier
                  value: *tier_province
                - 
                  variable: *dimention
                  value: *dim_te_evaluation

            aes:
              - 
                arg: "x"
                var: *topic
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            order:
              - 
                var: "fill"
                list: *legend_order_match

          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            position: "stack" 
            coord: "flip"
            text:
              vjust: 0.5
            legend: *plot_legend_right
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "百分数（%）"

        principal_gender.bar: 
          fig.name: "小学校长性别"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *survey_pr
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_pr_gender
              -
                -
                  variable: *subject
                  value: *survey_pr
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *top_pr_gender
              -
                -
                  variable: *subject
                  value: *survey_pr
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_xinyouzhi
                - 
                  variable: *topic
                  value: *top_pr_gender

            aes:
              - 
                arg: "x"
                var: *sample
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            order: 
              -
                var: "x"
                list: *order_prov_acad_xin
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_stacking 
            
            legend: *plot_legend_top
            bar:
              width: *plot_bar_width_thin
            label:
              xlab: *xlab_prov_acad_xin
              ylab: "百分数（%）"

        principal_age.bar: 
          fig.name: "小学校长年龄"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *survey_pr
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_pr_age
              -
                -
                  variable: *subject
                  value: *survey_pr
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *top_pr_age
              -
                -
                  variable: *subject
                  value: *survey_pr
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_xinyouzhi
                - 
                  variable: *topic
                  value: *top_pr_age

            aes:
              - 
                arg: "x"
                var: *sample
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            order: 
              -
                var: "x"
                list: *order_prov_acad_xin
              - 
                var: "fill"
                list:
                  - "35岁以下"
                  - "35-40岁（含40岁）"
                  - "40-45岁（含45岁）"
                  - "45-50岁（含50岁）"
                  - "50-55岁（含55岁）"
                  - "55-60岁（含60岁）"
                  - "60岁以上"
              
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_stacking 
            
            legend: *plot_legend_top
            bar:
              width: *plot_bar_width_thin
            label:
              xlab: *xlab_prov_acad_xin
              ylab: "百分数（%）"

        principal_years.bar: 
          fig.name: "小学校长担任校长年限"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *survey_pr
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_pr_years
              -
                -
                  variable: *subject
                  value: *survey_pr
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *top_pr_years
              -
                -
                  variable: *subject
                  value: *survey_pr
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_xinyouzhi
                - 
                  variable: *topic
                  value: *top_pr_years

            aes:
              - 
                arg: "x"
                var: *sample
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            order: 
              -
                var: "x"
                list: *order_prov_acad_xin
              -
                var: "fill"
                list:
                  - "5年以下"
                  - "5-10年（含5年）"
                  - "10-15年（含10年）"
                  - "15-20年（含15年）"
                  - "20年及以上"
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_stacking 
            
            legend: *plot_legend_top
            bar:
              width: *plot_bar_width_thin
            label:
              xlab: *xlab_prov_acad_xin
              ylab: "百分数（%）"

        principal_edu.bar: 
          fig.name: "小学校长学历"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *survey_pr
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_pr_edu
              -
                -
                  variable: *subject
                  value: *survey_pr
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *top_pr_edu
              -
                -
                  variable: *subject
                  value: *survey_pr
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_xinyouzhi
                - 
                  variable: *topic
                  value: *top_pr_edu

            aes:
              - 
                arg: "x"
                var: *sample
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            order: 
              -
                var: "x"
                list: *order_prov_acad_xin
              - 
                var: "fill"
                list: 
                  - "中师或高中"
                  - "大专"
                  - "本科"
                  - "研究生"
              
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_stacking 
            
            legend: *plot_legend_top
            bar:
              width: *plot_bar_width_thin
            label:
              xlab: *xlab_prov_acad_xin
              ylab: "百分数（%）"

        principal_title.bar: 
          fig.name: "小学校长的职级"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *survey_pr
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_pr_title
              -
                -
                  variable: *subject
                  value: *survey_pr
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *top_pr_title
              -
                -
                  variable: *subject
                  value: *survey_pr
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_xinyouzhi
                - 
                  variable: *topic
                  value: *top_pr_title

            aes:
              - 
                arg: "x"
                var: *sample
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            order: 
              -
                var: "x"
                list: *order_prov_acad_xin
              -
                var: "fill"
                list:
                  - "无职级"
                  - "一级"
                  - "二级"
                  - "三级"
                  - "四级"
                  - "特级"
              
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_stacking 
            
            legend: *plot_legend_top
            bar:
              width: *plot_bar_width_thin
            label:
              xlab: *xlab_prov_acad_xin
              ylab: "百分数（%）"

        principal_school_history.bar: 
          fig.name: "小学学校的校龄"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *survey_pr
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_school_history
              -
                -
                  variable: *subject
                  value: *survey_pr
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *top_school_history
              -
                -
                  variable: *subject
                  value: *survey_pr
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_xinyouzhi
                - 
                  variable: *topic
                  value: *top_school_history

            aes:
              - 
                arg: "x"
                var: *sample
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            order: 
              -
                var: "x"
                list: *order_prov_acad_xin
              -
                var: "fill"
                list:
                  - "15年以下"
                  - "15-30年"
                  - "31-45年"
                  - "46-60年"
                  - "61年以上"
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_stacking 
            
            legend: *plot_legend_top
            bar:
              width: *plot_bar_width_thin
            label:
              xlab: *xlab_prov_acad_xin
              ylab: "百分数（%）"

        principal_meeting.bar: 
          fig.name: "小学校长参加各种会议的频率"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *survey_pr
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_pr_meeting
              -
                -
                  variable: *subject
                  value: *survey_pr
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *top_pr_meeting
              -
                -
                  variable: *subject
                  value: *survey_pr
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_xinyouzhi
                - 
                  variable: *topic
                  value: *top_pr_meeting

            aes:
              - 
                arg: "x"
                var: *sample
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *perspective
              -  
                arg: "label"
                var: *label
            order: 
              -
                var: "x"
                list: *order_prov_acad_xin
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_stacking 
            
            #legend: *plot_legend_top
            bar:
              width: *plot_bar_width_thin
            label:
              xlab: *xlab_prov_acad_xin
              ylab: "百分数（%）"

        principal_instructing.bar: 
          fig.name: "小学校长给学生上课的频率"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *survey_pr
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_pr_instructing
              -
                -
                  variable: *subject
                  value: *survey_pr
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *top_pr_instructing
              -
                -
                  variable: *subject
                  value: *survey_pr
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_xinyouzhi
                - 
                  variable: *topic
                  value: *top_pr_instructing

            aes:
              - 
                arg: "x"
                var: *sample
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *perspective
              -  
                arg: "label"
                var: *label
            order: 
              -
                var: "x"
                list: *order_prov_acad_xin
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_stacking 
            
            #legend: *plot_legend_top
            bar:
              width: *plot_bar_width_thin
            label:
              xlab: *xlab_prov_acad_xin
              ylab: "百分数（%）"

        principal_researching.bar: 
          fig.name: "小学校长参加听课、评课及教研活动的频率"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *survey_pr
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_pr_researching
              -
                -
                  variable: *subject
                  value: *survey_pr
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *top_pr_researching
              -
                -
                  variable: *subject
                  value: *survey_pr
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_xinyouzhi
                - 
                  variable: *topic
                  value: *top_pr_researching

            aes:
              - 
                arg: "x"
                var: *sample
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *perspective
              -  
                arg: "label"
                var: *label
            order: 
              -
                var: "x"
                list: *order_prov_acad_xin
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_stacking 
            
            #legend: *plot_legend_top
            bar:
              width: *plot_bar_width_thin
            label:
              xlab: *xlab_prov_acad_xin
              ylab: "百分数（%）"

        principal_communication.bar: 
          fig.name: "小学校长与教师交流，听取教师意见的频率"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *survey_pr
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_pr_communication
              -
                -
                  variable: *subject
                  value: *survey_pr
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *top_pr_communication
              -
                -
                  variable: *subject
                  value: *survey_pr
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_xinyouzhi
                - 
                  variable: *topic
                  value: *top_pr_communication

            aes:
              - 
                arg: "x"
                var: *sample
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *perspective
              -  
                arg: "label"
                var: *label
            order: 
              -
                var: "x"
                list: *order_prov_acad_xin
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_stacking 
            
            #legend: *plot_legend_top
            bar:
              width: *plot_bar_width_thin
            label:
              xlab: *xlab_prov_acad_xin
              ylab: "百分数（%）"

        principal_evaluation.bar: 
          fig.name: "小学校长应对上级行政部门的检查、评估的频率"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *survey_pr
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_pr_evaluation
              -
                -
                  variable: *subject
                  value: *survey_pr
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *top_pr_evaluation
              -
                -
                  variable: *subject
                  value: *survey_pr
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_xinyouzhi
                - 
                  variable: *topic
                  value: *top_pr_evaluation

            aes:
              - 
                arg: "x"
                var: *sample
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *perspective
              -  
                arg: "label"
                var: *label
            order: 
              -
                var: "x"
                list: *order_prov_acad_xin
              
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_stacking 
            
            #legend: *plot_legend_top
            bar:
              width: *plot_bar_width_thin
            label:
              xlab: *xlab_prov_acad_xin
              ylab: "百分数（%）"

        principal_financing.bar: 
          fig.name: "小学校长在科研、教学、资金使用的方面的规划与审批的频率"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *survey_pr
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_pr_financing
              -
                -
                  variable: *subject
                  value: *survey_pr
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *top_pr_financing
              -
                -
                  variable: *subject
                  value: *survey_pr
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_xinyouzhi
                - 
                  variable: *topic
                  value: *top_pr_financing

            aes:
              - 
                arg: "x"
                var: *sample
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *perspective
              -  
                arg: "label"
                var: *label
            order: 
              -
                var: "x"
                list: *order_prov_acad_xin
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_stacking 
            
            #legend: *plot_legend_top
            bar:
              width: *plot_bar_width_thin
            label:
              xlab: *xlab_prov_acad_xin
              ylab: "百分数（%）"
   
        principal_challenge.bar: 
          fig.name: "小学校长对学校发展遇到的困难情况"
          data:
            digits: 0
            filter:
              -
                -
                  variable: *subject
                  value: *survey_pr
                -
                  variable: *tier
                  value: *tier_province
                - 
                  variable: *dimention
                  value: *dim_pr_challenge

            aes:
              - 
                arg: "x"
                var: *topic
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            order:
              -
                var: "fill"
                list:
                  - "根本不是"
                  - "有一点"
                  - "不确定"
                  - "一定程度"
                  - "很大程度"
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            position: "stack" 
            coord: "flip"
            text:
              vjust: 0.5
            legend: *plot_legend_right
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "百分数（%）"

        principal_publishing.bar: 
          fig.name: "小学学校近三年正式出版专门的学科交流与经验分享的成果集的数量"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *survey_pr
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_pr_publishing
              -
                -
                  variable: *subject
                  value: *survey_pr
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *top_pr_publishing
              -
                -
                  variable: *subject
                  value: *survey_pr
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_xinyouzhi
                - 
                  variable: *topic
                  value: *top_pr_publishing

            aes:
              - 
                arg: "x"
                var: *sample
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            order: 
              -
                var: "x"
                list: *order_prov_acad_xin
              -
                var: "fill"
                list:
                  - "没有"
                  - "1本"
                  - "2本"
                  - "3本"
                  - "4本及以上"
                  
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_stacking 
            
            legend: *plot_legend_top
            bar:
              width: *plot_bar_width_thin
            label:
              xlab: *xlab_prov_acad_xin
              ylab: "百分数（%）"

        principal_course.bar: 
          fig.name: "小学学校近三年开设校本课程的数量的情况"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *survey_pr
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_pr_course
              -
                -
                  variable: *subject
                  value: *survey_pr
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *top_pr_course
              -
                -
                  variable: *subject
                  value: *survey_pr
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_xinyouzhi
                - 
                  variable: *topic
                  value: *top_pr_course

            aes:
              - 
                arg: "x"
                var: *sample
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            order: 
              -
                var: "x"
                list: *order_prov_acad_xin
              -
                var: "fill"
                list:
                  - "没有"
                  - "1-5门"
                  - "6-10门"
                  - "11-20门"
                  - "20门以上"
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_stacking 
            
            legend: *plot_legend_top
            bar:
              width: *plot_bar_width_thin
            label:
              xlab: *xlab_prov_acad_xin
              ylab: "百分数（%）"

        principal_community.bar: 
          fig.name: "小学建设学生社团、兴趣小组和俱乐部数量的情况"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *survey_pr
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_pr_community
              -
                -
                  variable: *subject
                  value: *survey_pr
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *top_pr_community
              -
                -
                  variable: *subject
                  value: *survey_pr
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_xinyouzhi
                - 
                  variable: *topic
                  value: *top_pr_community

            aes:
              - 
                arg: "x"
                var: *sample
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            order: 
              -
                var: "x"
                list: *order_prov_acad_xin_gen_hu
              -
                var: "fill"
                list:
                  - "没有"
                  - "1-5个"
                  - "6-10个"
                  - "11-20个"
                  - "20个以上"
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_stacking 
            
            legend: *plot_legend_top
            bar:
              width: *plot_bar_width_thin
            label:
              xlab: *xlab_prov_acad_xin
              ylab: "百分数（%）"
   
        principal_feelings.bar: 
          fig.name: "小学校长对学校感受的情况"
          data:
            digits: 0
            filter:
              -
                -
                  variable: *subject
                  value: *survey_pr
                -
                  variable: *tier
                  value: *tier_province
                - 
                  variable: *dimention
                  value: *dim_pr_feelings

            aes:
              - 
                arg: "x"
                var: *topic
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            order:
              -
                var: "fill"
                list:
                  - "非常低"
                  - "比较低"
                  - "中等"
                  - "比较高"
                  - "非常高"
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            position: "stack" 
            coord: "flip"
            text:
              vjust: 0.5
            legend: *plot_legend_right
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "百分数（%）"
   
        principal_philosophy.bar: 
          fig.name: "小学校长教学观的情况"
          data:
            digits: 0
            filter:
              -
                -
                  variable: *subject
                  value: *survey_pr
                -
                  variable: *tier
                  value: *tier_province
                - 
                  variable: *dimention
                  value: *dim_pr_philosophy

            aes:
              - 
                arg: "x"
                var: *topic
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            order:
              -
                var: "fill"
                list: *legend_order_aggree
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            position: "stack" 
            coord: "flip"
            text:
              vjust: 0.5
            legend: *plot_legend_right
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "百分数（%）"

        family_structure.bar: 
          fig.name: "学生的家庭结构情况"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_family_structure
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *top_family_structure
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_xinyouzhi
                - 
                  variable: *topic
                  value: *top_family_structure
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_gender
                - 
                  variable: *topic
                  value: *top_family_structure
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_huji
                - 
                  variable: *topic
                  value: *top_family_structure
            aes:
              - 
                arg: "x"
                var: *sample
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            order: 
              -
                var: "x"
                list: *order_prov_acad_xin_gen_hu 
              -
                var: "fill"
                list: 
                  - "扩大家庭"
                  - "主干家庭"
                  - "核心家庭"
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_stacking 
            
            legend: *plot_legend_top
            bar:
              width: *plot_bar_width
            label:
              xlab: *xlab_prov_acad_xin_gen_hu
              ylab: "百分数（%）"

        query_about_school.bar: 
          fig.name: "家长主动询问孩子在校发生情况"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_query_about_school
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *top_query_about_school
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_xinyouzhi
                - 
                  variable: *topic
                  value: *top_query_about_school
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_gender
                - 
                  variable: *topic
                  value: *top_query_about_school
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_huji
                - 
                  variable: *topic
                  value: *top_query_about_school
            aes:
              - 
                arg: "x"
                var: *sample
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            order: 
              -
                var: "x"
                list: *order_prov_acad_xin_gen_hu 
              - 
                var: "fill"
                list: *legend_order_frequency 
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_stacking 
            
            legend: *plot_legend_top
            bar:
              width: *plot_bar_width
            label:
              xlab: *xlab_prov_acad_xin_gen_hu
              ylab: "百分数（%）"

        family_discuss.bar: 
          fig.name: "给出了家长认为孩子参与家庭事务讨论的情况"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_family_discuss
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *top_family_discuss
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_xinyouzhi
                - 
                  variable: *topic
                  value: *top_family_discuss
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_gender
                - 
                  variable: *topic
                  value: *top_family_discuss
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_huji
                - 
                  variable: *topic
                  value: *top_family_discuss
            aes:
              - 
                arg: "x"
                var: *sample
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            order: 
              -
                var: "x"
                list: *order_prov_acad_xin_gen_hu
              - 
                var: "fill"
                list: *legend_order_frequency
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_stacking 
            
            legend: *plot_legend_top
            bar:
              width: *plot_bar_width
            label:
              xlab: *xlab_prov_acad_xin_gen_hu
              ylab: "百分数（%）"

        family_work.bar: 
          fig.name: "家长认为孩子平均每天在家做家务情况"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_family_work
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *top_family_work
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_xinyouzhi
                - 
                  variable: *topic
                  value: *top_family_work
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_gender
                - 
                  variable: *topic
                  value: *top_family_work
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_huji
                - 
                  variable: *topic
                  value: *top_family_work
            aes:
              - 
                arg: "x"
                var: *sample
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            order: 
              -
                var: "x"
                list: *order_prov_acad_xin_gen_hu
              -
                var: "fill"
                list: 
                  - "几乎不用做"
                  - "10分钟以内"
                  - "11-30分钟"
                  - "31-60分钟"
                  - "61分钟及以上"

          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_stacking 
            
            legend: *plot_legend_top
            bar:
              width: *plot_bar_width
            label:
              xlab: *xlab_prov_acad_xin_gen_hu
              ylab: "百分数（%）"

        parent_accompany.bar: 
          fig.name: "家长每周陪孩子共同活动的情况"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_parent_accompany
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *top_parent_accompany
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_xinyouzhi
                - 
                  variable: *topic
                  value: *top_parent_accompany
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_gender
                - 
                  variable: *topic
                  value: *top_parent_accompany
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_huji
                - 
                  variable: *topic
                  value: *top_parent_accompany
            aes:
              - 
                arg: "x"
                var: *sample
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            order: 
              -
                var: "x"
                list: *order_prov_acad_xin_gen_hu
              -
                var: "fill"
                list:
                  - "3小时以内"
                  - "3-6小时（含3小时）"
                  - "6-9小时（含6小时）"
                  - "9-12小时（含9小时）"
                  - "12小时及以上"
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_stacking 
            
            legend: *plot_legend_top
            bar:
              width: *plot_bar_width
            label:
              xlab: *xlab_prov_acad_xin_gen_hu
              ylab: "百分数（%）"

        quarrel_frequency.bar: 
          fig.name: "家长与孩子吵架频率的总体情况"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_quarrel_frequency
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *top_quarrel_frequency
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_xinyouzhi
                - 
                  variable: *topic
                  value: *top_quarrel_frequency
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_gender
                - 
                  variable: *topic
                  value: *top_quarrel_frequency
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_huji
                - 
                  variable: *topic
                  value: *top_quarrel_frequency
            aes:
              - 
                arg: "x"
                var: *sample
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            order: 
              -
                var: "x"
                list: *order_prov_acad_xin_gen_hu
              -
                var: "fill"
                list: 
                  - "几乎不吵架或从不吵架"
                  - "偶尔（大约一个月一次或更少）"
                  - "大约每周吵架一次"
                  - "每天吵架"
                  - "一天吵架好几次"
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_stacking 
            
            legend: *plot_legend_top
            bar:
              width: *plot_bar_width
            label:
              xlab: *xlab_prov_acad_xin_gen_hu
              ylab: "百分数（%）"

        quarrel_level.bar: 
          fig.name: "家长与孩子吵架程度的总体情况"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_quarrel_level
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *top_quarrel_level
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_xinyouzhi
                - 
                  variable: *topic
                  value: *top_quarrel_level
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_gender
                - 
                  variable: *topic
                  value: *top_quarrel_level
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_huji
                - 
                  variable: *topic
                  value: *top_quarrel_level
            aes:
              - 
                arg: "x"
                var: *sample
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            order: 
              -
                var: "x"
                list: *order_prov_acad_xin_gen_hu
              -
                var: "fill"
                list:
                  - "如果有的话，也是很轻微"
                  - "有时（不到半数）会吵得很厉害"
                  - "大约有一半的情况会吵得很厉害"
                  - "差不多都吵得很厉害"
                  - "总是吵得很厉害"
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_stacking 
            legend: *plot_legend_top
            bar:
              width: *plot_bar_width
            label:
              xlab: *xlab_prov_acad_xin_gen_hu
              ylab: "百分数（%）"
  
        family_coach.bar: 
          fig.name: "家长辅导有关问题的总体情况"
          data:
            digits: 0
            filter:
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *dimention
                  value: *dim_pa_coach

            aes:
              - 
                arg: "x"
                var: *topic
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            order:
              - 
                var: "fill"
                list: *legend_order_aggree
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            position: "stack" 
            coord: "flip"
            text:
              vjust: 0.5
            legend: *plot_legend_right
            bar:
              width: *plot_bar_width_thin
            label:
              xlab: ""
              ylab: "百分数（%）"

        family_coach_person.bar: 
          fig.name: "家里负责孩子学习的人的总体情况"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *dimention
                  value: *dim_pa_coach_person
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *dimention
                  value: *dim_pa_coach_person
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_xinyouzhi
                - 
                  variable: *dimention
                  value: *dim_pa_coach_person
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_gender
                - 
                  variable: *dimention
                  value: *dim_pa_coach_person
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_huji
                - 
                  variable: *dimention
                  value: *dim_pa_coach_person
            aes:
              - 
                arg: "x"
                var: *sample
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            order: 
              -
                var: "x"
                list: *order_prov_acad_xin_gen_hu
              - 
                var: "fill"
                list:
                  - "其他"
                  - "（外）祖父母"
                  - "家庭教师"
                  - "父母分工"
                  - "母亲"
                  - "父亲"
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_stacking 
            
            legend: *plot_legend_top
            bar:
              width: *plot_bar_width
            label:
              xlab: *xlab_prov_acad_xin_gen_hu
              ylab: "百分数（%）"
 
        parent_feeling.bar: 
          fig.name: "家长对学校教育感受的情况"
          data:
            digits: 0
            filter:
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *dimention
                  value: *dim_pa_feelings

            aes:
              - 
                arg: "x"
                var: *topic
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            order:
              -
                var: "fill"
                list: *legend_order_match
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            position: "stack" 
            coord: "flip"
            text:
              vjust: 0.5
            legend: *plot_legend_right
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "百分数（%）"

        parent_expection.bar: 
          fig.name: "家长在教育期望方面的总体情况"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: "您期待孩子将来上学上到什么程度"
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: "您期待孩子将来上学上到什么程度"
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_xinyouzhi
                - 
                  variable: *topic
                  value: "您期待孩子将来上学上到什么程度"
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_gender
                - 
                  variable: *topic
                  value: "您期待孩子将来上学上到什么程度"
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_huji
                - 
                  variable: *topic
                  value: "您期待孩子将来上学上到什么程度"
            aes:
              - 
                arg: "x"
                var: *sample
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            order: 
              -
                var: "x"
                list: *order_prov_acad_xin_gen_hu
              - 
                var: "fill"
                list:
                  - "高中（含职业中专）"
                  - "大学专科"
                  - "大学本科"
                  - "硕士"
                  - "博士"
              
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_stacking 
            
            legend: *plot_legend_top
            bar:
              width: *plot_bar_width
            label:
              xlab: *xlab_prov_acad_xin_gen_hu
              ylab: "百分数（%）"
   
        parent_philosophy.bar: 
          fig.name: "家长教育观的总体情况"
          data:
            digits: 0
            filter:
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_province
                - 
                  variable: *dimention
                  value: *dim_pa_philosophy

            aes:
              - 
                arg: "x"
                var: *topic
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            order:
              -
                var: "fill"
                list: *legend_order_aggree

          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            position: "stack" 
            coord: "flip"
            text:
              vjust: 0.5
            legend: *plot_legend_right
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "百分数（%）"

        school_reasonable.bar: 
          fig.name: "家长心目中理想的小学，最重要的前三项特征"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_school_reasonable
            aes:
              - 
                arg: "x"
                var: *key
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            sort:
              -
                var: "x"
                variable: *topic
                option: *top_school_reasonable
                value: *value
                asc_desc: "ASC"
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            position: "dodge" 
            text:
              vjust: 0.5
            coord: "flip"
            bar:
              width: *plot_bar_width_fat
            label:
              xlab: ""
              ylab: "百分数（%）"

      param:
            
        passed.rate.table.cn: 
          name: "学生在语文学科达到课程标准的基本要求的比例"
          data:
            digits: 1
            filter:
              -

                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *dimention
                  value: *dim_cn_level
                - 
                  variable: *topic
                  value: *top_passed_rate

        passed.rate.table.ma: 
          name: "学生在数学学科达到课程标准的基本要求的比例"
          data:
            digits: 1
            filter:
              -

                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *dimention
                  value: *dim_cn_level
                - 
                  variable: *topic
                  value: *top_passed_rate

        survey.summary.table.st: 
          name: "学生问卷概要"
          data:
            digits: 1
            filter:
              -

                - 
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total

        survey.summary.table.te: 
          name: "教师问卷概要"
          data:
            digits: 1
            filter:
              -

                - 
                  variable: *subject
                  value: *survey_te
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total

        survey.summary.table.pr: 
          name: "校长问卷概要"
          data:
            digits: 1
            filter:
              -

                - 
                  variable: *subject
                  value: *survey_pr
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total

        survey.summary.table.pa: 
          name: "家长问卷概要"
          data:
            digits: 1
            filter:
              -

                - 
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total

    -
      process: FALSE
      table: "统计指标汇总"
      markdown: "province_green.Rmd"

      year: "2016年度"
      tier: *tier_province
      project: "中小学学业质量"
      subject: ""
      report: "绿色指标指数报告"
      title: ""
      header: "" 

      dir_output: "province/"
      datetime: ""
      file: ""

      pre.render:
        - "pre.render.global.setting"
        - "pre.render.cover.page"
        - "pre.render.head.foot"
        - "pre.render.report.preface"
        - "pre.render.table.of.contents"
        - "pre.render.project.summary"

      plot:
        passed.rate.all.bar: 
          fig.name: "四年级学业成绩标准达成度指数"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *subject_all
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_passed_rate
                -
                  x: "x"
                  from: *scope
                -
                  fill: "fill"
                  by:
                    - *tier
                    - *perspective
              -
                -
                  variable: *subject
                  value: *subject_all
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *idx_passed_rate
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by:
                    - *tier
                    - *perspective
              -
                -
                  variable: *subject
                  value: *subject_all
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_xinyouzhi
                - 
                  variable: *topic
                  value: *idx_passed_rate
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by:
                    - *tier
                    - *perspective
              -
                -
                  variable: *subject
                  value: *subject_all
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_gender
                - 
                  variable: *topic
                  value: *idx_passed_rate
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by:
                    - *tier
                    - *perspective
              -
                -
                  variable: *subject
                  value: *subject_all
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_huji
                - 
                  variable: *topic
                  value: *idx_passed_rate
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by:
                    - *tier
                    - *perspective
              -
                -
                  variable: *subject
                  value: *subject_all
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_passed_rate
                -
                  x: "x"
                  from: *scope
                -
                  fill: "fill"
                  by:
                    - *tier
                    - *perspective
            aes:
              #- 
              #  arg: "x"
              #  var: *scope
              -  
                arg: "y"
                var: *value
              #- 
              #  arg: "fill"
              #  var: *tier
              -  
                arg: "label"
                var: *label
            order: 
              -
                var: "x"
                list: *order_prov_pers_coun
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            position: "dodge" 
            text:
              vjust: 0.5
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "标准达成度指数"
            axisx:
              text_angle: 90
              text_size: 8
            axisy:
              discrete_limits: *axisy_discrete_limits_index
              ylim: *axisy_ylim

        passed.rate.cn.bar: 
          fig.name: "四年级语文学业成绩标准达成度指数"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_passed_rate
                -
                  x: "x"
                  from: *scope
                -
                  fill: "fill"
                  by:
                    - *tier
                    - *perspective
              -
                -
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *idx_passed_rate
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by:
                    - *tier
                    - *perspective
              -
                -
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_xinyouzhi
                - 
                  variable: *topic
                  value: *idx_passed_rate
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by:
                    - *tier
                    - *perspective
              -
                -
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_gender
                - 
                  variable: *topic
                  value: *idx_passed_rate
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by:
                    - *tier
                    - *perspective
              -
                -
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_huji
                - 
                  variable: *topic
                  value: *idx_passed_rate
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by:
                    - *tier
                    - *perspective
              -
                -
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_passed_rate
                -
                  x: "x"
                  from: *scope
                -
                  fill: "fill"
                  by:
                    - *tier
                    - *perspective
            aes:
              #- 
              #  arg: "x"
              #  var: *scope
              -  
                arg: "y"
                var: *value
              #- 
              #  arg: "fill"
              #  var: *tier
              -  
                arg: "label"
                var: *label
            order: 
              -
                var: "x"
                list: *order_prov_pers_coun
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            position: "dodge" 
            text:
              vjust: 0.5
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "标准达成度指数"
            axisx:
              text_angle: 90
              text_size: 8
            axisy:
              discrete_limits: *axisy_discrete_limits_index
              ylim: *axisy_ylim

        passed.rate.ma.bar: 
          fig.name: "四年级数学学业成绩标准达成度指数"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_passed_rate
                -
                  x: "x"
                  from: *scope
                -
                  fill: "fill"
                  by:
                    - *tier
                    - *perspective
              -
                -
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *idx_passed_rate
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by:
                    - *tier
                    - *perspective
              -
                -
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_xinyouzhi
                - 
                  variable: *topic
                  value: *idx_passed_rate
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by:
                    - *tier
                    - *perspective
              -
                -
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_gender
                - 
                  variable: *topic
                  value: *idx_passed_rate
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by:
                    - *tier
                    - *perspective
              -
                -
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_huji
                - 
                  variable: *topic
                  value: *idx_passed_rate
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by:
                    - *tier
                    - *perspective
              -
                -
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_passed_rate
                -
                  x: "x"
                  from: *scope
                -
                  fill: "fill"
                  by:
                    - *tier
                    - *perspective
            aes:
              #- 
              #  arg: "x"
              #  var: *scope
              -  
                arg: "y"
                var: *value
              #- 
              #  arg: "fill"
              #  var: *tier
              -  
                arg: "label"
                var: *label
            order: 
              -
                var: "x"
                list: *order_prov_pers_coun
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            position: "dodge" 
            text:
              vjust: 0.5
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "标准达成度指数"
            axisx:
              text_angle: 90
              text_size: 8
            axisy:
              discrete_limits: *axisy_discrete_limits_index
              ylim: *axisy_ylim

        high.thinking.all.bar: 
          fig.name: "四年级学生高层次思维能力指数"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *subject_all
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_high_level_thinking
                -
                  x: "x"
                  from: *scope
                -
                  fill: "fill"
                  by:
                    - *tier
                    - *perspective
              -
                -
                  variable: *subject
                  value: *subject_all
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *idx_high_level_thinking
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by:
                    - *tier
                    - *perspective
              -
                -
                  variable: *subject
                  value: *subject_all
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_xinyouzhi
                - 
                  variable: *topic
                  value: *idx_high_level_thinking
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by:
                    - *tier
                    - *perspective
              -
                -
                  variable: *subject
                  value: *subject_all
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_gender
                - 
                  variable: *topic
                  value: *idx_high_level_thinking
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by:
                    - *tier
                    - *perspective
              -
                -
                  variable: *subject
                  value: *subject_all
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_huji
                - 
                  variable: *topic
                  value: *idx_high_level_thinking
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by:
                    - *tier
                    - *perspective
              -
                -
                  variable: *subject
                  value: *subject_all
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_high_level_thinking
                -
                  x: "x"
                  from: *scope
                -
                  fill: "fill"
                  by:
                    - *tier
                    - *perspective
            aes:
              #- 
              #  arg: "x"
              #  var: *scope
              -  
                arg: "y"
                var: *value
              #- 
              #  arg: "fill"
              #  var: *tier
              -  
                arg: "label"
                var: *label
            order: 
              -
                var: "x"
                list: *order_prov_pers_coun
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            position: "dodge" 
            text:
              vjust: 0.5
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "高层次思维能力指数"
            axisx:
              text_angle: 90
              text_size: 8
            axisy:
              discrete_limits: *axisy_discrete_limits_index
              ylim: *axisy_ylim
              
        high.thinking.cn.bar: 
          fig.name: "四年级学生语文高层次思维能力指数"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_high_level_thinking
                -
                  x: "x"
                  from: *scope
                -
                  fill: "fill"
                  by:
                    - *tier
                    - *perspective
              -
                -
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *idx_high_level_thinking
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by:
                    - *tier
                    - *perspective
              -
                -
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_xinyouzhi
                - 
                  variable: *topic
                  value: *idx_high_level_thinking
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by:
                    - *tier
                    - *perspective
              -
                -
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_gender
                - 
                  variable: *topic
                  value: *idx_high_level_thinking
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by:
                    - *tier
                    - *perspective
              -
                -
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_huji
                - 
                  variable: *topic
                  value: *idx_high_level_thinking
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by:
                    - *tier
                    - *perspective
              -
                -
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_high_level_thinking
                -
                  x: "x"
                  from: *scope
                -
                  fill: "fill"
                  by:
                    - *tier
                    - *perspective
            aes:
              #- 
              #  arg: "x"
              #  var: *scope
              -  
                arg: "y"
                var: *value
              #- 
              #  arg: "fill"
              #  var: *tier
              -  
                arg: "label"
                var: *label
            order: 
              -
                var: "x"
                list: *order_prov_pers_coun
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            position: "dodge" 
            text:
              vjust: 0.5
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "高层次思维能力指数"
            axisx:
              text_angle: 90
              text_size: 8
            axisy:
              discrete_limits: *axisy_discrete_limits_index
              ylim: *axisy_ylim

        high.thinking.ma.bar: 
          fig.name: "四年级学生数学高层次思维能力指数"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_high_level_thinking
                -
                  x: "x"
                  from: *scope
                -
                  fill: "fill"
                  by:
                    - *tier
                    - *perspective
              -
                -
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *idx_high_level_thinking
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by:
                    - *tier
                    - *perspective
              -
                -
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_xinyouzhi
                - 
                  variable: *topic
                  value: *idx_high_level_thinking
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by:
                    - *tier
                    - *perspective
              -
                -
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_gender
                - 
                  variable: *topic
                  value: *idx_high_level_thinking
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by:
                    - *tier
                    - *perspective
              -
                -
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_huji
                - 
                  variable: *topic
                  value: *idx_high_level_thinking
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by:
                    - *tier
                    - *perspective
              -
                -
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_high_level_thinking
                -
                  x: "x"
                  from: *scope
                -
                  fill: "fill"
                  by:
                    - *tier
                    - *perspective
            aes:
              #- 
              #  arg: "x"
              #  var: *scope
              -  
                arg: "y"
                var: *value
              #- 
              #  arg: "fill"
              #  var: *tier
              -  
                arg: "label"
                var: *label
            order: 
              -
                var: "x"
                list: *order_prov_pers_coun
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            position: "dodge" 
            text:
              vjust: 0.5
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "高层次思维能力指数"
            axisx:
              text_angle: 90
              text_size: 8
            axisy:
              discrete_limits: *axisy_discrete_limits_index
              ylim: *axisy_ylim

        individual.balance.all.bar: 
          fig.name: "四年级学生学业成绩个体间均衡指数"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *subject_all
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_individual_balance
                -
                  x: "x"
                  from: *scope
                -
                  fill: "fill"
                  by:
                    - *tier
                    - *perspective
              -
                -
                  variable: *subject
                  value: *subject_all
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *idx_individual_balance
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by:
                    - *tier
                    - *perspective
              -
                -
                  variable: *subject
                  value: *subject_all
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_xinyouzhi
                - 
                  variable: *topic
                  value: *idx_individual_balance
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by:
                    - *tier
                    - *perspective
              -
                -
                  variable: *subject
                  value: *subject_all
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_gender
                - 
                  variable: *topic
                  value: *idx_individual_balance
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by:
                    - *tier
                    - *perspective
              -
                -
                  variable: *subject
                  value: *subject_all
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_huji
                - 
                  variable: *topic
                  value: *idx_individual_balance
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by:
                    - *tier
                    - *perspective
              -
                -
                  variable: *subject
                  value: *subject_all
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_individual_balance
                -
                  x: "x"
                  from: *scope
                -
                  fill: "fill"
                  by:
                    - *tier
                    - *perspective
            aes:
              #- 
              #  arg: "x"
              #  var: *scope
              -  
                arg: "y"
                var: *value
              #- 
              #  arg: "fill"
              #  var: *tier
              -  
                arg: "label"
                var: *label
            order: 
              -
                var: "x"
                list: *order_prov_pers_coun
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            position: "dodge" 
            text:
              vjust: 0.5
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "学业成绩均衡指数"
            axisx:
              text_angle: 90
              text_size: 8
            axisy:
              discrete_limits: *axisy_discrete_limits_index
              ylim: *axisy_ylim

        individual.balance.cn.bar: 
          fig.name: "四年级学生语文学业成绩个体间均衡指数"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_individual_balance
                -
                  x: "x"
                  from: *scope
                -
                  fill: "fill"
                  by:
                    - *tier
                    - *perspective
              -
                -
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *idx_individual_balance
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by:
                    - *tier
                    - *perspective
              -
                -
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_xinyouzhi
                - 
                  variable: *topic
                  value: *idx_individual_balance
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by:
                    - *tier
                    - *perspective
              -
                -
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_gender
                - 
                  variable: *topic
                  value: *idx_individual_balance
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by:
                    - *tier
                    - *perspective
              -
                -
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_huji
                - 
                  variable: *topic
                  value: *idx_individual_balance
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by:
                    - *tier
                    - *perspective
              -
                -
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_individual_balance
                -
                  x: "x"
                  from: *scope
                -
                  fill: "fill"
                  by:
                    - *tier
                    - *perspective
            aes:
              #- 
              #  arg: "x"
              #  var: *scope
              -  
                arg: "y"
                var: *value
              #- 
              #  arg: "fill"
              #  var: *tier
              -  
                arg: "label"
                var: *label
            order: 
              -
                var: "x"
                list: *order_prov_pers_coun
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            position: "dodge" 
            text:
              vjust: 0.5
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "学业成绩均衡指数"
            axisx:
              text_angle: 90
              text_size: 8
            axisy:
              discrete_limits: *axisy_discrete_limits_index
              ylim: *axisy_ylim

        individual.balance.ma.bar: 
          fig.name: "四年级学生数学学业成绩个体间均衡指数"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_individual_balance
                -
                  x: "x"
                  from: *scope
                -
                  fill: "fill"
                  by:
                    - *tier
                    - *perspective
              -
                -
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *idx_individual_balance
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by:
                    - *tier
                    - *perspective
              -
                -
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_xinyouzhi
                - 
                  variable: *topic
                  value: *idx_individual_balance
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by:
                    - *tier
                    - *perspective
              -
                -
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_gender
                - 
                  variable: *topic
                  value: *idx_individual_balance
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by:
                    - *tier
                    - *perspective
              -
                -
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_huji
                - 
                  variable: *topic
                  value: *idx_individual_balance
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by:
                    - *tier
                    - *perspective
              -
                -
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_individual_balance
                -
                  x: "x"
                  from: *scope
                -
                  fill: "fill"
                  by:
                    - *tier
                    - *perspective
            aes:
              #- 
              #  arg: "x"
              #  var: *scope
              -  
                arg: "y"
                var: *value
              #- 
              #  arg: "fill"
              #  var: *tier
              -  
                arg: "label"
                var: *label
            order: 
              -
                var: "x"
                list: *order_prov_pers_coun
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            position: "dodge" 
            text:
              vjust: 0.5
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "学业成绩均衡指数"
            axisx:
              text_angle: 90
              text_size: 8
            axisy:
              discrete_limits: *axisy_discrete_limits_index
              ylim: *axisy_ylim

        school.balance.all.bar: 
          fig.name: "四年级学业成绩学校间均衡指数"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *subject_all
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_school_balance
              -
                -
                  variable: *subject
                  value: *subject_all
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_school_balance
            aes:
              - 
                arg: "x"
                var: *scope
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *tier
              -  
                arg: "label"
                var: *label
            order: 
              -
                var: "x"
                list: *order_prov_coun
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            position: "dodge" 
            text:
              vjust: 0.5
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "学校间均衡指数"
            #axisx:
            #  text_angle: 90
            #  text_size: 8
            axisy:
              discrete_limits: *axisy_discrete_limits_index
              ylim: *axisy_ylim

        school.balance.cn.bar: 
          fig.name: "四年级语文学业成绩学校间均衡指数"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_school_balance
              -
                -
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_school_balance
            aes:
              - 
                arg: "x"
                var: *scope
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *tier
              -  
                arg: "label"
                var: *label
            order: 
              -
                var: "x"
                list: *order_prov_coun
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            position: "dodge" 
            text:
              vjust: 0.5
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "学校间均衡指数"
            #axisx:
            #  text_angle: 90
            #  text_size: 8
            axisy:
              discrete_limits: *axisy_discrete_limits_index
              ylim: *axisy_ylim

        school.balance.ma.bar: 
          fig.name: "四年级数学学业成绩学校间均衡指数"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_school_balance
              -
                -
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_school_balance
            aes:
              - 
                arg: "x"
                var: *scope
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *tier
              -  
                arg: "label"
                var: *label
            order: 
              -
                var: "x"
                list: *order_prov_coun
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            position: "dodge" 
            text:
              vjust: 0.5
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "学校间均衡指数"
            #axisx:
            #  text_angle: 90
            #  text_size: 8
            axisy:
              discrete_limits: *axisy_discrete_limits_index
              ylim: *axisy_ylim

        county.balance.all.bar: 
          fig.name: "四年级学业成绩区间均衡指数"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_county_balance
              -
                -
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_county_balance
            aes:
              - 
                arg: "x"
                var: *subject
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *subject
              -  
                arg: "label"
                var: *label
            order: 
              -
                var: "x"
                list: 
                  - "语文"
                  - "数学"
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            position: "dodge" 
            text:
              vjust: 0.5
            bar:
              width: 0.3
            label:
              xlab: ""
              ylab: "区间学业成绩均衡指数"
            #axisx:
            #  text_angle: 90
            #  text_size: 8
            axisy:
              discrete_limits: *axisy_discrete_limits_index
              ylim: *axisy_ylim

        learning.confidence.bar: 
          fig.name: "四年级学生学习自信心指数"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_confidence
                -
                  x: "x"
                  from: *scope
                -
                  fill: "fill"
                  by:
                    - *tier
                    - *perspective
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *idx_confidence
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by:
                    - *tier
                    - *perspective
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_xinyouzhi
                - 
                  variable: *topic
                  value: *idx_confidence
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by:
                    - *tier
                    - *perspective
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_gender
                - 
                  variable: *topic
                  value: *idx_confidence
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by:
                    - *tier
                    - *perspective
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_huji
                - 
                  variable: *topic
                  value: *idx_confidence
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by:
                    - *tier
                    - *perspective
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_confidence
                -
                  x: "x"
                  from: *scope
                -
                  fill: "fill"
                  by:
                    - *tier
                    - *perspective
            aes:
              #- 
              #  arg: "x"
              #  var: *scope
              -  
                arg: "y"
                var: *value
              #- 
              #  arg: "fill"
              #  var: *tier
              -  
                arg: "label"
                var: *label
            order: 
              -
                var: "x"
                list: *order_prov_pers_coun
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            position: "dodge" 
            text:
              vjust: 0.5
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "学习自信心指数"
            axisx:
              text_angle: 90
              text_size: 8
            axisy:
              discrete_limits: *axisy_discrete_limits_index
              ylim: *axisy_ylim

        learning.motivation.bar: 
          fig.name: "四年级学生学习动机指数"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_motivation
                -
                  x: "x"
                  from: *scope
                -
                  fill: "fill"
                  by:
                    - *tier
                    - *perspective
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *idx_motivation
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by:
                    - *tier
                    - *perspective
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_xinyouzhi
                - 
                  variable: *topic
                  value: *idx_motivation
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by:
                    - *tier
                    - *perspective
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_gender
                - 
                  variable: *topic
                  value: *idx_motivation
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by:
                    - *tier
                    - *perspective
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_huji
                - 
                  variable: *topic
                  value: *idx_motivation
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by:
                    - *tier
                    - *perspective
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_motivation
                -
                  x: "x"
                  from: *scope
                -
                  fill: "fill"
                  by:
                    - *tier
                    - *perspective
            aes:
              #- 
              #  arg: "x"
              #  var: *scope
              -  
                arg: "y"
                var: *value
              #- 
              #  arg: "fill"
              #  var: *tier
              -  
                arg: "label"
                var: *label
            order: 
              -
                var: "x"
                list: *order_prov_pers_coun
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            position: "dodge" 
            text:
              vjust: 0.5
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "学习动机指数"
            axisx:
              text_angle: 90
              text_size: 8
            axisy:
              discrete_limits: *axisy_discrete_limits_index
              ylim: *axisy_ylim

        learning.pressure.bar: 
          fig.name: "四年级学生学习压力指数"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_pressure
                -
                  x: "x"
                  from: *scope
                -
                  fill: "fill"
                  by:
                    - *tier
                    - *perspective
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *idx_pressure
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by:
                    - *tier
                    - *perspective
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_xinyouzhi
                - 
                  variable: *topic
                  value: *idx_pressure
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by:
                    - *tier
                    - *perspective
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_gender
                - 
                  variable: *topic
                  value: *idx_pressure
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by:
                    - *tier
                    - *perspective
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_huji
                - 
                  variable: *topic
                  value: *idx_pressure
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by:
                    - *tier
                    - *perspective
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_pressure
                -
                  x: "x"
                  from: *scope
                -
                  fill: "fill"
                  by:
                    - *tier
                    - *perspective
            aes:
              #- 
              #  arg: "x"
              #  var: *scope
              -  
                arg: "y"
                var: *value
              #- 
              #  arg: "fill"
              #  var: *tier
              -  
                arg: "label"
                var: *label
            order: 
              -
                var: "x"
                list: *order_prov_pers_coun
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            position: "dodge" 
            text:
              vjust: 0.5
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "学习压力指数"
            axisx:
              text_angle: 90
              text_size: 8
            axisy:
              discrete_limits: *axisy_discrete_limits_index
              ylim: *axisy_ylim

        school.identity.bar: 
          fig.name: "四年级学生学校认同度指数"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_school_identiy
                -
                  x: "x"
                  from: *scope
                -
                  fill: "fill"
                  by:
                    - *tier
                    - *perspective
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *idx_school_identiy
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by:
                    - *tier
                    - *perspective
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_xinyouzhi
                - 
                  variable: *topic
                  value: *idx_school_identiy
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by:
                    - *tier
                    - *perspective
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_gender
                - 
                  variable: *topic
                  value: *idx_school_identiy
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by:
                    - *tier
                    - *perspective
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_huji
                - 
                  variable: *topic
                  value: *idx_school_identiy
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by:
                    - *tier
                    - *perspective
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_school_identiy
                -
                  x: "x"
                  from: *scope
                -
                  fill: "fill"
                  by:
                    - *tier
                    - *perspective
            aes:
              #- 
              #  arg: "x"
              #  var: *scope
              -  
                arg: "y"
                var: *value
              #- 
              #  arg: "fill"
              #  var: *tier
              -  
                arg: "label"
                var: *label
            order: 
              -
                var: "x"
                list: *order_prov_pers_coun
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            position: "dodge" 
            text:
              vjust: 0.5
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "学校认同度指数"
            axisx:
              text_angle: 90
              text_size: 8
            axisy:
              discrete_limits: *axisy_discrete_limits_index
              ylim: *axisy_ylim

        burden.bar: 
          fig.name: "四年级学生学业负担指数"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_burden
                -
                  x: "x"
                  from: *scope
                -
                  fill: "fill"
                  by:
                    - *tier
                    - *perspective
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *idx_burden
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by:
                    - *tier
                    - *perspective
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_xinyouzhi
                - 
                  variable: *topic
                  value: *idx_burden
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by:
                    - *tier
                    - *perspective
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_gender
                - 
                  variable: *topic
                  value: *idx_burden
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by:
                    - *tier
                    - *perspective
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_huji
                - 
                  variable: *topic
                  value: *idx_burden
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by:
                    - *tier
                    - *perspective
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_burden
                -
                  x: "x"
                  from: *scope
                -
                  fill: "fill"
                  by:
                    - *tier
                    - *perspective
            aes:
              #- 
              #  arg: "x"
              #  var: *scope
              -  
                arg: "y"
                var: *value
              #- 
              #  arg: "fill"
              #  var: *tier
              -  
                arg: "label"
                var: *label
            order: 
              -
                var: "x"
                list: *order_prov_pers_coun
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            position: "dodge" 
            text:
              vjust: 0.5
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "学业负担指数"
            axisx:
              text_angle: 90
              text_size: 8
            axisy:
              discrete_limits: *axisy_discrete_limits_index
              ylim: *axisy_ylim

        sleep.bar: 
          fig.name: "四年级学生睡眠指数"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_sleep
                -
                  x: "x"
                  from: *scope
                -
                  fill: "fill"
                  by:
                    - *tier
                    - *perspective
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *idx_sleep
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by:
                    - *tier
                    - *perspective
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_xinyouzhi
                - 
                  variable: *topic
                  value: *idx_sleep
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by:
                    - *tier
                    - *perspective
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_gender
                - 
                  variable: *topic
                  value: *idx_sleep
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by:
                    - *tier
                    - *perspective
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_huji
                - 
                  variable: *topic
                  value: *idx_sleep
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by:
                    - *tier
                    - *perspective
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_sleep
                -
                  x: "x"
                  from: *scope
                -
                  fill: "fill"
                  by:
                    - *tier
                    - *perspective
            aes:
              #- 
              #  arg: "x"
              #  var: *scope
              -  
                arg: "y"
                var: *value
              #- 
              #  arg: "fill"
              #  var: *tier
              -  
                arg: "label"
                var: *label
            order: 
              -
                var: "x"
                list: *order_prov_pers_coun
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            position: "dodge" 
            text:
              vjust: 0.5
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "睡眠指数"
            axisx:
              text_angle: 90
              text_size: 8
            axisy:
              discrete_limits: *axisy_discrete_limits_index
              ylim: *axisy_ylim

        writing.homework.bar: 
          fig.name: "四年级学生作业指数"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_writing_homework
                -
                  x: "x"
                  from: *scope
                -
                  fill: "fill"
                  by:
                    - *tier
                    - *perspective
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *idx_writing_homework
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by:
                    - *tier
                    - *perspective
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_xinyouzhi
                - 
                  variable: *topic
                  value: *idx_writing_homework
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by:
                    - *tier
                    - *perspective
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_gender
                - 
                  variable: *topic
                  value: *idx_writing_homework
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by:
                    - *tier
                    - *perspective
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_huji
                - 
                  variable: *topic
                  value: *idx_writing_homework
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by:
                    - *tier
                    - *perspective
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_writing_homework
                -
                  x: "x"
                  from: *scope
                -
                  fill: "fill"
                  by:
                    - *tier
                    - *perspective
            aes:
              #- 
              #  arg: "x"
              #  var: *scope
              -  
                arg: "y"
                var: *value
              #- 
              #  arg: "fill"
              #  var: *tier
              -  
                arg: "label"
                var: *label
            order: 
              -
                var: "x"
                list: *order_prov_pers_coun
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            position: "dodge" 
            text:
              vjust: 0.5
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "作业指数"
            axisx:
              text_angle: 90
              text_size: 8
            axisy:
              discrete_limits: *axisy_discrete_limits_index
              ylim: *axisy_ylim

        extra.homework.bar: 
          fig.name: "四年级学生校外补课指数"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_extra_homework
                -
                  x: "x"
                  from: *scope
                -
                  fill: "fill"
                  by:
                    - *tier
                    - *perspective
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *idx_extra_homework
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by:
                    - *tier
                    - *perspective
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_xinyouzhi
                - 
                  variable: *topic
                  value: *idx_extra_homework
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by:
                    - *tier
                    - *perspective
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_gender
                - 
                  variable: *topic
                  value: *idx_extra_homework
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by:
                    - *tier
                    - *perspective
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_huji
                - 
                  variable: *topic
                  value: *idx_extra_homework
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by:
                    - *tier
                    - *perspective
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_extra_homework
                -
                  x: "x"
                  from: *scope
                -
                  fill: "fill"
                  by:
                    - *tier
                    - *perspective
            aes:
              #- 
              #  arg: "x"
              #  var: *scope
              -  
                arg: "y"
                var: *value
              #- 
              #  arg: "fill"
              #  var: *tier
              -  
                arg: "label"
                var: *label
            order: 
              -
                var: "x"
                list: *order_prov_pers_coun
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            position: "dodge" 
            text:
              vjust: 0.5
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "校外补课指数"
            axisx:
              text_angle: 90
              text_size: 8
            axisy:
              discrete_limits: *axisy_discrete_limits_index
              ylim: *axisy_ylim

        teacher.relationship.bar: 
          fig.name: "四年级师生关系指数"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_teacher
                -
                  x: "x"
                  from: *scope
                -
                  fill: "fill"
                  by:
                    - *tier
                    - *perspective
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *idx_teacher
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by:
                    - *tier
                    - *perspective
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_xinyouzhi
                - 
                  variable: *topic
                  value: *idx_teacher
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by:
                    - *tier
                    - *perspective
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_gender
                - 
                  variable: *topic
                  value: *idx_teacher
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by:
                    - *tier
                    - *perspective
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_huji
                - 
                  variable: *topic
                  value: *idx_teacher
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by:
                    - *tier
                    - *perspective
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_teacher
                -
                  x: "x"
                  from: *scope
                -
                  fill: "fill"
                  by:
                    - *tier
                    - *perspective
            aes:
              #- 
              #  arg: "x"
              #  var: *scope
              -  
                arg: "y"
                var: *value
              #- 
              #  arg: "fill"
              #  var: *tier
              -  
                arg: "label"
                var: *label
            order: 
              -
                var: "x"
                list: *order_prov_pers_coun
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            position: "dodge" 
            text:
              vjust: 0.5
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "师生关系指数"
            axisx:
              text_angle: 90
              text_size: 8
            axisy:
              discrete_limits: *axisy_discrete_limits_index
              ylim: *axisy_ylim

        student.morality.bar: 
          fig.name: "四年级学生品德行为指数"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_morality
                -
                  x: "x"
                  from: *scope
                -
                  fill: "fill"
                  by:
                    - *tier
                    - *perspective
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *idx_morality
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by:
                    - *tier
                    - *perspective
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_xinyouzhi
                - 
                  variable: *topic
                  value: *idx_morality
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by:
                    - *tier
                    - *perspective
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_gender
                - 
                  variable: *topic
                  value: *idx_morality
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by:
                    - *tier
                    - *perspective
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_huji
                - 
                  variable: *topic
                  value: *idx_morality
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by:
                    - *tier
                    - *perspective
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_morality
                -
                  x: "x"
                  from: *scope
                -
                  fill: "fill"
                  by:
                    - *tier
                    - *perspective
            aes:
              #- 
              #  arg: "x"
              #  var: *scope
              -  
                arg: "y"
                var: *value
              #- 
              #  arg: "fill"
              #  var: *tier
              -  
                arg: "label"
                var: *label
            order: 
              -
                var: "x"
                list: *order_prov_pers_coun
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            position: "dodge" 
            text:
              vjust: 0.5
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "品德行为指数"
            axisx:
              text_angle: 90
              text_size: 8
            axisy:
              discrete_limits: *axisy_discrete_limits_index
              ylim: *axisy_ylim

        student.physique.bar: 
          fig.name: "四年级学生体质健康指数"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_physique
                -
                  x: "x"
                  from: *scope
                -
                  fill: "fill"
                  by:
                    - *tier
                    - *perspective
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *idx_physique
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by:
                    - *tier
                    - *perspective
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_xinyouzhi
                - 
                  variable: *topic
                  value: *idx_physique
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by:
                    - *tier
                    - *perspective
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_gender
                - 
                  variable: *topic
                  value: *idx_physique
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by:
                    - *tier
                    - *perspective
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_huji
                - 
                  variable: *topic
                  value: *idx_physique
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by:
                    - *tier
                    - *perspective
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_physique
                -
                  x: "x"
                  from: *scope
                -
                  fill: "fill"
                  by:
                    - *tier
                    - *perspective
            aes:
              #- 
              #  arg: "x"
              #  var: *scope
              -  
                arg: "y"
                var: *value
              #- 
              #  arg: "fill"
              #  var: *tier
              -  
                arg: "label"
                var: *label
            order: 
              -
                var: "x"
                list: *order_prov_coun
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            position: "dodge" 
            text:
              vjust: 0.5
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "体质健康指数"
            axisx:
              text_angle: 90
              text_size: 8
            axisy:
              discrete_limits: *axisy_discrete_limits_index
              ylim: *axisy_ylim

        student.psychological.bar: 
          fig.name: "四年级学生心理健康指数"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_psychological
                -
                  x: "x"
                  from: *scope
                -
                  fill: "fill"
                  by:
                    - *tier
                    - *perspective
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *idx_psychological
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by:
                    - *tier
                    - *perspective
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_xinyouzhi
                - 
                  variable: *topic
                  value: *idx_psychological
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by:
                    - *tier
                    - *perspective
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_gender
                - 
                  variable: *topic
                  value: *idx_psychological
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by:
                    - *tier
                    - *perspective
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_huji
                - 
                  variable: *topic
                  value: *idx_psychological
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by:
                    - *tier
                    - *perspective
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_psychological
                -
                  x: "x"
                  from: *scope
                -
                  fill: "fill"
                  by:
                    - *tier
                    - *perspective
            aes:
              #- 
              #  arg: "x"
              #  var: *scope
              -  
                arg: "y"
                var: *value
              #- 
              #  arg: "fill"
              #  var: *tier
              -  
                arg: "label"
                var: *label
            order: 
              -
                var: "x"
                list: *order_prov_pers_coun
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            position: "dodge" 
            text:
              vjust: 0.5
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "心理健康指数"
            axisx:
              text_angle: 90
              text_size: 8
            axisy:
              discrete_limits: *axisy_discrete_limits_index
              ylim: *axisy_ylim

        teaching.method.bar: 
          fig.name: "四年级教师教学方式指数"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_teaching
                -
                  x: "x"
                  from: *scope
                -
                  fill: "fill"
                  by:
                    - *tier
                    - *perspective
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *idx_teaching
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by:
                    - *tier
                    - *perspective
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_xinyouzhi
                - 
                  variable: *topic
                  value: *idx_teaching
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by:
                    - *tier
                    - *perspective
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_teaching
                -
                  x: "x"
                  from: *scope
                -
                  fill: "fill"
                  by:
                    - *tier
                    - *perspective
            aes:
              #- 
              #  arg: "x"
              #  var: *scope
              -  
                arg: "y"
                var: *value
              #- 
              #  arg: "fill"
              #  var: *tier
              -  
                arg: "label"
                var: *label
            order: 
              -
                var: "x"
                list: *order_prov_scho_coun
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            position: "dodge" 
            text:
              vjust: 0.5
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "教学方式指数"
            axisx:
              text_angle: 90
              text_size: 8
            axisy:
              discrete_limits: *axisy_discrete_limits_index
              ylim: *axisy_ylim

        course.leadership.bar: 
          fig.name: "小学校长课程领导力指数"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *survey_te
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_course_leadership
                -
                  x: "x"
                  from: *scope
                -
                  fill: "fill"
                  by:
                    - *tier
                    - *perspective
              -
                -
                  variable: *subject
                  value: *survey_te
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *idx_course_leadership
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by:
                    - *tier
                    - *perspective
              -
                -
                  variable: *subject
                  value: *survey_te
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_xinyouzhi
                - 
                  variable: *topic
                  value: *idx_course_leadership
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by:
                    - *tier
                    - *perspective
              -
                -
                  variable: *subject
                  value: *survey_te
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_course_leadership
                -
                  x: "x"
                  from: *scope
                -
                  fill: "fill"
                  by:
                    - *tier
                    - *perspective
            aes:
              #- 
              #  arg: "x"
              #  var: *scope
              -  
                arg: "y"
                var: *value
              #- 
              #  arg: "fill"
              #  var: *tier
              -  
                arg: "label"
                var: *label
            order: 
              -
                var: "x"
                list: *order_prov_scho_coun
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            position: "dodge" 
            text:
              vjust: 0.5
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "课程领导力指数"
            axisx:
              text_angle: 90
              text_size: 8
            axisy:
              discrete_limits: *axisy_discrete_limits_index
              ylim: *axisy_ylim

        economic.bar: 
          fig.name: "四年级学生家庭背景影响指数"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_economic
                -
                  x: "x"
                  from: *scope
                -
                  fill: "fill"
                  by:
                    - *tier
                    - *perspective
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_economic
                -
                  x: "x"
                  from: *scope
                -
                  fill: "fill"
                  by:
                    - *tier
                    - *perspective
            aes:
              #- 
              #  arg: "x"
              #  var: *scope
              -  
                arg: "y"
                var: *value
              #- 
              #  arg: "fill"
              #  var: *tier
              -  
                arg: "label"
                var: *label
            order: 
              -
                var: "x"
                list: *order_prov_coun
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            position: "dodge" 
            text:
              vjust: 0.5
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "家庭背景影响指数"
            axisx:
              text_angle: 90
              text_size: 8
            axisy:
              discrete_limits: *axisy_discrete_limits_index
              ylim: *axisy_ylim

        history.bar:
          fig.name: "上海市四年级历年测试结果比较"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *subject_all
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *coef_school_balance
                -
                  year: "year"
                  from: *assesment
              -
                -
                  variable: *subject
                  value: *subject_all
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *coef_passed_rate
                -
                  year: "year"
                  from: *assesment
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *coef_motivation
                -
                  year: "year"
                  from: *assesment
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *coef_pressure
                -
                  year: "year"
                  from: *assesment
              -
                -
                  variable: *subject
                  value: *subject_all
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *coef_high_level_thinking
                -
                  year: "year"
                  from: *assesment
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *coef_sleep
                -
                  year: "year"
                  from: *assesment
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *coef_writing_homework
                -
                  year: "year"
                  from: *assesment
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *coef_extra_homework
                -
                  year: "year"
                  from: *assesment
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *coef_teacher
                -
                  year: "year"
                  from: *assesment
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *coef_teaching
                -
                  year: "year"
                  from: *assesment
              -
                -
                  variable: *subject
                  value: *survey_te
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *coef_course_leadership
                -
                  year: "year"
                  from: *assesment
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *coef_economic
                -
                  year: "year"
                  from: *assesment
            aes:
              - 
                arg: "x"
                var: *topic
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: "year"
              -  
                arg: "label"
                var: *label
            order:
              - 
                var: "x"
                list:
                  - "成绩标准达成系数" 
                  - "高层次思维能力系数"
                  - "学业成绩学校间均衡系数"
                  - "学习动机系数"
                  - "学习压力系数"
                  - "睡眠系数"
                  - "作业系数"
                  - "补课系数"
                  - "师生关系系数"
                  - "教学方式系数"
                  - "课程领导力系数"
                  - "家庭背景影响系数"
            
          ggplot:
            width: 25
            height: 8
            geom: *plot_bar_dodging
            position: "dodge" 
            #text:
            #  vjust: 0.5
            bar:
              width: *plot_bar_width_fat
            legend: *plot_legend_right
            label:
              xlab: ""
              ylab: "百分数"
            axisx:
              text_angle: 90
              text_size: 12
            #axisy:
            #  discrete_limits: *axisy_discrete_limits_index
            #  ylim: *axisy_ylim

        province.county.index.radar: 
          fig.name: "四年级各指标雷达分析图"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *subject_all
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_passed_rate
              -
                -
                  variable: *subject
                  value: *subject_all
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_passed_rate
                - 
                  variable: *tier
                  value: *tier_county
              -
                -
                  variable: *subject
                  value: *subject_all
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_high_level_thinking
              -
                -
                  variable: *subject
                  value: *subject_all
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_high_level_thinking
                - 
                  variable: *tier
                  value: *tier_county
              -
                -
                  variable: *subject
                  value: *subject_all
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_school_balance
              -
                -
                  variable: *subject
                  value: *subject_all
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_school_balance
                - 
                  variable: *tier
                  value: *tier_county
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_confidence
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_confidence
                - 
                  variable: *tier
                  value: *tier_county
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_motivation
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_motivation
                - 
                  variable: *tier
                  value: *tier_county
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_pressure
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_pressure
                - 
                  variable: *tier
                  value: *tier_county
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_sleep
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_sleep
                - 
                  variable: *tier
                  value: *tier_county
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_writing_homework
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_writing_homework
                - 
                  variable: *tier
                  value: *tier_county            
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_extra_homework
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_extra_homework
                - 
                  variable: *tier
                  value: *tier_county            
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_teacher
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_teacher
                - 
                  variable: *tier
                  value: *tier_county              
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_teaching
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_teaching
                - 
                  variable: *tier
                  value: *tier_county              
              -
                -
                  variable: *subject
                  value: *survey_te
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_course_leadership
              -
                -
                  variable: *subject
                  value: *survey_te
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_course_leadership
                - 
                  variable: *tier
                  value: *tier_county            
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_economic
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_economic
                - 
                  variable: *tier
                  value: *tier_county

            aes:
              - 
                arg: "x"
                var: *scope
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *tier
              -  
                arg: "label"
                var: *label

            postkeep:
              -
                var: "x"
                value:
                  - "本市"
                  - "75区"

            #order: 
            #  -
            #    var: "x"
            #    list: *order_prov_coun
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_radar 

    -
      process: FALSE
      table: "统计指标汇总"
      markdown: "province_cn.Rmd"

      year: "2016年度"
      tier: *tier_province
      project: "中小学学业质量"
      report: "绿色指标学科测试分析报告"
      subject: "语文学科"

      title: ""
      header: "" 

      dir_output: "province/"
      datetime: ""
      file: ""

      pre.render:
        - "pre.render.global.setting"
        - "pre.render.cover.page"
        - "pre.render.head.foot"
        - "pre.render.report.preface"
        - "pre.render.table.of.contents"
        - "pre.render.project.summary"
        - "pre.render.introduce.cn"

      plot:

        level.bar.province.urbannization.cn: 
          fig.name: "不同区域学生在语文学科各水平上的人数比例"
          data:
            digits: *plot_data_digits
            filter:
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_total_score_level
                -
                  x: "x"
                  from: *scope
                
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_urbannization
                - 
                  variable: *topic
                  value: *top_total_score_level
                -
                  x: "x"
                  from: *sample
            aes:
              #- 
              #  arg: "x"
              #  var: *scope
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            order:
              -
                var: "x"
                list: *order_prov_urba
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_stacking 
            legend: *plot_legend_top
            bar:
              width: *plot_bar_width_thin
            label:
              xlab: ""
              ylab: "百分数（%）"

        score.segment.bar.cn: 
          fig.name: "学生总体语文分数分布"
          data:
            digits: *plot_data_digits
            filter:
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_total_score_segment
            aes:
              - 
                arg: "x"
                var: *key
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_segment  
            text:
              vjust: 0.5
            bar:
              width: *plot_bar_width

            label:
              xlab: "标准分"
              ylab: "百分数（%）"

        level.bar.province.perspective.cn: 
          fig.name: "不同群体学生在语文学科各水平上的人数比例"
          data:
            digits: *plot_data_digits
            filter:
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_total_score_level
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *top_total_score_level
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_xinyouzhi
                - 
                  variable: *topic
                  value: *top_total_score_level
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_gender
                - 
                  variable: *topic
                  value: *top_total_score_level
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_huji
                - 
                  variable: *topic
                  value: *top_total_score_level
            aes:
              - 
                arg: "x"
                var: *sample
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            order:
              -
                var: "x"
                list: *order_prov_acad_xin_gen_hu
              
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_stacking 
            legend: *plot_legend_top
            bar:
              width: *plot_bar_width
            label:
              xlab: *xlab_prov_acad_xin_gen_hu
              ylab: "百分数（%）"

        score.box.province.perspective.cn: 
          fig.name: "不同群体学生在语文学科上的得分分布"
          data:
            digits: *plot_data_digits
            filter:
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_total_score_quantile
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_total_score_mean
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *top_total_score_quantile
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_xinyouzhi
                - 
                  variable: *topic
                  value: *top_total_score_mean
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_xinyouzhi
                - 
                  variable: *topic
                  value: *top_total_score_quantile
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *top_total_score_mean
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_gender
                - 
                  variable: *topic
                  value: *top_total_score_quantile
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_gender
                - 
                  variable: *topic
                  value: *top_total_score_mean
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_huji
                - 
                  variable: *topic
                  value: *top_total_score_quantile
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_huji
                - 
                  variable: *topic
                  value: *top_total_score_mean
            derivative: 
              group: *sample
              key: *key
              keep:
                - *sample
                - *perspective
            aes:
              - 
                arg: "x"
                var: *sample
              -  
                arg: "ymin"
                var: *stat_quantile_key_bottom
              -  
                arg: "lower"
                var: *stat_quantile_key_lower
              -  
                arg: "middle"
                var: *stat_quantile_key_median
              -  
                arg: "upper"
                var: *stat_quantile_key_upper
              -  
                arg: "ymax"
                var: *stat_quantile_key_top
              -  
                arg: "fill"
                var: *perspective
              -  
                arg: "mean"
                var: *key_score_mean
            order:
              - 
                var: "x"
                list: *order_prov_acad_xin_gen_hu
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_box
            legend: *plot_legend_top
            label:
              xlab: *xlab_prov_acad_xin_gen_hu
              ylab: "标准分"
            #axisy:
            #  continuous_limits:
            #    - 0
            #    - 800
            #  ylim:
            #    - 0
            #    - 800

        level.bar.province.county.cn: 
          fig.name: "各区学生在语文学科各水平上的人数比例"
          data:
            digits: *plot_data_digits
            filter:
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_total_score_level
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_total_score_level
            aes:
              - 
                arg: "x"
                var: *scope
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            order:
              - 
                var: "x"
                list: *order_prov_coun
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_stacking 
            legend: *plot_legend_top
            bar:
              width: 0.6
            label:
              xlab: ""
              ylab: "百分数（%）"

        score.box.province.county.cn: 
          fig.name: "各区学生在语文学科上的得分分布"
          data:
            digits: *plot_data_digits
            filter:
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_total_score_quantile
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_total_score_mean
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_total_score_quantile
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_total_score_mean

            derivative: 
              group: *scope
              key: *key
              keep:
                - *scope
                - *tier

            aes:
              - 
                arg: "x"
                var: *scope
              -  
                arg: "ymin"
                var: *stat_quantile_key_bottom
              -  
                arg: "lower"
                var: *stat_quantile_key_lower
              -  
                arg: "middle"
                var: *stat_quantile_key_median
              -  
                arg: "upper"
                var: *stat_quantile_key_upper
              -  
                arg: "ymax"
                var: *stat_quantile_key_top
              -  
                arg: "fill"
                var: *tier
              -  
                arg: "mean"
                var: *key_score_mean
            order:
              - 
                var: "x"
                list: *order_prov_coun

          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_box
            legend: *plot_legend_top
            bar:
              width: 0.3
            label:
              xlab: ""
              ylab: "标准分"

        level.bar.province.dimention.cn: 
          fig.name: "学生在语文学科各能力维度各水平上的人数比例"
          data:
            digits: *plot_data_digits
            filter:
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_jilei_score_level_cn
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_reading_score_level_cn
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_writing_score_level_cn
            aes:
              - 
                arg: "x"
                var: *dimention
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            order:
              - 
                var: "x"
                list: 
                  - *dim_cn_jilei
                  - *dim_cn_reading
                  - *dim_cn_writing
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_stacking 
            legend: *plot_legend_top
            bar:
              width: *plot_bar_width_thin
            label:
              xlab: ""
              ylab: "百分数（%）"

        score.box.province.dimention.cn: 
          fig.name: "学生在语文学科各能力维度上的得分分布"
          data:
            digits: *plot_data_digits
            filter:
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_jilei_score_quantile_cn
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_jilei_score_mean_cn
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_reading_score_quantile_cn
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_reading_score_mean_cn
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_writing_score_quantile_cn
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_writing_score_mean_cn
              
            derivative: 
              group: *dimention
              key: *key
              keep:
                - *dimention

            aes:
              - 
                arg: "x"
                var: *dimention
              -  
                arg: "ymin"
                var: *stat_quantile_key_bottom
              -  
                arg: "lower"
                var: *stat_quantile_key_lower
              -  
                arg: "middle"
                var: *stat_quantile_key_median
              -  
                arg: "upper"
                var: *stat_quantile_key_upper
              -  
                arg: "ymax"
                var: *stat_quantile_key_top
              -  
                arg: "fill"
                var: *dimention
              -  
                arg: "mean"
                var: *key_score_mean
            order:
              - 
                var: "x"
                list: 
                  - *dim_cn_jilei
                  - *dim_cn_reading
                  - *dim_cn_writing

          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_box
            legend: *plot_legend_top
            box:
              box.width: 0.2
              error.width: 0.05
            label:
              xlab: ""
              ylab: "标准分"
            #axisy:
            #  continuous_limits:
            #    - 0
            #    - 500
            #  ylim:
            #    - 0
            #    - 500

        jilei.bar.province.perspective.cn: 
          fig.name: "不同群体学生在“积累”各水平上的人数比例"
          data:
            digits: *plot_data_digits
            filter:
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_jilei_score_level_cn
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *top_jilei_score_level_cn
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_xinyouzhi
                - 
                  variable: *topic
                  value: *top_jilei_score_level_cn
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_gender
                - 
                  variable: *topic
                  value: *top_jilei_score_level_cn
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_huji
                - 
                  variable: *topic
                  value: *top_jilei_score_level_cn
            aes:
              - 
                arg: "x"
                var: *sample
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            order:
              -
                var: "x"
                list: *order_prov_acad_xin_gen_hu
              
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_stacking 
            legend: *plot_legend_top
            bar:
              width: *plot_bar_width
            label:
              xlab: *xlab_prov_acad_xin_gen_hu
              ylab: "百分数（%）"

        jilei.box.province.perspective.cn: 
          fig.name: "不同群体学生在“积累”上的得分分布"
          data:
            digits: *plot_data_digits
            filter:
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_jilei_score_quantile_cn
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_jilei_score_mean_cn
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *top_jilei_score_quantile_cn
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *top_jilei_score_mean_cn
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_xinyouzhi
                - 
                  variable: *topic
                  value: *top_jilei_score_quantile_cn
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_xinyouzhi
                - 
                  variable: *topic
                  value: *top_jilei_score_mean_cn
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_gender
                - 
                  variable: *topic
                  value: *top_jilei_score_quantile_cn
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_gender
                - 
                  variable: *topic
                  value: *top_jilei_score_mean_cn
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_huji
                - 
                  variable: *topic
                  value: *top_jilei_score_quantile_cn
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_huji
                - 
                  variable: *topic
                  value: *top_jilei_score_mean_cn
            derivative: 
              group: *sample
              key: *key
              keep:
                - *sample
                - *perspective
            aes:
              - 
                arg: "x"
                var: *sample
              -  
                arg: "ymin"
                var: *stat_quantile_key_bottom
              -  
                arg: "lower"
                var: *stat_quantile_key_lower
              -  
                arg: "middle"
                var: *stat_quantile_key_median
              -  
                arg: "upper"
                var: *stat_quantile_key_upper
              -  
                arg: "ymax"
                var: *stat_quantile_key_top
              -  
                arg: "fill"
                var: *perspective
              -  
                arg: "mean"
                var: *key_score_mean
            order:
              - 
                var: "x"
                list: *order_prov_acad_xin_gen_hu
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_box
            legend: *plot_legend_top
            label:
              xlab: *xlab_prov_acad_xin_gen_hu
              ylab: "标准分"
            #axisy:
            #  continuous_limits:
            #    - 0
            #    - 800
            #  ylim:
            #    - 0
            #    - 800

        jilei.bar.province.county.cn: 
          fig.name: "不同区学生在“积累”各水平上的人数比例"
          data:
            digits: *plot_data_digits
            filter:
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_jilei_score_level_cn
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_jilei_score_level_cn
            aes:
              - 
                arg: "x"
                var: *scope
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            order:
              - 
                var: "x"
                list: *order_prov_coun
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_stacking 
            legend: *plot_legend_top
            bar:
              width: 0.6
            label:
              xlab: ""
              ylab: "百分数（%）"

        jilei.box.province.county.cn: 
          fig.name: "不同区学生在“积累”上的得分分布"
          data:
            digits: *plot_data_digits
            filter:
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_jilei_score_quantile_cn
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_jilei_score_mean_cn
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_jilei_score_quantile_cn
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_jilei_score_mean_cn

            derivative: 
              group: *scope
              key: *key
              keep:
                - *scope
                - *tier

            aes:
              - 
                arg: "x"
                var: *scope
              -  
                arg: "ymin"
                var: *stat_quantile_key_bottom
              -  
                arg: "lower"
                var: *stat_quantile_key_lower
              -  
                arg: "middle"
                var: *stat_quantile_key_median
              -  
                arg: "upper"
                var: *stat_quantile_key_upper
              -  
                arg: "ymax"
                var: *stat_quantile_key_top
              -  
                arg: "fill"
                var: *tier
              -  
                arg: "mean"
                var: *key_score_mean
            order:
              - 
                var: "x"
                list: *order_prov_coun

          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_box
            legend: *plot_legend_top
            bar:
              width: 0.3
            label:
              xlab: ""
              ylab: "标准分"

        reading.bar.province.perspective.cn: 
          fig.name: "不同群体学生在“阅读”各水平上的人数比例"
          data:
            digits: *plot_data_digits
            filter:
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_reading_score_level_cn
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *top_reading_score_level_cn
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_xinyouzhi
                - 
                  variable: *topic
                  value: *top_reading_score_level_cn
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_gender
                - 
                  variable: *topic
                  value: *top_reading_score_level_cn
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_huji
                - 
                  variable: *topic
                  value: *top_reading_score_level_cn
            aes:
              - 
                arg: "x"
                var: *sample
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            order:
              -
                var: "x"
                list: *order_prov_acad_xin_gen_hu
              
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_stacking 
            legend: *plot_legend_top
            bar:
              width: *plot_bar_width
            label:
              xlab: *xlab_prov_acad_xin_gen_hu
              ylab: "百分数（%）"

        reading.box.province.perspective.cn: 
          fig.name: "不同群体学生在“阅读”上的得分分布"
          data:
            digits: *plot_data_digits
            filter:
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_reading_score_quantile_cn
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_reading_score_mean_cn
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *top_reading_score_quantile_cn
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *top_reading_score_mean_cn
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_xinyouzhi
                - 
                  variable: *topic
                  value: *top_reading_score_quantile_cn
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_xinyouzhi
                - 
                  variable: *topic
                  value: *top_reading_score_mean_cn
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_gender
                - 
                  variable: *topic
                  value: *top_reading_score_quantile_cn
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_gender
                - 
                  variable: *topic
                  value: *top_reading_score_mean_cn
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_huji
                - 
                  variable: *topic
                  value: *top_reading_score_quantile_cn
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_huji
                - 
                  variable: *topic
                  value: *top_reading_score_mean_cn
            derivative: 
              group: *sample
              key: *key
              keep:
                - *sample
                - *perspective
            aes:
              - 
                arg: "x"
                var: *sample
              -  
                arg: "ymin"
                var: *stat_quantile_key_bottom
              -  
                arg: "lower"
                var: *stat_quantile_key_lower
              -  
                arg: "middle"
                var: *stat_quantile_key_median
              -  
                arg: "upper"
                var: *stat_quantile_key_upper
              -  
                arg: "ymax"
                var: *stat_quantile_key_top
              -  
                arg: "fill"
                var: *perspective
              -  
                arg: "mean"
                var: *key_score_mean
            order:
              - 
                var: "x"
                list: *order_prov_acad_xin_gen_hu
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_box
            legend: *plot_legend_top
            label:
              xlab: *xlab_prov_acad_xin_gen_hu
              ylab: "标准分"
            #axisy:
            #  continuous_limits:
            #    - 0
            #    - 800
            #  ylim:
            #    - 0
            #    - 800

        reading.bar.province.county.cn: 
          fig.name: "不同区学生在“阅读”各水平上的人数比例"
          data:
            digits: *plot_data_digits
            filter:
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_reading_score_level_cn
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_reading_score_level_cn
            aes:
              - 
                arg: "x"
                var: *scope
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            order:
              - 
                var: "x"
                list: *order_prov_coun
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_stacking 
            legend: *plot_legend_top
            bar:
              width: 0.6
            label:
              xlab: ""
              ylab: "百分数（%）"

        reading.box.province.county.cn: 
          fig.name: "不同区学生在“阅读”上的得分分布"
          data:
            digits: *plot_data_digits
            filter:
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_reading_score_quantile_cn
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_reading_score_mean_cn
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_reading_score_quantile_cn
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_reading_score_mean_cn

            derivative: 
              group: *scope
              key: *key
              keep:
                - *scope
                - *tier

            aes:
              - 
                arg: "x"
                var: *scope
              -  
                arg: "ymin"
                var: *stat_quantile_key_bottom
              -  
                arg: "lower"
                var: *stat_quantile_key_lower
              -  
                arg: "middle"
                var: *stat_quantile_key_median
              -  
                arg: "upper"
                var: *stat_quantile_key_upper
              -  
                arg: "ymax"
                var: *stat_quantile_key_top
              -  
                arg: "fill"
                var: *tier
              -  
                arg: "mean"
                var: *key_score_mean
            order:
              - 
                var: "x"
                list: *order_prov_coun

          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_box
            legend: *plot_legend_top
            bar:
              width: 0.3
            label:
              xlab: ""
              ylab: "标准分"

        writing.bar.province.perspective.cn: 
          fig.name: "不同群体学生在“阅读”各水平上的人数比例"
          data:
            digits: *plot_data_digits
            filter:
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_writing_score_level_cn
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *top_writing_score_level_cn
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_xinyouzhi
                - 
                  variable: *topic
                  value: *top_writing_score_level_cn
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_gender
                - 
                  variable: *topic
                  value: *top_writing_score_level_cn
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_huji
                - 
                  variable: *topic
                  value: *top_writing_score_level_cn
            aes:
              - 
                arg: "x"
                var: *sample
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            order:
              -
                var: "x"
                list: *order_prov_acad_xin_gen_hu
              
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_stacking 
            legend: *plot_legend_top
            bar:
              width: *plot_bar_width
            label:
              xlab: *xlab_prov_acad_xin_gen_hu
              ylab: "百分数（%）"

        writing.box.province.perspective.cn: 
          fig.name: "不同群体学生在“阅读”上的得分分布"
          data:
            digits: *plot_data_digits
            filter:
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_writing_score_quantile_cn
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_writing_score_mean_cn
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *top_writing_score_quantile_cn
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *top_writing_score_mean_cn
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_xinyouzhi
                - 
                  variable: *topic
                  value: *top_writing_score_quantile_cn
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_xinyouzhi
                - 
                  variable: *topic
                  value: *top_writing_score_mean_cn
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_gender
                - 
                  variable: *topic
                  value: *top_writing_score_quantile_cn
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_gender
                - 
                  variable: *topic
                  value: *top_writing_score_mean_cn
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_huji
                - 
                  variable: *topic
                  value: *top_writing_score_quantile_cn
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_huji
                - 
                  variable: *topic
                  value: *top_writing_score_mean_cn
            derivative: 
              group: *sample
              key: *key
              keep:
                - *sample
                - *perspective
            aes:
              - 
                arg: "x"
                var: *sample
              -  
                arg: "ymin"
                var: *stat_quantile_key_bottom
              -  
                arg: "lower"
                var: *stat_quantile_key_lower
              -  
                arg: "middle"
                var: *stat_quantile_key_median
              -  
                arg: "upper"
                var: *stat_quantile_key_upper
              -  
                arg: "ymax"
                var: *stat_quantile_key_top
              -  
                arg: "fill"
                var: *perspective
              -  
                arg: "mean"
                var: *key_score_mean
            order:
              - 
                var: "x"
                list: *order_prov_acad_xin_gen_hu
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_box
            legend: *plot_legend_top
            label:
              xlab: *xlab_prov_acad_xin_gen_hu
              ylab: "标准分"
            #axisy:
            #  continuous_limits:
            #    - 0
            #    - 800
            #  ylim:
            #    - 0
            #    - 800

        writing.bar.province.county.cn: 
          fig.name: "不同区学生在“阅读”各水平上的人数比例"
          data:
            digits: *plot_data_digits
            filter:
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_writing_score_level_cn
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_writing_score_level_cn
            aes:
              - 
                arg: "x"
                var: *scope
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            order:
              - 
                var: "x"
                list: *order_prov_coun
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_stacking 
            legend: *plot_legend_top
            bar:
              width: 0.6
            label:
              xlab: ""
              ylab: "百分数（%）"

        writing.box.province.county.cn: 
          fig.name: "不同区学生在“阅读”上的得分分布"
          data:
            digits: *plot_data_digits
            filter:
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_writing_score_quantile_cn
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_writing_score_mean_cn
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_writing_score_quantile_cn
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_writing_score_mean_cn

            derivative: 
              group: *scope
              key: *key
              keep:
                - *scope
                - *tier

            aes:
              - 
                arg: "x"
                var: *scope
              -  
                arg: "ymin"
                var: *stat_quantile_key_bottom
              -  
                arg: "lower"
                var: *stat_quantile_key_lower
              -  
                arg: "middle"
                var: *stat_quantile_key_median
              -  
                arg: "upper"
                var: *stat_quantile_key_upper
              -  
                arg: "ymax"
                var: *stat_quantile_key_top
              -  
                arg: "fill"
                var: *tier
              -  
                arg: "mean"
                var: *key_score_mean
            order:
              - 
                var: "x"
                list: *order_prov_coun

          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_box
            legend: *plot_legend_top
            bar:
              width: 0.3
            label:
              xlab: ""
              ylab: "标准分"

        answer.segment.bar.cn: 
          fig.name: "全体学生在题目C3AO011上的作答情况"
          data:
            digits: 1
            filter:
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_answer
            #keep:
            #    - 
            #      variable: *variable
            #      value: "C3AO011"
            aes:
              - 
                arg: "x"
                var: *key
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_segment  
            text:
              vjust: 0.5
            bar:
              width: *plot_bar_width

            label:
              xlab: "选项"
              ylab: "百分数（%）"

        bar.cn: 
          fig.name: "全体学生在题目C3AO011上的作答情况"
          data:
            digits: 1
            filter:
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_answer
            #keep:
                - 
                  variable: *variable
                  value: "C3AO011"
                #- 
                #  variable: *key
                #  value: "C"
            aes:
              - 
                arg: "x"
                var: *variable
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
          ggplot:
            width: 10
            height: 1
            geom: "plot_bar_stacking.raw"  
            position: "stack" 
            coord: "flip"
            bar:
              width: 0.8

      param:

        jilei.point.rate.table.cn: 
          name: "学生在语文学科“积累”上的平均得分率"
          data:
            digits: 1
            filter:
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *dimention
                  value: *dim_cn_jilei
                - 
                  variable: *topic
                  value: *top_point_rate

        jilei.answer.table.cn: 
          name: "学生在语文学科“积累”上的作答情况"
          data:
            digits: 1
            filter:
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *dimention
                  value: *dim_cn_jilei
                - 
                  variable: *topic
                  value: *top_answer

        reading.point.rate.table.cn: 
          name: "学生在语文学科“阅读”上的平均得分率"
          data:
            digits: 1
            filter:
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *dimention
                  value: *dim_cn_reading
                - 
                  variable: *topic
                  value: *top_point_rate

        reading.answer.table.cn: 
          name: "学生在语文学科“阅读”上的作答情况"
          data:
            digits: 1
            filter:
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *dimention
                  value: *dim_cn_reading
                - 
                  variable: *topic
                  value: *top_answer

        writing.table.cn: 
          name: "学生在语文学科“习作”上的作答情况"
          data:
            digits: 1
            filter:
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *dimention
                  value: *dim_cn_writing

        writing.point.rate.table.cn: 
          name: "学生在语文学科“习作”上的平均得分率"
          data:
            digits: 1
            filter:
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *dimention
                  value: *dim_cn_writing
                - 
                  variable: *topic
                  value: *top_point_rate

        writing.answer.table.cn: 
          name: "学生在语文学科“习作”上的作答情况"
          data:
            digits: 1
            filter:
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *dimention
                  value: *dim_cn_writing
                - 
                  variable: *topic
                  value: *top_answer
                      
    -
      process: FALSE
      table: "统计指标汇总"
      markdown: "province_ma.Rmd"

      year: "2016年度"
      tier: *tier_province
      project: "中小学学业质量"
      report: "绿色指标学科测试分析报告"
      subject: "数学学科"

      title: ""
      header: ""

      dir_output: "province/"
      datetime: ""
      file: ""

      pre.render:
        - "pre.render.global.setting"
        - "pre.render.cover.page"
        - "pre.render.head.foot"
        - "pre.render.report.preface"
        - "pre.render.table.of.contents"
        - "pre.render.project.summary"
        - "pre.render.introduce.ma"


      plot:

        level.bar.province.urbannization.ma: 
          fig.name: "不同区域学生在数学学科各水平上的人数比例"
          data:
            digits: *plot_data_digits
            filter:
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_total_score_level
                -
                  x: "x"
                  from: *scope
                
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_urbannization
                - 
                  variable: *topic
                  value: *top_total_score_level
                -
                  x: "x"
                  from: *sample
            aes:
              #- 
              #  arg: "x"
              #  var: *scope
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            order:
              -
                var: "x"
                list: *order_prov_urba
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_stacking 
            legend: *plot_legend_top
            bar:
              width: *plot_bar_width_thin
            label:
              xlab: ""
              ylab: "百分数（%）"

        score.segment.bar.ma: 
          fig.name: "学生总体数学分数分布"
          data:
            digits: *plot_data_digits
            filter:
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_total_score_segment
            aes:
              - 
                arg: "x"
                var: *key
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_segment  
            text:
              vjust: 0.5
            bar:
              width: *plot_bar_width

            label:
              xlab: "标准分"
              ylab: "百分数（%）"

        level.bar.province.perspective.ma: 
          fig.name: "不同群体学生在数学学科各水平上的人数比例"
          data:
            digits: *plot_data_digits
            filter:
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_total_score_level
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *top_total_score_level
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_xinyouzhi
                - 
                  variable: *topic
                  value: *top_total_score_level
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_gender
                - 
                  variable: *topic
                  value: *top_total_score_level
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_huji
                - 
                  variable: *topic
                  value: *top_total_score_level
            aes:
              - 
                arg: "x"
                var: *sample
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            order:
              -
                var: "x"
                list: *order_prov_acad_xin_gen_hu
              
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_stacking 
            legend: *plot_legend_top
            bar:
              width: *plot_bar_width
            label:
              xlab: *xlab_prov_acad_xin_gen_hu
              ylab: "百分数（%）"

        score.box.province.perspective.ma: 
          fig.name: "不同群体学生在语文学科上的得分分布"
          data:
            digits: *plot_data_digits
            filter:
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_total_score_quantile
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_total_score_mean
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *top_total_score_quantile
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_xinyouzhi
                - 
                  variable: *topic
                  value: *top_total_score_mean
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_xinyouzhi
                - 
                  variable: *topic
                  value: *top_total_score_quantile
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *top_total_score_mean
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_gender
                - 
                  variable: *topic
                  value: *top_total_score_quantile
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_gender
                - 
                  variable: *topic
                  value: *top_total_score_mean
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_huji
                - 
                  variable: *topic
                  value: *top_total_score_quantile
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_huji
                - 
                  variable: *topic
                  value: *top_total_score_mean
            derivative: 
              group: *sample
              key: *key
              keep:
                - *sample
                - *perspective
            aes:
              - 
                arg: "x"
                var: *sample
              -  
                arg: "ymin"
                var: *stat_quantile_key_bottom
              -  
                arg: "lower"
                var: *stat_quantile_key_lower
              -  
                arg: "middle"
                var: *stat_quantile_key_median
              -  
                arg: "upper"
                var: *stat_quantile_key_upper
              -  
                arg: "ymax"
                var: *stat_quantile_key_top
              -  
                arg: "fill"
                var: *perspective
              -  
                arg: "mean"
                var: *key_score_mean
            order:
              - 
                var: "x"
                list: *order_prov_acad_xin_gen_hu
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_box
            legend: *plot_legend_top
            label:
              xlab: *xlab_prov_acad_xin_gen_hu
              ylab: "标准分"
            #axisy:
            #  continuous_limits:
            #    - 0
            #    - 800
            #  ylim:
            #    - 0
            #    - 800

        level.bar.province.county.ma: 
          fig.name: "各区学生在数学学科各水平上的人数比例"
          data:
            digits: *plot_data_digits
            filter:
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_total_score_level
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_total_score_level
            aes:
              - 
                arg: "x"
                var: *scope
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            order:
              - 
                var: "x"
                list: *order_prov_coun
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_stacking 
            legend: *plot_legend_top
            bar:
              width: 0.6
            label:
              xlab: ""
              ylab: "百分数（%）"

        score.box.province.county.ma: 
          fig.name: "各区学生在数学学科上的得分分布"
          data:
            digits: *plot_data_digits
            filter:
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_total_score_quantile
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_total_score_mean
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_total_score_quantile
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_total_score_mean

            derivative: 
              group: *scope
              key: *key
              keep:
                - *scope
                - *tier

            aes:
              - 
                arg: "x"
                var: *scope
              -  
                arg: "ymin"
                var: *stat_quantile_key_bottom
              -  
                arg: "lower"
                var: *stat_quantile_key_lower
              -  
                arg: "middle"
                var: *stat_quantile_key_median
              -  
                arg: "upper"
                var: *stat_quantile_key_upper
              -  
                arg: "ymax"
                var: *stat_quantile_key_top
              -  
                arg: "fill"
                var: *tier
              -  
                arg: "mean"
                var: *key_score_mean
            order:
              - 
                var: "x"
                list: *order_prov_coun

          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_box
            legend: *plot_legend_top
            bar:
              width: 0.3
            label:
              xlab: ""
              ylab: "标准分"

        level.bar.province.domain.ma: 
          fig.name: "学生在数学学科各内容领域各水平上的人数比例"
          data:
            digits: *plot_data_digits
            filter:
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_number_score_level_ma
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_space_score_level_ma
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_statistics_score_level_ma
            aes:
              - 
                arg: "x"
                var: *dimention
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            order:
              - 
                var: "x"
                list: 
                  - *dim_ma_number
                  - *dim_ma_space
                  - *dim_ma_statistics
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_stacking 
            legend: *plot_legend_top
            bar:
              width: *plot_bar_width_thin
            label:
              xlab: ""
              ylab: "百分数（%）"

        score.box.province.domain.ma: 
          fig.name: "学生在数学学科各内容领域上的得分分布"
          data:
            digits: *plot_data_digits
            filter:
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_number_score_quantile_ma
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_number_score_mean_ma
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_space_score_quantile_ma
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_space_score_mean_ma
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_statistics_score_quantile_ma
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_statistics_score_mean_ma
              
            derivative: 
              group: *dimention
              key: *key
              keep:
                - *dimention

            aes:
              - 
                arg: "x"
                var: *dimention
              -  
                arg: "ymin"
                var: *stat_quantile_key_bottom
              -  
                arg: "lower"
                var: *stat_quantile_key_lower
              -  
                arg: "middle"
                var: *stat_quantile_key_median
              -  
                arg: "upper"
                var: *stat_quantile_key_upper
              -  
                arg: "ymax"
                var: *stat_quantile_key_top
              -  
                arg: "fill"
                var: *dimention
              -  
                arg: "mean"
                var: *key_score_mean
            order:
              - 
                var: "x"
                list: 
                  - *dim_ma_number
                  - *dim_ma_space
                  - *dim_ma_statistics

          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_box
            legend: *plot_legend_top
            box:
              box.width: 0.2
              error.width: 0.05
            label:
              xlab: ""
              ylab: "标准分"
            #axisy:
            #  continuous_limits:
            #    - 0
            #    - 500
            #  ylim:
            #    - 0
            #    - 500

        level.bar.province.dimention.ma: 
          fig.name: "学生在数学学科各能力维度各水平上的人数比例"
          data:
            digits: *plot_data_digits
            filter:
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_skill_score_level_ma
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_concept_score_level_ma
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_apply_score_level_ma
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_problem_score_level_ma
            aes:
              - 
                arg: "x"
                var: *dimention
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            order:
              - 
                var: "x"
                list: 
                  - *dim_ma_skill
                  - *dim_ma_concept
                  - *dim_ma_apply
                  - *dim_ma_problem
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_stacking 
            legend: *plot_legend_top
            bar:
              width: *plot_bar_width_thin
            label:
              xlab: ""
              ylab: "百分数（%）"

        score.box.province.dimention.ma: 
          fig.name: "学生在数学学科各能力维度上的得分分布"
          data:
            digits: *plot_data_digits
            filter:
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_skill_score_quantile_ma
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_skill_score_mean_ma
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_concept_score_quantile_ma
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_concept_score_mean_ma
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_apply_score_quantile_ma
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_apply_score_mean_ma
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_problem_score_quantile_ma
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_problem_score_mean_ma
              
            derivative: 
              group: *dimention
              key: *key
              keep:
                - *dimention

            aes:
              - 
                arg: "x"
                var: *dimention
              -  
                arg: "ymin"
                var: *stat_quantile_key_bottom
              -  
                arg: "lower"
                var: *stat_quantile_key_lower
              -  
                arg: "middle"
                var: *stat_quantile_key_median
              -  
                arg: "upper"
                var: *stat_quantile_key_upper
              -  
                arg: "ymax"
                var: *stat_quantile_key_top
              -  
                arg: "fill"
                var: *dimention
              -  
                arg: "mean"
                var: *key_score_mean
            order:
              - 
                var: "x"
                list: 
                  - *dim_ma_skill
                  - *dim_ma_concept
                  - *dim_ma_apply
                  - *dim_ma_problem

          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_box
            legend: *plot_legend_top
            box:
              box.width: 0.2
              error.width: 0.05
            label:
              xlab: ""
              ylab: "标准分"
            #axisy:
            #  continuous_limits:
            #    - 0
            #    - 500
            #  ylim:
            #    - 0
            #    - 500

        dom.dim.bar.province.perspective.ma: 
          fig.name: "不同群体学生在“领域／维度”各水平上的人数比例"
          data:
            digits: *plot_data_digits
            filter:
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *domain
                  value: *dom_ma_total      
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *domain
                  value: *dom_ma_total  
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_xinyouzhi
                - 
                  variable: *domain
                  value: *dom_ma_total  
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_gender
                - 
                  variable: *domain
                  value: *dom_ma_total
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_huji
                - 
                  variable: *domain
                  value: *dom_ma_total      
            #keep:
            #  - 
            #    variable: *topic
            #    value: *top_number_score_level_ma
            aes:
              - 
                arg: "x"
                var: *sample
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            order:
              -
                var: "x"
                list: *order_prov_acad_xin_gen_hu
              
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_stacking 
            legend: *plot_legend_top
            bar:
              width: *plot_bar_width
            label:
              xlab: *xlab_prov_acad_xin_gen_hu
              ylab: "百分数（%）"

        dom.dim.box.province.perspective.ma: 
          fig.name: "不同群体学生在“领域／维度”上的得分分布"
          data:
            digits: *plot_data_digits
            filter:
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *domain
                  value: *dom_ma_total
              
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *domain
                  value: *dom_ma_total
            
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_xinyouzhi
                - 
                  variable: *domain
                  value: *dom_ma_total
              
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_gender
                - 
                  variable: *domain
                  value: *dom_ma_total
              
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_huji
                - 
                  variable: *domain
                  value: *dom_ma_total
            #keep:
            #  -
            #    var: *topic
            #    value: 
            #      - *top_number_score_quantile_ma
            #      - *top_number_score_mean_ma
                
            derivative: 
              group: *sample
              key: *key
              keep:
                - *sample
                - *perspective
            aes:
              - 
                arg: "x"
                var: *sample
              -  
                arg: "ymin"
                var: *stat_quantile_key_bottom
              -  
                arg: "lower"
                var: *stat_quantile_key_lower
              -  
                arg: "middle"
                var: *stat_quantile_key_median
              -  
                arg: "upper"
                var: *stat_quantile_key_upper
              -  
                arg: "ymax"
                var: *stat_quantile_key_top
              -  
                arg: "fill"
                var: *perspective
              -  
                arg: "mean"
                var: *key_score_mean
            order:
              - 
                var: "x"
                list: *order_prov_acad_xin_gen_hu
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_box
            legend: *plot_legend_top
            label:
              xlab: *xlab_prov_acad_xin_gen_hu
              ylab: "标准分"
            #axisy:
            #  continuous_limits:
            #    - 0
            #    - 800
            #  ylim:
            #    - 0
            #    - 800

        dom.dim.bar.province.county.ma: 
          fig.name: "不同区学生在“领域／维度”各水平上的人数比例"
          data:
            digits: *plot_data_digits
            filter:
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *domain
                  value: *dom_ma_total
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *domain
                  value: *dom_ma_total
            #keep:
            #  -
            #    var: *topic
            #    value: 
            #      - *top_number_score_level_ma

            aes:
              - 
                arg: "x"
                var: *scope
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            order:
              - 
                var: "x"
                list: *order_prov_coun
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_stacking 
            legend: *plot_legend_top
            bar:
              width: 0.6
            label:
              xlab: ""
              ylab: "百分数（%）"

        dom.dim.box.province.county.ma: 
          fig.name: "不同区学生在“领域／维度”上的得分分布"
          data:
            digits: *plot_data_digits
            filter:
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *domain
                  value: *dom_ma_total
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *domain
                  value: *dom_ma_total
              
            #keep:
            #  -
            #    var: *topic
            #    value: 
            #      - *top_number_score_quantile_ma
            #      - *top_number_score_mean_ma

            derivative: 
              group: *scope
              key: *key
              keep:
                - *scope
                - *tier

            aes:
              - 
                arg: "x"
                var: *scope
              -  
                arg: "ymin"
                var: *stat_quantile_key_bottom
              -  
                arg: "lower"
                var: *stat_quantile_key_lower
              -  
                arg: "middle"
                var: *stat_quantile_key_median
              -  
                arg: "upper"
                var: *stat_quantile_key_upper
              -  
                arg: "ymax"
                var: *stat_quantile_key_top
              -  
                arg: "fill"
                var: *tier
              -  
                arg: "mean"
                var: *key_score_mean
            order:
              - 
                var: "x"
                list: *order_prov_coun

          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_box
            legend: *plot_legend_top
            bar:
              width: 0.3
            label:
              xlab: ""
              ylab: "标准分"

        answer.segment.bar.ma: 
          fig.name: "全体学生在题目M3AO011上的作答情况"
          data:
            digits: 1
            filter:
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_answer
            #keep:
            #    - 
            #      variable: *variable
            #      value: "C3AO011"
            aes:
              - 
                arg: "x"
                var: *key
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_segment  
            text:
              vjust: 0.5
            bar:
              width: *plot_bar_width

            label:
              xlab: ""
              ylab: "百分数（%）"

      param:

        dom.dim.point.rate.table.ma: 
          name: "学生在数学学科“领域／维度”上的平均得分率"
          data:
            digits: 1
            filter:
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_province
                - 
                  variable: *topic
                  value: *top_point_rate

        dom.dim.answer.table.ma: 
          name: "学生在数学学科“领域／维度”上的作答情况"
          data:
            digits: 1
            filter:
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_province
                - 
                  variable: *topic
                  value: *top_answer

          
    -
      process: FALSE
      table: "统计指标汇总"
      markdown: "county_base.Rmd"

      year: "2016年度"
      tier: *tier_county
      county: "黄浦区"
      project: "中小学学业质量"
      subject: ""
      report: "绿色指标基础数据报告"

      title: ""
      header: "" 

      dir_output: "county/"
      datetime: ""
      file: ""

      pre.render:
        - "pre.render.global.setting"
        - "pre.render.cover.page"
        - "pre.render.head.foot"
        - "pre.render.report.preface"
        - "pre.render.table.of.contents"
        - "pre.render.project.summary"
        - "level.bar.province.county.school.cn"
        - "score.box.province.county.school.cn"
        - "level.bar.province.county.school.ma"
        - "score.box.province.county.school.ma"
   
      plot:

        score.segment.bar.cn: 
          fig.name: "学生总体语文分数分布"
          data:
            digits: *plot_data_digits
            filter:
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_total_score_segment
            aes:
              - 
                arg: "x"
                var: *key
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_segment  
            text:
              vjust: 0.5
            bar:
              width: *plot_bar_width

            label:
              xlab: "标准分"
              ylab: "百分数（%）"

        score.segment.bar.ma: 
          fig.name: "学生总体数学分数分布"
          data:
            digits: *plot_data_digits
            filter:
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_total_score_segment
            aes:
              - 
                arg: "x"
                var: *key
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_segment  
            text:
              vjust: 0.5
            bar:
              width: *plot_bar_width

            label:
              xlab: "标准分"
              ylab: "百分数（%）"

        level.bar.urban.subject: 
          fig.name: "不同区域学生在各学科各水平上的人数比例"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_urbannization
                - 
                  variable: *topic
                  value: *top_total_score_level
                -
                  x: "x"
                  from: *sample
              -
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_total_score_level
                -
                  x: "x"
                  from: *scope
              -
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_total_score_level
                -
                  x: "x"
                  from: *scope
            aes:
              #- 
              #  arg: "x"
              #  var: *sample
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
              - 
                arg: "Group"
                var: *subject
            order:
              -
                var: "x"
                list:
                  - "本市"
                  - "本区"
                  - "中心城区"
                  - "郊区"
              -
                var: "Group"
                list:
                  - "语文"
                  - "数学"

          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_stacking 
            group:
              variable: *subject
              scales: "fixed"
              position: "bottom"

            legend: *plot_legend_top
            bar:
              width: 0.3
            label:
              xlab: ""
              ylab: "百分数（%）"

        level.bar.province.county.school.cn:
          fig.name: "各学校学生在语文学科各水平上的人数比例"
          entry: "level.bar.province.county.school.cn"
          ext.tex: ".tex"
          ext.fig: ".pdf"
          fig.limit: *plot_multi_fig_limit
          x.leader: *leader_prov_coun
          
          data:
            digits: *plot_data_digits
            county.filter:  TRUE
            filter:
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_total_score_level
            aes:
              - 
                arg: "x"
                var: *scope
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label

            sort:
              -
                var: "x"
                variable: *key
                option: "A"
                value: *value
                asc_desc: "DESC"

          ggplot:
            width: *plot_multi_fig_width
            height: *plot_multi_fig_height
            geom: *plot_bar_stacking 
            legend: *plot_legend_top
            bar:
              width: *plot_multi_fig_bar_width
            label:
              xlab: ""
              ylab: "百分数（%）"
            axisx:
              text_angle: 90
              text_size: *plot_multi_fig_lab_size

        score.box.province.county.school.cn: 
          fig.name: "各学校在语文学科上的得分分布"
          entry: "score.box.province.county.school.cn"
          ext.tex: ".tex"
          ext.fig: ".pdf"
          fig.limit: *plot_multi_fig_limit
          x.leader: *leader_prov_coun

          data:
            digits: *plot_data_digits
            county.filter:  TRUE
            filter:
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_total_score_quantile
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_total_score_mean

            derivative: 
              group: *scope
              key: *key
              keep:
                - *scope
                - *tier
                - *perspective

            aes:
              - 
                arg: "x"
                var: *scope
              -  
                arg: "ymin"
                var: *stat_quantile_key_bottom
              -  
                arg: "lower"
                var: *stat_quantile_key_lower
              -  
                arg: "middle"
                var: *stat_quantile_key_median
              -  
                arg: "upper"
                var: *stat_quantile_key_upper
              -  
                arg: "ymax"
                var: *stat_quantile_key_top
              -  
                arg: "fill"
                var: *tier
              -  
                arg: "mean"
                var: *key_score_mean

            sort:
              -
                var: "x"
                variable: *perspective
                option: *per_total
                value: "middle"
                asc_desc: "DESC"

          ggplot:
            width: *plot_multi_fig_width
            height: *plot_multi_fig_height
            geom: *plot_box
            legend: *plot_legend_top
            bar:
              width: *plot_multi_fig_bar_width
            label:
              xlab: ""
              ylab: "标准分"
            axisx:
              text_angle: 90
              text_size: *plot_multi_fig_lab_size

        level.bar.province.county.school.ma:
          fig.name: "各学校学生在数学学科各水平上的人数比例"
          entry: "level.bar.province.county.school.ma"
          ext.tex: ".tex"
          ext.fig: ".pdf"
          fig.limit: *plot_multi_fig_limit
          x.leader: *leader_prov_coun
          
          data:
            digits: *plot_data_digits
            county.filter:  TRUE
            filter:
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_total_score_level
            aes:
              - 
                arg: "x"
                var: *scope
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label

            sort:
              -
                var: "x"
                variable: *key
                option: "A"
                value: *value
                asc_desc: "DESC"

          ggplot:
            width: *plot_multi_fig_width
            height: *plot_multi_fig_height
            geom: *plot_bar_stacking 
            legend: *plot_legend_top
            bar:
              width: *plot_multi_fig_bar_width
            label:
              xlab: ""
              ylab: "百分数（%）"
            axisx:
              text_angle: 90
              text_size: *plot_multi_fig_lab_size

        score.box.province.county.school.ma: 
          fig.name: "各学校在数学学科上的得分分布"
          entry: "score.box.province.county.school.ma"
          ext.tex: ".tex"
          ext.fig: ".pdf"
          fig.limit: *plot_multi_fig_limit
          x.leader: *leader_prov_coun

          data:
            digits: *plot_data_digits
            county.filter:  TRUE
            filter:
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_total_score_quantile
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_total_score_mean

            derivative: 
              group: *scope
              key: *key
              keep:
                - *scope
                - *tier
                - *perspective

            aes:
              - 
                arg: "x"
                var: *scope
              -  
                arg: "ymin"
                var: *stat_quantile_key_bottom
              -  
                arg: "lower"
                var: *stat_quantile_key_lower
              -  
                arg: "middle"
                var: *stat_quantile_key_median
              -  
                arg: "upper"
                var: *stat_quantile_key_upper
              -  
                arg: "ymax"
                var: *stat_quantile_key_top
              -  
                arg: "fill"
                var: *tier
              -  
                arg: "mean"
                var: *key_score_mean

            sort:
              -
                var: "x"
                variable: *perspective
                option: *per_total
                value: "middle"
                asc_desc: "DESC"

          ggplot:
            width: *plot_multi_fig_width
            height: *plot_multi_fig_height
            geom: *plot_box
            legend: *plot_legend_top
            bar:
              width: *plot_multi_fig_bar_width
            label:
              xlab: ""
              ylab: "标准分"
            axisx:
              text_angle: 90
              text_size: *plot_multi_fig_lab_size

        level.bar.academy.subject: 
          fig.name: "不同类型学校学生在各学科各水平上的人数比例"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *top_total_score_level
            aes:
              - 
                arg: "x"
                var: *sample
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
              - 
                arg: "Group"
                var: *subject
            order:
              -
                var: "Group"
                list: *order_subject
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_stacking 
            group:
              variable: *subject
              scales: "fixed"
              position: "bottom"
            legend: *plot_legend_top
            bar:
              width: 0.3
            label:
              xlab: ""
              ylab: "百分数（%）"

        level.bar.gender.subject: 
          fig.name: "不同性别学生在各学科各水平上的人数比例"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_gender
                - 
                  variable: *topic
                  value: *top_total_score_level
            aes:
              - 
                arg: "x"
                var: *sample
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
              - 
                arg: "Group"
                var: *subject
            order:
              -
                var: "Group"
                list: *order_subject
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_stacking 
            group:
              variable: *subject
              scales: "fixed"
              position: "bottom"
            legend: *plot_legend_top
            bar:
              width: 0.3
            label:
              xlab: ""
              ylab: "百分数（%）"

        level.bar.huji.subject: 
          fig.name: "不同户籍类型学生在各学科各水平上的人数比例"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_huji
                - 
                  variable: *topic
                  value: *top_total_score_level
            aes:
              - 
                arg: "x"
                var: *sample
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
              - 
                arg: "Group"
                var: *subject
            order:
              -
                var: "Group"
                list: *order_subject
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_stacking 
            group:
              variable: *subject
              scales: "fixed"
              position: "bottom"
            legend: *plot_legend_top
            bar:
              width: 0.3
            label:
              xlab: ""
              ylab: "百分数（%）"

        onechild.bar: 
          fig.name: "四年级学生为独生子女情况"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_one_child_st
                -
                  x: "x"
                  from: *scope
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_one_child_st
                -
                  x: "x"
                  from: *scope
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *top_one_child_st
                -
                  x: "x"
                  from: *sample
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_pcounty
                -
                  variable: *perspective
                  value: *per_xinyouzhi
                - 
                  variable: *topic
                  value: *top_one_child_st
                -
                  x: "x"
                  from: *sample
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_gender
                - 
                  variable: *topic
                  value: *top_one_child_st
                -
                  x: "x"
                  from: *sample
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_huji
                - 
                  variable: *topic
                  value: *top_one_child_st
                -
                  x: "x"
                  from: *sample
            aes:
              #- 
              #  arg: "x"
              #  var: *sample
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            order: 
              -
                var: "x"
                list: *order_prov_coun_acad_gen_hu
              - 
                var: "fill"
                list:
                  - "是"
                  - "不是"

          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_stacking 
            
            legend: *plot_legend_top
            bar:
              width: *plot_bar_width
            label:
              xlab: *xlab_prov_coun_acad_gen_hu
              ylab: "百分数（%）"

        book.bar: 
          fig.name: "四年级学生家里的图书量"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_books
                -
                  x: "x"
                  from: *scope
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_books
                -
                  x: "x"
                  from: *scope
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *top_books
                -
                  x: "x"
                  from: *sample
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_gender
                - 
                  variable: *topic
                  value: *top_books
                -
                  x: "x"
                  from: *sample
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_huji
                - 
                  variable: *topic
                  value: *top_books
                -
                  x: "x"
                  from: *sample
            aes:
              #- 
              #  arg: "x"
              #  var: *sample
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
              
            order: 
              -
                var: "x"
                list: *order_prov_coun_acad_gen_hu
              -
                var: "fill"
                list:
                  - "20本以下"
                  - "21-50本之间"
                  - "51-100本之间"
                  - "101-200本之间"
                  - "200本以上"
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_stacking 
            legend: 
              position: "top"
              direction: "horizontal"
            bar:
              width: *plot_bar_width
            label:
              xlab: *xlab_prov_coun_acad_gen_hu
              ylab: "百分数（%）"

        car.bar: 
          fig.name: "四年级学生家庭汽车拥有量"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_cars
                -
                  x: "x"
                  from: *scope
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_cars
                -
                  x: "x"
                  from: *scope
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *top_cars
                -
                  x: "x"
                  from: *sample
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_gender
                - 
                  variable: *topic
                  value: *top_cars
                -
                  x: "x"
                  from: *sample
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_huji
                - 
                  variable: *topic
                  value: *top_cars
                -
                  x: "x"
                  from: *sample
            aes:
              #- 
              #  arg: "x"
              #  var: *sample
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            order: 
              -
                var: "x"
                list: *order_prov_coun_acad_gen_hu
              -
                var: "fill"
                list:
                  - "没有"
                  - "有，1辆"
                  - "有，2辆"
                  - "有，2辆以上"
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_stacking 
            
            legend: *plot_legend_top
            bar:
              width: *plot_bar_width
            label:
              xlab: *xlab_prov_coun_acad_gen_hu
              ylab: "百分数（%）"

        trip.bar: 
          fig.name: "四年级学生出境旅游的总体情况"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_oversea_trip
                -
                  x: "x"
                  from: *scope
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_oversea_trip
                -
                  x: "x"
                  from: *scope
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *top_oversea_trip
                -  
                  x: "x"
                  from: *sample
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_gender
                - 
                  variable: *topic
                  value: *top_oversea_trip
                -  
                  x: "x"
                  from: *sample
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_huji
                - 
                  variable: *topic
                  value: *top_oversea_trip
                -  
                  x: "x"
                  from: *sample
            aes:
              #- 
              #  arg: "x"
              #  var: *sample
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            order: 
              -
                var: "x"
                list: *order_prov_coun_acad_gen_hu  
              -
                var: "fill"
                list:
                  - "目前还没有去过"
                  - "1次"
                  - "2次"
                  - "3次"
                  - "4次及以上"
            
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_stacking 
            
            legend: *plot_legend_top
            bar:
              width: *plot_bar_width
            label:
              xlab: *xlab_prov_coun_acad_gen_hu
              ylab: "百分数（%）"

        father_edu.bar: 
          fig.name: "四年级学生父亲的受教育情况"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_father_edu
                -
                  x: "x"
                  from: *scope
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_father_edu
                -
                  x: "x"
                  from: *scope
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *top_father_edu
                -
                  x: "x"
                  from: *sample
              
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_gender
                - 
                  variable: *topic
                  value: *top_father_edu
                -
                  x: "x"
                  from: *sample
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_huji
                - 
                  variable: *topic
                  value: *top_father_edu
                -
                  x: "x"
                  from: *sample

            aes:
              #- 
              #  arg: "x"
              #  var: *sample
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            order: 
              -
                var: "x"
                list: *order_prov_coun_acad_gen_hu  
              -
                var: "fill"
                list:
                  - "初中及以下"
                  - "高中(职高、中专)"
                  - "大专"
                  - "本科"
                  - "研究生"
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_stacking 
            
            legend: *plot_legend_top
            bar:
              width: *plot_bar_width
            label:
              xlab: *xlab_prov_coun_acad_gen_hu
              ylab: "百分数（%）"

        mother_edu.bar: 
          fig.name: "四年级学生母亲的受教育情况"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_mother_edu
                -
                  x: "x"
                  from: *scope
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_mother_edu
                -
                  x: "x"
                  from: *scope
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *top_mother_edu
                -
                  x: "x"
                  from: *sample
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_gender
                - 
                  variable: *topic
                  value: *top_mother_edu
                -
                  x: "x"
                  from: *sample
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_huji
                - 
                  variable: *topic
                  value: *top_mother_edu
                -
                  x: "x"
                  from: *sample
            aes:
              #- 
              #  arg: "x"
              #  var: *sample
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            order: 
              -
                var: "x"
                list: *order_prov_coun_acad_gen_hu
              -
                var: "fill"
                list:
                  - "初中及以下"
                  - "高中(职高、中专)"
                  - "大专"
                  - "本科"
                  - "研究生"
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_stacking 
            
            legend: *plot_legend_top
            bar:
              width: *plot_bar_width
            label:
              xlab: *xlab_prov_coun_acad_gen_hu
              ylab: "百分数（%）"

        sleep.bar: 
          fig.name: "四年级学生平时上学时每天的睡眠时间"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_sleep
                -
                  x: "x"
                  from: *scope
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_sleep
                -
                  x: "x"
                  from: *scope
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *top_sleep
                -
                  x: "x"
                  from: *sample
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_gender
                - 
                  variable: *topic
                  value: *top_sleep
                -
                  x: "x"
                  from: *sample
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_huji
                - 
                  variable: *topic
                  value: *top_sleep
                -
                  x: "x"
                  from: *sample
            aes:
              #- 
              #  arg: "x"
              #  var: *sample
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            order: 
              -
                var: "x"
                list: *order_prov_coun_acad_gen_hu
              -
                var: "fill"
                list:
                  - "少于7小时"
                  - "7-8小时(含7小时)"
                  - "8-9小时(含8小时)"
                  - "9-10小时（含9小时）"
                  - "10小时及以上"
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_stacking 
            
            legend: *plot_legend_top
            bar:
              width: *plot_bar_width
            label:
              xlab: *xlab_prov_coun_acad_gen_hu
              ylab: "百分数（%）"

        sleep_weekend.bar: 
          fig.name: "四年级学生放假时每天的睡眠时间"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_sleep_weekend
                -
                  x: "x"
                  from: *scope
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_sleep_weekend
                -
                  x: "x"
                  from: *scope
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *top_sleep_weekend
                -
                  x: "x"
                  from: *sample
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_gender
                - 
                  variable: *topic
                  value: *top_sleep_weekend
                -
                  x: "x"
                  from: *sample
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_huji
                - 
                  variable: *topic
                  value: *top_sleep_weekend
                -
                  x: "x"
                  from: *sample
            aes:
              #- 
              #  arg: "x"
              #  var: *sample
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            order: 
              -
                var: "x"
                list: *order_prov_coun_acad_gen_hu
              -
                var: "fill"
                list:
                  - "少于7小时"
                  - "7-8小时(含7小时)"
                  - "8-9小时(含8小时)"
                  - "9-10小时(含9小时)"
                  - "10小时及以上"
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_stacking 
            
            legend: *plot_legend_top
            bar:
              width: *plot_bar_width
            label:
              xlab: *xlab_prov_coun_acad_gen_hu
              ylab: "百分数（%）"

        sleep_enough.bar: 
          fig.name: "四年级学生对自己睡眠时间是否充足的看法"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_sleep_enough
                - 
                  x: "x"
                  from: *scope
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_sleep_enough
                - 
                  x: "x"
                  from: *scope
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *top_sleep_enough
                -
                  x: "x"
                  from: *sample
              
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_gender
                - 
                  variable: *topic
                  value: *top_sleep_enough
                -
                  x: "x"
                  from: *sample
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_huji
                - 
                  variable: *topic
                  value: *top_sleep_enough
                -
                  x: "x"
                  from: *sample
            aes:
              #- 
              #  arg: "x"
              #  var: *sample
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            order: 
              -
                var: "x"
                list: *order_prov_coun_acad_gen_hu
              -
                var: "fill"
                list:
                  - "非常不充足"
                  - "比较不充足"
                  - "比较充足"
                  - "非常充足"
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_stacking 
            
            legend: *plot_legend_top
            bar:
              width: *plot_bar_width
            label:
              xlab: *xlab_prov_coun_acad_gen_hu
              ylab: "百分数（%）"

        sleep_not_enough.bar: 
          fig.name: "四年级学生睡眠不充足的原因"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_sleep_not_enough
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_sleep_not_enough

            alias:
              arg: "alias"
              var: *scope
            aes:
              - 
                arg: "x"
                var: *key
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: "alias"
              -  
                arg: "label"
                var: *label

            sort:
              -
                var: "x"
                variable: *tier
                option: *tier_county
                value: *value
                asc_desc: "ASC"
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            position: "dodge" 
            coord: "flip"
            text:
              hjust: 0.5
            legend: *plot_legend_right
            bar:
              width: *plot_bar_width_fat
            label:
              xlab: ""
              ylab: "百分数（%）"

        writing_homework_hours.bar: 
          fig.name: "四年级学生每天书面作业的时间"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_writing_homework_hours
                -
                  x: "x"
                  from: *scope
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_writing_homework_hours
                -
                  x: "x"
                  from: *scope
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *top_writing_homework_hours
                -
                  x: "x"
                  from: *sample
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_gender
                - 
                  variable: *topic
                  value: *top_writing_homework_hours
                -
                  x: "x"
                  from: *sample
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_huji
                - 
                  variable: *topic
                  value: *top_writing_homework_hours
                -
                  x:  "x"
                  from: *sample
            aes:
              #- 
              #  arg: "x"
              #  var: *sample
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            order: 
              -
                var: "x"
                list: *order_prov_coun_acad_gen_hu
              -
                var: "fill"
                list:
                  - "1小时以内"
                  - "1-2小时（含1小时）"
                  - "2-3小时（含2小时）"
                  - "3-4小时（含3小时）"
                  - "4小时及以上"
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_stacking 
            
            legend: *plot_legend_top
            bar:
              width: *plot_bar_width
            label:
              xlab: *xlab_prov_coun_acad_gen_hu
              ylab: "百分数（%）"

        writing_homework_difficulty.bar: 
          fig.name: "四年级学生作业的难易程度"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_writing_homework_difficulty
                -
                  x: "x"
                  from: *scope
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_writing_homework_difficulty
                -
                  x: "x"
                  from: *scope
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *top_writing_homework_difficulty
                -
                  x: "x"
                  from: *sample
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_gender
                - 
                  variable: *topic
                  value: *top_writing_homework_difficulty
                -
                  x: "x"
                  from: *sample
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_huji
                - 
                  variable: *topic
                  value: *top_writing_homework_difficulty
                -
                  x: "x"
                  from: *sample
            aes:
              #- 
              #  arg: "x"
              #  var: *sample
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            order: 
              -
                var: "x"
                list: *order_prov_coun_acad_gen_hu
              -
                var: "fill"
                list:
                  - "非常容易"
                  - "比较容易"
                  - "难易适中"
                  - "比较难"
                  - "非常难"
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_stacking 
            
            legend: *plot_legend_top
            bar:
              width: *plot_bar_width
            label:
              xlab: *xlab_prov_coun_acad_gen_hu
              ylab: "百分数（%）"

        extra_homework_yes.bar: 
          fig.name: "四年级学生参加与考试科目相关的家教补习或课外辅导比例"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_extra_homework_yes
                -
                  x: "x"
                  from: *scope
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_extra_homework_yes
                -
                  x: "x"
                  from: *scope
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *top_extra_homework_yes
                -
                  x: "x"
                  from: *sample
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_gender
                - 
                  variable: *topic
                  value: *top_extra_homework_yes
                -
                  x: "x"
                  from: *sample
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_huji
                - 
                  variable: *topic
                  value: *top_extra_homework_yes
                -
                  x: "x"
                  from: *sample
            aes:
              #- 
              #  arg: "x"
              #  var: *sample
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *perspective
              -  
                arg: "label"
                var: *label
            order: 
              -
                var: "x"
                list: *order_prov_coun_acad_gen_hu
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            position: "dodge" 
            text:
              vjust: 0.5
            bar:
              width: *plot_bar_width
            label:
              xlab: *xlab_prov_coun_acad_gen_hu
              ylab: "百分数（%）"

        extra_homework_subject.bar: 
          fig.name: "四年级学生参加与考试科目相关的家教补习或课外辅导情况"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_extra_homework_subject
                -
                  x: "x"
                  from: *scope
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_extra_homework_subject
                -
                  x: "x"
                  from: *scope
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *top_extra_homework_subject
                -
                  x: "x"
                  from: *sample

              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_gender
                - 
                  variable: *topic
                  value: *top_extra_homework_subject
                -
                  x: "x"
                  from: *sample
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_huji
                - 
                  variable: *topic
                  value: *top_extra_homework_subject
                -
                  x: "x"
                  from: *sample
            aes:
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            order: 
              -
                var: "x"
                list: *order_prov_coun_acad_gen_hu
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            position: "dodge" 
            text:
              hjust: 0.5
            legend: *plot_legend_top
            bar:
              width: *plot_bar_width_fat
            label:
              xlab: *xlab_prov_coun_acad_gen_hu
              ylab: "百分数（%）"

        extra_homework_hour.bar: 
          fig.name: "四年级学生参加与考试科目相关的家教补习、课外辅导时间"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_extra_homework_hour
                -
                  x: "x"
                  from: *scope
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_extra_homework_hour
                -
                  x: "x"
                  from: *scope
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *top_extra_homework_hour
                -
                  x: "x"
                  from: *sample
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_huji
                - 
                  variable: *topic
                  value: *top_extra_homework_hour
                -
                  x: "x"
                  from: *sample
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_gender
                - 
                  variable: *topic
                  value: *top_extra_homework_hour
                -
                  x: "x"
                  from: *sample
            aes:
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            order: 
              -
                var: "x"
                list: *order_prov_coun_acad_gen_hu
              -
                var: "fill"
                list:
                  #- "(跳过)"
                  #- "(空)"
                  - "2小时以下"
                  - "2-4小时（含2小时）"
                  - "4-6小时（含4小时）"
                  - "6-8小时（含6小时）"
                  - "8小时及以上"
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_stacking 
            
            legend: *plot_legend_top
            bar:
              width: *plot_bar_width
            label:
              xlab: *xlab_prov_coun_acad_gen_hu
              ylab: "百分数（%）"

        extra_homework_reason.bar: 
          fig.name: "四年级学生参加与考试科目相关的家教补习、课外辅导的主要原因"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_extra_homework_reason
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_extra_homework_reason
            alias:
              arg: "alias"
              var: *scope
            aes:
              - 
                arg: "x"
                var: *key
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: "alias"
              -  
                arg: "label"
                var: *label
            sort:
              -
                var: "x"
                variable: *tier
                option: *tier_county
                value: *value
                asc_desc: "ASC"
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            legend: *plot_legend_right
            position: "dodge" 
            text:
              hjust: 0.5
            coord: "flip"
            bar:
              width: *plot_bar_width_fat
            label:
              xlab: ""
              ylab: "百分数（%）"

        extra_interesting_yes.bar: 
          fig.name: "四年级学生参加校外兴趣班的比例"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_extra_interesting_yes
                -
                  x: "x"
                  from: *scope
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_extra_interesting_yes
                -
                  x: "x"
                  from: *scope
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *top_extra_interesting_yes
                -
                  x: "x"
                  from: *sample
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_gender
                - 
                  variable: *topic
                  value: *top_extra_interesting_yes
                -
                  x: "x"
                  from: *sample
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_huji
                - 
                  variable: *topic
                  value: *top_extra_interesting_yes
                -
                  x: "x"
                  from: *sample
            aes:
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *perspective
              -  
                arg: "label"
                var: *label
            order: 
              -
                var: "x"
                list: *order_prov_coun_acad_gen_hu
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            position: "dodge" 
            text:
              vjust: 0.5
            bar:
              width: *plot_bar_width
            label:
              xlab: *xlab_prov_coun_acad_gen_hu
              ylab: "百分数（%）"

        extra_interesting_subject.bar: 
          fig.name: "四年级学生参加校外兴趣班的种类"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_extra_interesting_subject
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_extra_interesting_subject
            alias:
              arg: "alias"
              var: *scope
            aes:
              - 
                arg: "x"
                var: *key
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: "alias"
              -  
                arg: "label"
                var: *label
            sort:
              -
                var: "x"
                variable: *tier
                option: *tier_county
                value: *value
                asc_desc: "ASC"

          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            position: "dodge" 
            legend: *plot_legend_right
            text:
              hjust: 0.5
            coord: "flip"
            bar:
              width: *plot_bar_width_fat
            label:
              xlab: ""
              ylab: "百分数（%）"

        extra_interesting_hour.bar: 
          fig.name: "四年级学生参加校外兴趣班的时间"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_extra_interesting_hour
                -
                  x: "x"
                  from: *scope
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_extra_interesting_hour
                -
                  x: "x"
                  from: *scope
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *top_extra_interesting_hour
                -
                  x: "x"
                  from: *sample
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_gender
                - 
                  variable: *topic
                  value: *top_extra_interesting_hour
                -
                  x: "x"
                  from: *sample
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_huji
                - 
                  variable: *topic
                  value: *top_extra_interesting_hour
                -
                  x: "x"
                  from: *sample
            aes:
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            order: 
              -
                var: "x"
                list: *order_prov_coun_acad_gen_hu
              -
                var: "fill"
                list:
                  #- "(跳过)"
                  #- "(空)"
                  - "1小时以下"
                  - "1-2小时（含1小时）"
                  - "2-3小时（含2小时）"
                  - "3-4小时（含3小时）"
                  - "4-5小时（含4小时）"
                  - "5小时及以上"    
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_stacking 
            
            legend: *plot_legend_top
            bar:
              width: *plot_bar_width
            label:
              xlab: *xlab_prov_coun_acad_gen_hu
              ylab: "百分数（%）"

        extra_interesting_reason.bar: 
          fig.name: "四年级学生参加校外兴趣班的主要原因"
          data:
            digits: 0
            filter:
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_extra_interesting_reason
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_extra_interesting_reason

            alias:
              arg: "alias"
              var: *scope

            aes:
              - 
                arg: "x"
                var: *key
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: "alias"
              -  
                arg: "label"
                var: *label
            sort:
              -
                var: "x"
                variable: *tier
                option: *tier_county
                value: *value
                asc_desc: "ASC"

          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            position: "dodge" 
            legend: *plot_legend_right
            coord: "flip"
            text:
              hjust: 0.5
            bar:
              width: *plot_bar_width_fat
            label:
              xlab: ""
              ylab: "百分数（%）"

        month_test.bar: 
          fig.name: "四年级学生每个月参加考试和测验频率"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                -
                  variable: *dimention
                  value: *dim_st_burden
                - 
                  variable: *topic
                  value: *top_month_test
                -
                  x: "x"
                  from: *scope
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_total
                -
                  variable: *dimention
                  value: *dim_st_burden
                - 
                  variable: *topic
                  value: *top_month_test
                -
                  x: "x"
                  from: *scope
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_academicsystem
                -
                  variable: *dimention
                  value: *dim_st_burden
                - 
                  variable: *topic
                  value: *top_month_test
                -
                  x: "x"
                  from: *sample
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_xinyouzhi
                -
                  variable: *dimention
                  value: *dim_st_burden
                - 
                  variable: *topic
                  value: *top_month_test
                -
                  x: "x"
                  from: *sample

            aes:
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            order: 
              -
                var: "x"
                list: *order_prov_coun_acad_xin
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_stacking 
            
            legend: *plot_legend_top
            bar:
              width: *plot_bar_width_thin
            label:
              xlab: *xlab_prov_coun_acad_xin
              ylab: "百分数（%）"

        year_reading.bar: 
          fig.name: "四年级学生过去一年内阅读课外读物的数量"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_year_reading
                -
                  x: "x"
                  from: *scope
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_year_reading
                -
                  x: "x"
                  from: *scope
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *top_year_reading
                -
                  x: "x"
                  from: *sample
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_gender
                - 
                  variable: *topic
                  value: *top_year_reading
                -
                  x: "x"
                  from: *sample
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_huji
                - 
                  variable: *topic
                  value: *top_year_reading
                -
                  x: "x"
                  from: *sample
            aes:
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            order: 
              -
                var: "x"
                list: *order_prov_coun_acad_gen_hu
              -
                var: "fill"
                list:
                  - "没有"
                  - "1-4本"
                  - "5-8本"
                  - "9-12本"
                  - "13本及以上"
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_stacking 
            
            legend: *plot_legend_top
            bar:
              width: *plot_bar_width
            label:
              xlab: *xlab_prov_coun_acad_gen_hu
              ylab: "百分数（%）"

        daily_sport_hour.bar: 
          fig.name: "四年级学生每天放学回家后的运动时间"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_daily_sport_hour
                -
                  x: "x"
                  from: *scope
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_daily_sport_hour
                -
                  x: "x"
                  from: *scope    
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *top_daily_sport_hour
                -
                  x: "x"
                  from: *sample
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_gender
                - 
                  variable: *topic
                  value: *top_daily_sport_hour
                -
                  x: "x"
                  from: *sample
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_huji
                - 
                  variable: *topic
                  value: *top_daily_sport_hour
                -
                  x: "x"
                  from: *sample
            aes:
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            order: 
              -
                var: "x"
                list: *order_prov_coun_acad_gen_hu
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_stacking 
            
            legend: *plot_legend_top
            bar:
              width: *plot_bar_width
            label:
              xlab: *xlab_prov_coun_acad_gen_hu
              ylab: "百分数（%）"

        teacher_fair.bar: 
          fig.name: "四年级学生对教师是否公平、平等的对待学生的评价"
          data:
            digits: 0
            filter:
              -
                - 
                  variable: *dimention
                  value: *dim_st_fair
              
            aes:
              - 
                arg: "x"
                var: *topic
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
              -
                arg: "Group"
                var: "alias"
            alias:
              arg: "alias"
              var: *scope                
            order:
              -
                var: "fill"
                list: *legend_order_aggree

          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            group:
              variable: "alias"
              scales: "fixed"
              position: "bottom"            
            position: "stack" 
            coord: "flip"
            text:
              vjust: 0.5
            legend: *plot_legend_right
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "百分数（%）"

        teacher_respect.bar: 
          fig.name: "四年级学生对教师是否尊重学生的评价"
          data:
            digits: 0
            filter:
              -
                - 
                  variable: *dimention
                  value: *dim_st_respect
              
            aes:
              - 
                arg: "x"
                var: *topic
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
              -
                arg: "Group"
                var: "alias"
            alias:
              arg: "alias"
              var: *scope
            order:
              -
                var: "fill"
                list: *legend_order_aggree
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            group:
              variable: "alias"
              scales: "fixed"
              position: "bottom"
            position: "stack" 
            coord: "flip"
            text:
              vjust: 0.5
            legend: *plot_legend_right
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "百分数（%）"

        teacher_trust.bar: 
          fig.name: "四年级学生对教师是否信任学生的评价"
          data:
            digits: 0
            filter:
              -
                - 
                  variable: *dimention
                  value: *dim_st_trust
              
            aes:
              - 
                arg: "x"
                var: *topic
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
              -
                arg: "Group"
                var: "alias"
            alias:
              arg: "alias"
              var: *scope

            order:
              -
                var: "fill"
                list: *legend_order_aggree

          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            group:
              variable: "alias"
              scales: "fixed"
              position: "bottom"

            position: "stack" 
            coord: "flip"
            text:
              vjust: 0.5
            legend: *plot_legend_right
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "百分数（%）"

        learning_pressure.bar: 
          fig.name: "四年级学生对学习压力相关问题的看法"
          data:
            digits: 0
            filter:
              -
                - 
                  variable: *dimention
                  value: *dim_st_pressure
                - variable: *variable
                  value: "staa048"
              -
                - 
                  variable: *dimention
                  value: *dim_st_pressure
                - variable: *variable
                  value: "staa049"
              -
                - 
                  variable: *dimention
                  value: *dim_st_pressure
                - variable: *variable
                  value: "staa050"
              -
                - 
                  variable: *dimention
                  value: *dim_st_pressure
                - variable: *variable
                  value: "staa051"
              -
                - 
                  variable: *dimention
                  value: *dim_st_pressure
                - variable: *variable
                  value: "staa052"
            aes:
              - 
                arg: "x"
                var: *topic
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
              -
                arg: "Group"
                var: "alias"
            alias:
              arg: "alias"
              var: *scope

            order:
              -
                var: "fill"
                list: *legend_order_aggree

          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            group:
              variable: "alias"
              scales: "fixed"
              position: "bottom"
            position: "stack" 
            coord: "flip"
            text:
              vjust: 0.5
            legend: *plot_legend_right
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "百分数（%）"

        learning_motivation.bar: 
          fig.name: "四年级学生对学习动机相关问题的看法"
          data:
            digits: 0
            filter:
              -
                - 
                  variable: *dimention
                  value: *dim_st_motivation
                -
                  variable: *variable
                  value: "staa040"
              -
                - 
                  variable: *dimention
                  value: *dim_st_motivation
                -
                  variable: *variable
                  value: "staa041"
              -
                - 
                  variable: *dimention
                  value: *dim_st_motivation
                -
                  variable: *variable
                  value: "staa042"
              -
                - 
                  variable: *dimention
                  value: *dim_st_motivation
                -
                  variable: *variable
                  value: "staa043"
              -
                - 
                  variable: *dimention
                  value: *dim_st_motivation
                -
                  variable: *variable
                  value: "staa044"
              -
                - 
                  variable: *dimention
                  value: *dim_st_motivation
                -
                  variable: *variable
                  value: "staa045"
              -
                - 
                  variable: *dimention
                  value: *dim_st_motivation
                -
                  variable: *variable
                  value: "staa046"
              -
                - 
                  variable: *dimention
                  value: *dim_st_motivation
                -
                  variable: *variable
                  value: "staa047"

            aes:
              - 
                arg: "x"
                var: *topic
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
              -
                arg: "Group"
                var: "alias"
            alias:
              arg: "alias"
              var: *scope
            order:
              -
                var: "fill"
                list: *legend_order_aggree
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            group:
              variable: "alias"
              scales: "fixed"
              position: "bottom"
            position: "stack" 
            coord: "flip"
            text:
              vjust: 0.5
            legend: *plot_legend_right
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "百分数（%）"

        school_identity.bar: 
          fig.name: "四年级学生对学校认同度相关问题的看法"
          data:
            digits: *plot_data_digits
            filter:
              -
                - 
                  variable: *dimention
                  value: *dim_st_identity
                -
                  variable: *variable
                  value: "staa017"
              -
                - 
                  variable: *dimention
                  value: *dim_st_identity
                -
                  variable: *variable
                  value: "staa023"
              -
                - 
                  variable: *dimention
                  value: *dim_st_identity
                -
                  variable: *variable
                  value: "staa024"
              -
                - 
                  variable: *dimention
                  value: *dim_st_identity
                -
                  variable: *variable
                  value: "staa025"
              -
                - 
                  variable: *dimention
                  value: *dim_st_identity
                -
                  variable: *variable
                  value: "staa026"
              -
                - 
                  variable: *dimention
                  value: *dim_st_identity
                -
                  variable: *variable
                  value: "staa027"

            aes:
              - 
                arg: "x"
                var: *topic
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
              -
                arg: "Group"
                var: "alias"
            alias:
              arg: "alias"
              var: *scope
            order:
              -
                var: "fill"
                list: *legend_order_aggree

          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            group:
              variable: "alias"
              scales: "fixed"
              position: "bottom"
            position: "stack" 
            coord: "flip"
            text:
              vjust: 0.5
            legend: *plot_legend_right
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "百分数（%）"

        learning_confidence.bar: 
          fig.name: "四年级学生对学习自信心相关问题的看法"
          data:
            digits: *plot_data_digits
            filter:
              -
                - 
                  variable: *dimention
                  value: *dim_st_confidence
                -
                  variable: *variable
                  value: "staa028"
              -
                - 
                  variable: *dimention
                  value: *dim_st_confidence
                -
                  variable: *variable
                  value: "staa029"
              -
                - 
                  variable: *dimention
                  value: *dim_st_confidence
                -
                  variable: *variable
                  value: "staa030"
              -
                - 
                  variable: *dimention
                  value: *dim_st_confidence
                -
                  variable: *variable
                  value: "staa031"
              -
                - 
                  variable: *dimention
                  value: *dim_st_confidence
                -
                  variable: *variable
                  value: "staa032"
              -
                - 
                  variable: *dimention
                  value: *dim_st_confidence
                -
                  variable: *variable
                  value: "staa033"

            aes:
              - 
                arg: "x"
                var: *topic
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
              -
                arg: "Group"
                var: "alias"
            alias:
              arg: "alias"
              var: *scope
            order:
              -
                var: "fill"
                list: *legend_order_aggree

          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            group:
              variable: "alias"
              scales: "fixed"
              position: "bottom"
            position: "stack" 
            coord: "flip"
            text:
              vjust: 0.5
            legend: *plot_legend_right
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "百分数（%）"

        learning_method.bar: 
          fig.name: "四年级学生对自己某些学习方法的评价"
          data:
            digits: *plot_data_digits
            filter:
              -
                - 
                  variable: *dimention
                  value: *dim_st_method

            aes:
              - 
                arg: "x"
                var: *topic
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
              -
                arg: "Group"
                var: "alias"
            alias:
              arg: "alias"
              var: *scope

            order:
              -
                var: "fill"
                list: *legend_order_match
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            group:
              variable: "alias"
              scales: "fixed"
              position: "bottom"
            position: "stack" 
            coord: "flip"
            text:
              vjust: 0.5
            legend: *plot_legend_right
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "百分数（%）"

        teaching_yincaishijiao.bar: 
          fig.name: "四年级学生对教师教学方式的评价——因材施教"
          data:
            digits: *plot_data_digits
            filter:
              -
                - 
                  variable: *dimention
                  value: *dim_st_yincaishijiao

            aes:
              - 
                arg: "x"
                var: *topic
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
              -
                arg: "Group"
                var: "alias"
            alias:
              arg: "alias"
              var: *scope
            order:
              -
                var: "fill"
                list: *legend_order_frequency
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            group:
              variable: "alias"
              scales: "fixed"
              position: "bottom"
            position: "stack" 
            coord: "flip"
            text:
              vjust: 0.5
            legend: *plot_legend_right
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "百分数（%）"

        teaching_hudongjiaoxue.bar: 
          fig.name: "四年级学生对教师教学方式的评价——互动教学"
          data:
            digits: *plot_data_digits
            filter:
              -
                - 
                  variable: *dimention
                  value: *dim_st_hudongjiaoxue

            aes:
              - 
                arg: "x"
                var: *topic
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
              -
                arg: "Group"
                var: "alias"
            alias:
              arg: "alias"
              var: *scope
            order:
              -
                var: "fill"
                list: *legend_order_frequency
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            group:
              variable: "alias"
              scales: "fixed"
              position: "bottom"

            position: "stack" 
            coord: "flip"
            text:
              vjust: 0.5
            legend: *plot_legend_right
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "百分数（%）"

        teaching_gulitanjiu.bar: 
          fig.name: "四年级学生对教师教学方式的评价——鼓励学生探究与发展"
          data:
            digits: *plot_data_digits
            filter:
              -
                - 
                  variable: *dimention
                  value: *dim_st_gulitanjiu

            aes:
              - 
                arg: "x"
                var: *topic
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
              -
                arg: "Group"
                var: "alias"
            alias:
              arg: "alias"
              var: *scope
            order:
              -
                var: "fill"
                list: *legend_order_frequency
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            group:
              variable: "alias"
              scales: "fixed"
              position: "bottom"
            position: "stack" 
            coord: "flip"
            text:
              vjust: 0.5
            legend: *plot_legend_right
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "百分数（%）"

        morality_respect_others.bar: 
          fig.name: "四年级学生尊重他人行为的总体情况"
          data:
            digits: *plot_data_digits
            filter:
              -
                - 
                  variable: *dimention
                  value: *dim_st_respect_others

            aes:
              - 
                arg: "x"
                var: *topic
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
              -
                arg: "Group"
                var: "alias"
            alias:
              arg: "alias"
              var: *scope
            order:
              -
                var: "fill"
                list: *legend_order_people
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            group:
              variable: "alias"
              scales: "fixed"
              position: "bottom"
            position: "stack" 
            coord: "flip"
            text:
              vjust: 0.5
            legend: *plot_legend_right
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "百分数（%）"

        morality_integrity.bar: 
          fig.name: "四年级学生遇到各种诚信问题时的行为表现情况"
          data:
            digits: *plot_data_digits
            filter:
              -
                - 
                  variable: *dimention
                  value: *dim_st_integrity

            aes:
              - 
                arg: "x"
                var: *topic
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
              -
                arg: "Group"
                var: "alias"
            alias:
              arg: "alias"
              var: *scope

            order:
              -
                var: "fill"
                list: *legend_order_people
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            group:
              variable: "alias"
              scales: "fixed"
              position: "bottom"
            position: "stack" 
            coord: "flip"
            text:
              vjust: 0.5
            legend: *plot_legend_right
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "百分数（%）"

        morality_responsibility.bar: 
          fig.name: "四年级学生关于社会责任感方面问题的表现情况"
          data:
            digits: *plot_data_digits
            filter:
              -
                - 
                  variable: *dimention
                  value: *dim_st_responsibility

            aes:
              - 
                arg: "x"
                var: *topic
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
              -
                arg: "Group"
                var: "alias"
            alias:
              arg: "alias"
              var: *scope
            order:
              -
                var: "fill"
                list: *legend_order_people
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            group:
              variable: "alias"
              scales: "fixed"
              position: "bottom"
            position: "stack" 
            coord: "flip"
            text:
              vjust: 0.5
            legend: *plot_legend_right
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "百分数（%）"

        psychological_renjimangan.bar: 
          fig.name: "四年级学生对人际敏感性相关问题的看法"
          data:
            digits: *plot_data_digits
            filter:
              -
                - 
                  variable: *dimention
                  value: *dim_st_renjimingan

            aes:
              - 
                arg: "x"
                var: *topic
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
              -
                arg: "Group"
                var: "alias"
            alias:
              arg: "alias"
              var: *scope
            order:
              -
                var: "fill"
                list: *legend_order_aggree
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            group:
              variable: "alias"
              scales: "fixed"
              position: "bottom"
            position: "stack" 
            coord: "flip"
            text:
              vjust: 0.5
            legend: *plot_legend_right
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "百分数（%）"

        psychological_renjiguanxi.bar: 
          fig.name: "四年级学生对人际关系相关问题的看法"
          data:
            digits: *plot_data_digits
            filter:
              -
                - 
                  variable: *dimention
                  value: *dim_st_renjiguanxi

            aes:
              - 
                arg: "x"
                var: *topic
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
              -
                arg: "Group"
                var: "alias"
            alias:
              arg: "alias"
              var: *scope

            order:
              -
                var: "fill"
                list: *legend_order_aggree
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            group:
              variable: "alias"
              scales: "fixed"
              position: "bottom"
            position: "stack" 
            coord: "flip"
            text:
              vjust: 0.5
            legend: *plot_legend_right
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "百分数（%）"

        psychological_self_respect.bar: 
          fig.name: "四年级学生对自尊相关问题的看法"
          data:
            digits: *plot_data_digits
            filter:
              -
                - 
                  variable: *dimention
                  value: *dim_st_self_respect

            aes:
              - 
                arg: "x"
                var: *topic
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
              -
                arg: "Group"
                var: "alias"
            alias:
              arg: "alias"
              var: *scope
            order:
              -
                var: "fill"
                list: *legend_order_aggree
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            group:
              variable: "alias"
              scales: "fixed"
              position: "bottom"
            position: "stack" 
            coord: "flip"
            text:
              vjust: 0.5
            legend: *plot_legend_right
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "百分数（%）"
       
        score_sleep.point: 
          fig.name: "四年级学生睡眠时间与学业成绩的关系"
          data:
            digits: 2
            county.filter:  TRUE
            filter:
              -
                -
                  variable: *subject
                  value: *subject_all
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_total_score_mean
              -
                -
                  variable: *subject
                  value: *subject_all
                -
                  variable: *tier
                  value: *tier_school
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_total_score_mean
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_sleep_n_hours
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_school
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_sleep_n_hours
            join:
              left: 
                variable: *topic
                value: *top_total_score_mean
              right:
                variable: *topic
                value: *top_sleep_n_hours
              linkon: *scope
              newvariable: *top_sleep_n_hours
            aes:
              - 
                arg: "x"
                var: *top_sleep_n_hours #newvariable
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *tier
              -  
                arg: "label"
                var: "alias"
            alias:
              arg: "alias"
              var: *scope
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_point
            check_overlap: TRUE
            label:
              xlab: "睡眠9小时以上百分数（%）"
              ylab: "学业成绩"
       
        score_homework.point: 
          fig.name: "四年级学生作业或课外练习时间与学业成绩的关系"
          data:
            digits: 2
            county.filter:  TRUE
            filter:
              -
                -
                  variable: *subject
                  value: *subject_all
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_total_score_mean
              -
                -
                  variable: *subject
                  value: *subject_all
                -
                  variable: *tier
                  value: *tier_school
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_total_score_mean
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_writing_homework_n_hours_more
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_school
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_writing_homework_n_hours_more
            join:
              left: 
                variable: *topic
                value: *top_total_score_mean
              right:
                variable: *topic
                value: *top_writing_homework_n_hours_more
              linkon: *scope
              newvariable: *top_writing_homework_n_hours_more
            aes:
              - 
                arg: "x"
                var: *top_writing_homework_n_hours_more #newvariable
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *tier
              -  
                arg: "label"
                var: "alias"
            alias:
              arg: "alias"
              var: *scope
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_point
            check_overlap: TRUE
            label:
              xlab: "作业1小时以上百分数（%）"
              ylab: "学业成绩"
       
        score_extra_homework.point: 
          fig.name: "四年级学生每周课外补课或辅导班时间与学业成绩的关系"
          data:
            digits: 2
            county.filter:  TRUE
            filter:
              -
                -
                  variable: *subject
                  value: *subject_all
                -
                  variable: *tier
                  value: *tier_school
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_total_score_mean
              -
                -
                  variable: *subject
                  value: *subject_all
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_total_score_mean
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_school
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_extra_homework_n_hours_more
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_extra_homework_n_hours_more
            join:
              left: 
                variable: *topic
                value: *top_total_score_mean
              right:
                variable: *topic
                value: *top_extra_homework_n_hours_more
              linkon: *scope
              newvariable: *top_extra_homework_n_hours_more
            aes:
              - 
                arg: "x"
                var: *top_extra_homework_n_hours_more #newvariable
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *tier
              -  
                arg: "label"
                var: "alias"
            alias:
              arg: "alias"
              var: *scope
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_point
            check_overlap: TRUE
            label:
              xlab: "校外补习2小时以上百分数（%）"
              ylab: "学业成绩"
       
        score_teacher.point: 
          fig.name: "四年级师生关系与学业成绩的关系"
          data:
            digits: 2
            county.filter:  TRUE
            filter:
              -
                -
                  variable: *subject
                  value: *subject_all
                -
                  variable: *tier
                  value: *tier_school
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_total_score_mean
              -
                -
                  variable: *subject
                  value: *subject_all
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_total_score_mean
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_school
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_teacher_relationship
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_teacher_relationship
            join:
              left: 
                variable: *topic
                value: *top_total_score_mean
              right:
                variable: *topic
                value: *top_teacher_relationship
              linkon: *scope
              newvariable: *top_teacher_relationship
            aes:
              - 
                arg: "x"
                var: *top_teacher_relationship #newvariable
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *tier
              -  
                arg: "label"
                var: "alias"
            alias:
              arg: "alias"
              var: *scope
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_point
            check_overlap: TRUE
            label:
              xlab: "学生与教师总体关系（%）"
              ylab: "学业成绩"

        score_pressure.point: 
          fig.name: "四年级学生学习压力与学业成绩的关系"
          data:
            digits: 2
            county.filter:  TRUE
            filter:
              -
                -
                  variable: *subject
                  value: *subject_all
                -
                  variable: *tier
                  value: *tier_school
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_total_score_mean
              -
                -
                  variable: *subject
                  value: *subject_all
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_total_score_mean
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_school
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_learning_pressure
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_learning_pressure
            join:
              left: 
                variable: *topic
                value: *top_total_score_mean
              right:
                variable: *topic
                value: *top_learning_pressure
              linkon: *scope
              newvariable: *top_learning_pressure
            aes:
              - 
                arg: "x"
                var: *top_learning_pressure #newvariable
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *tier
              -  
                arg: "label"
                var: "alias"
            alias:
              arg: "alias"
              var: *scope
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_point
            check_overlap: TRUE
            label:
              xlab: "学习压力较小的学生所占比例（%）"
              ylab: "学业成绩"
       
        score_identity.point: 
          fig.name: "四年级学生学校认同度与学业成绩的关系"
          data:
            digits: 2
            county.filter:  TRUE
            filter:
              -
                -
                  variable: *subject
                  value: *subject_all
                -
                  variable: *tier
                  value: *tier_school
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_total_score_mean
              -
                -
                  variable: *subject
                  value: *subject_all
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_total_score_mean
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_school
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_school_identity
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_school_identity
            join:
              left: 
                variable: *topic
                value: *top_total_score_mean
              right:
                variable: *topic
                value: *top_school_identity
              linkon: *scope
              newvariable: *top_school_identity
            aes:
              - 
                arg: "x"
                var: *top_school_identity #newvariable
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *tier
              -  
                arg: "label"
                var: "alias"
            alias:
              arg: "alias"
              var: *scope
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_point
            check_overlap: TRUE
            label:
              xlab: "学校认同度较高的学生所占比例（%）"
              ylab: "学业成绩"
        
        score_motivation.point: 
          fig.name: "四年级学生学习动机与学业成绩的关系"
          data:
            digits: 2
            county.filter:  TRUE
            filter:
              -
                -
                  variable: *subject
                  value: *subject_all
                -
                  variable: *tier
                  value: *tier_school
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_total_score_mean
              -
                -
                  variable: *subject
                  value: *subject_all
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_total_score_mean
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_school
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_learning_motivation
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_learning_motivation
            join:
              left: 
                variable: *topic
                value: *top_total_score_mean
              right:
                variable: *topic
                value: *top_learning_motivation
              linkon: *scope
              newvariable: *top_learning_motivation
            aes:
              - 
                arg: "x"
                var: *top_learning_motivation #newvariable
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *tier
              -  
                arg: "label"
                var: "alias"
            alias:
              arg: "alias"
              var: *scope
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_point
            check_overlap: TRUE
            label:
              xlab: "学习动机较强的学生所占比例（%）"
              ylab: "学业成绩"
    
        score_confidence.point: 
          fig.name: "四年级学生自信心与学业成绩的关系"
          data:
            digits: 2
            county.filter:  TRUE
            filter:
              -
                -
                  variable: *subject
                  value: *subject_all
                -
                  variable: *tier
                  value: *tier_school
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_total_score_mean
              -
                -
                  variable: *subject
                  value: *subject_all
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_total_score_mean
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_school
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_learning_confidence
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_learning_confidence
            join:
              left: 
                variable: *topic
                value: *top_total_score_mean
              right:
                variable: *topic
                value: *top_learning_confidence
              linkon: *scope
              newvariable: *top_learning_confidence
            aes:
              - 
                arg: "x"
                var: *top_learning_confidence #newvariable
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *tier
              -  
                arg: "label"
                var: "alias"
            alias:
              arg: "alias"
              var: *scope
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_point
            check_overlap: TRUE
            label:
              xlab: "学习自信心较强的学生所占比例（%）"
              ylab: "学业成绩"

        teacher_gender.bar: 
          fig.name: "四年级教师性别情况"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *survey_te
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_te_gender
                -
                  x: "x"
                  from: *scope
              -
                -
                  variable: *subject
                  value: *survey_te
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_te_gender
                -
                  x: "x"
                  from: *scope
              -
                -
                  variable: *subject
                  value: *survey_te
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *top_te_gender
                -
                  x: "x"
                  from: *sample
              -
                -
                  variable: *subject
                  value: *survey_te
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_xinyouzhi
                - 
                  variable: *topic
                  value: *top_te_gender
                -
                  x: "x"
                  from: *sample

            aes:
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            order: 
              -
                var: "x"
                list: *order_prov_coun_acad_xin
              
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_stacking 
            
            legend: *plot_legend_top
            bar:
              width: *plot_bar_width_thin
            label:
              xlab: *xlab_prov_coun_acad_xin
              ylab: "百分数（%）"

        teacher_years.bar: 
          fig.name: "四年级教师教龄情况"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *survey_te
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_te_years
                -
                  x: "x"
                  from: *scope
              -
                -
                  variable: *subject
                  value: *survey_te
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_te_years
                -
                  x: "x"
                  from: *scope
              -
                -
                  variable: *subject
                  value: *survey_te
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *top_te_years
                -
                  x: "x"
                  from: *sample
              -
                -
                  variable: *subject
                  value: *survey_te
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_xinyouzhi
                - 
                  variable: *topic
                  value: *top_te_years
                -
                  x: "x"
                  from: *sample

            aes:
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            order: 
              -
                var: "x"
                list: *order_prov_coun_acad_xin
              -
                var: "fill"
                list:
                  - "5年及以下"
                  - "6-10年"
                  - "11-15年"
                  - "16-20年"
                  - "20年以上"
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_stacking 
            
            legend: *plot_legend_top
            bar:
              width: *plot_bar_width_thin
            label:
              xlab: *xlab_prov_coun_acad_xin
              ylab: "百分数（%）"

        teacher_title.bar: 
          fig.name: "四年级教师专业职称情况"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *survey_te
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_te_title
                -
                  x: "x"
                  fome: *scope
              -
                -
                  variable: *subject
                  value: *survey_te
                -
                  variable: *tier
                  value: *tier_count
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_te_title
                -
                  x: "x"
                  fome: *scope
              -
                -
                  variable: *subject
                  value: *survey_te
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *top_te_title
                -
                  x: "x"
                  from: *sample
              -
                -
                  variable: *subject
                  value: *survey_te
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_xinyouzhi
                - 
                  variable: *topic
                  value: *top_te_title
                -
                  x: "x"
                  from: *sample

            aes:
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            order: 
              -
                var: "x"
                list: *order_prov_coun_acad_xin
              -
                var: "fill"
                list:
                  - "未定"
                  - "小学一级"
                  - "小学二级"
                  - "小学高级"
                  - "中学高级"
              
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_stacking 
            
            legend: *plot_legend_top
            bar:
              width: *plot_bar_width_thin
            label:
              xlab: *xlab_prov_coun_acad_xin
              ylab: "百分数（%）"

        teacher_all_title.bar: 
          fig.name: "小学教师专业职称情况"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *survey_pr
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_pr_all_title
                -
                  x: "x"
                  from: *scope
              -
                -
                  variable: *subject
                  value: *survey_pr
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_pr_all_title
                -
                  x: "x"
                  from: *scope
              -
                -
                  variable: *subject
                  value: *survey_pr
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *top_pr_all_title
                -
                  x: "x"
                  from: *sample
              -
                -
                  variable: *subject
                  value: *survey_pr
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_xinyouzhi
                - 
                  variable: *topic
                  value: *top_pr_all_title
                -
                  x: "x"
                  from: *sample

            aes:
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            order: 
              -
                var: "x"
                list: *order_prov_coun_acad_xin
              -
                var: "fill"
                list:
                  - "未定或没有"
                  - "小学一级"
                  - "小学二级"
                  - "小学高级"
                  - "中学高级"
              
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_stacking 
            
            legend: *plot_legend_top
            bar:
              width: *plot_bar_width_thin
            label:
              xlab: *xlab_prov_coun_acad_xin
              ylab: "百分数（%）"

        teacher_edu.bar: 
          fig.name: "四年级教师学历情况"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *survey_te
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_te_edu
                -
                  x: "x"
                  from: *scope
              -
                -
                  variable: *subject
                  value: *survey_te
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *top_te_edu
                -
                  x: "x"
                  from: *sample
              -
                -
                  variable: *subject
                  value: *survey_te
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_xinyouzhi
                - 
                  variable: *topic
                  value: *top_te_edu
                -
                  x: "x"
                  from: *sample

            aes:
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            order: 
              -
                var: "x"
                list: *order_prov_coun_acad_xin
              -
                var: "fill"
                list:
                  - "初中或以下"
                  - "中师或中专、高中"
                  - "大专"
                  - "本科"
                  - "研究生"
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_stacking 
            
            legend: *plot_legend_top
            bar:
              width: *plot_bar_width_thin
            label:
              xlab: *xlab_prov_coun_acad_xin
              ylab: "百分数（%）"

        teacher_all_edu.bar: 
          fig.name: "小学教师学历情况"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *survey_pr
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_pr_all_edu
                -
                  x: "x"
                  from: *scope
              -
                -
                  variable: *subject
                  value: *survey_pr
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_pr_all_edu
                -
                  x: "x"
                  from: *scope
              -
                -
                  variable: *subject
                  value: *survey_pr
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *top_pr_all_edu
                -
                  x: "x"
                  from: *sample
              -
                -
                  variable: *subject
                  value: *survey_pr
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_xinyouzhi
                - 
                  variable: *topic
                  value: *top_pr_all_edu
                -
                  x: "x"
                  from: *sample

            aes:
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            order: 
              -
                var: "x"
                list: *order_prov_coun_acad_xin
              -
                var: "fill"
                list:
                  - "中师或中专、高中及以下"
                  - "大专"
                  - "本科"
                  - "研究生"
              
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_stacking 
            
            legend: *plot_legend_top
            bar:
              width: *plot_bar_width_thin
            label:
              xlab: *xlab_prov_coun_acad_xin
              ylab: "百分数（%）"

        teacher_normal_edu.bar: 
          fig.name: "四年级教师就职前是否接受过师范教育的情况"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *survey_te
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_te_normal_edu
                -
                  x: "x"
                  from: *scope
              -
                -
                  variable: *subject
                  value: *survey_te
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *top_te_normal_edu
                -
                  x: "x"
                  from: *sample
              -
                -
                  variable: *subject
                  value: *survey_te
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_xinyouzhi
                - 
                  variable: *topic
                  value: *top_te_normal_edu
                -
                  x: "x"
                  from: *sample

            aes:
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            order: 
              -
                var: "x"
                list: *order_prov_coun_acad_xin
              
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_stacking 
            
            legend: *plot_legend_top
            bar:
              width: *plot_bar_width_thin
            label:
              xlab: *xlab_prov_coun_acad_xin
              ylab: "百分数（%）"

        teacher_major_match.bar: 
          fig.name: "四年级教师所教学科是否专业对口的情况"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *survey_te
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_te_major_match
                -
                  x: "x"
                  from: *scope
              -
                -
                  variable: *subject
                  value: *survey_te
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_te_major_match
                -
                  x: "x"
                  from: *scope
              -
                -
                  variable: *subject
                  value: *survey_te
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *top_te_major_match
                -
                  x: "x"
                  from: *sample
              -
                -
                  variable: *subject
                  value: *survey_te
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_xinyouzhi
                - 
                  variable: *topic
                  value: *top_te_major_match
                -
                  x: "x"
                  from: *sample

            aes:
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            order: 
              -
                var: "x"
                list: *order_prov_coun_acad_xin
              
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_stacking 
            
            legend: *plot_legend_top
            bar:
              width: *plot_bar_width_thin
            label:
              xlab: *xlab_prov_coun_acad_xin
              ylab: "百分数（%）"

        teacher_weekly_hours.bar: 
          fig.name: "四年级教师每周的上课节数情况"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *survey_te
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_te_weekly_hours
                -
                  x: "x"
                  from: *scope
              -
                -
                  variable: *subject
                  value: *survey_te
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_te_weekly_hours
                -
                  x: "x"
                  from: *scope
              -
                -
                  variable: *subject
                  value: *survey_te
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *top_te_weekly_hours
                -
                  x: "x"
                  from: *sample
              -
                -
                  variable: *subject
                  value: *survey_te
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_xinyouzhi
                - 
                  variable: *topic
                  value: *top_te_weekly_hours
                -
                  x:  "x"
                  from: *sample 

            aes:
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            order: 
              -
                var: "x"
                list: *order_prov_coun_acad_xin
              - 
                var: "fill"
                list:
                  - "6节以下"
                  - "6-10节"
                  - "11-15节"
                  - "16-20节"
                  - "20节以上"
              
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_stacking 
            
            legend: *plot_legend_top
            bar:
              width: *plot_bar_width_thin
            label:
              xlab: *xlab_prov_coun_acad_xin
              ylab: "百分数（%）"

        teacher_daily_hours.bar: 
          fig.name: "四年级教师每天的工作时间情况"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *survey_te
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_te_daily_hours
                -
                  x: "x"
                  from: *scope
              -
                -
                  variable: *subject
                  value: *survey_te
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_te_daily_hours
                -
                  x: "x"
                  from: *scope
              -
                -
                  variable: *subject
                  value: *survey_te
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *top_te_daily_hours
                -
                  x: "x"
                  from: *sample
              -
                -
                  variable: *subject
                  value: *survey_te
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_xinyouzhi
                - 
                  variable: *topic
                  value: *top_te_daily_hours
                -
                  x: "x"
                  from: *sample

            aes:
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            order: 
              -
                var: "x"
                list: *order_prov_coun_acad_xin
              - 
                var: "fill"
                list:
                  - "8小时及以下"
                  - "8-9小时(含9小时)"
                  - "9-11小时(含11小时)"
                  - "11-13小时(含13小时)"
                  - "13小时以上"
              
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_stacking 
            
            legend: *plot_legend_top
            bar:
              width: *plot_bar_width_thin
            label:
              xlab: *xlab_prov_coun_acad_xin
              ylab: "百分数（%）"

        teacher_job_favorite.bar: 
          fig.name: "四年级教师对教师职业喜爱程度的情况"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *survey_te
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_te_job_favorite
                -
                  x: "x"
                  from: *scope
              -
                -
                  variable: *subject
                  value: *survey_te
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_te_job_favorite
                -
                  x: "x"
                  from: *scope
              -
                -
                  variable: *subject
                  value: *survey_te
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *top_te_job_favorite
                -
                  x: "x"
                  from: *sample
              -
                -
                  variable: *subject
                  value: *survey_te
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_xinyouzhi
                - 
                  variable: *topic
                  value: *top_te_job_favorite
                -
                  x: "x"
                  from: *sample

            aes:
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            order: 
              -
                var: "x"
                list: *order_prov_coun_acad_xin
              - 
                var: "fill"
                list:
                  - "不喜欢"
                  - "不太喜欢"
                  - "不确定"
                  - "比较喜欢"
                  - "非常喜欢"
              
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_stacking 
            
            legend: *plot_legend_top
            bar:
              width: *plot_bar_width_thin
            label:
              xlab: *xlab_prov_coun_acad_xin
              ylab: "百分数（%）"

        teacher_job_quit.bar: 
          fig.name: "四年级教师的离职倾向情况"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *survey_te
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_te_job_quit
                -
                  x: "x"
                  from: *scope
              -
                -
                  variable: *subject
                  value: *survey_te
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_te_job_quit
                -
                  x: "x"
                  from: *scope
              -
                -
                  variable: *subject
                  value: *survey_te
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *top_te_job_quit
                -
                  x: "x"
                  from: *sample
              -
                -
                  variable: *subject
                  value: *survey_te
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_xinyouzhi
                - 
                  variable: *topic
                  value: *top_te_job_quit
                -
                  x: "x"
                  from: *sample

            aes:
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            order: 
              -
                var: "x"
                list: *order_prov_coun_acad_xin
              
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_stacking 
            
            legend: *plot_legend_top
            bar:
              width: *plot_bar_width_thin
            label:
              xlab: *xlab_prov_coun_acad_xin
              ylab: "百分数（%）"

        teacher_feelings.bar: 
          fig.name: "四年级教师对现有工作的感受情况"
          data:
            digits: 0
            filter:
              -
                -
                  variable: *subject
                  value: *survey_te
                - 
                  variable: *dimention
                  value: *dim_te_feelings

            aes:
              - 
                arg: "x"
                var: *topic
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
              -
                arg: "Group"
                var: "alias"
            alias:
              arg: "alias"
              var: *scope
            order:
              -
                var: "fill"
                list: *legend_order_aggree
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            group:
              variable: "alias"
              scales: "fixed"
              position: "bottom"
            position: "stack" 
            coord: "flip"
            text:
              vjust: 0.5
            legend: *plot_legend_right
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "百分数（%）"

        teacher_philosophy.bar: 
          fig.name: "四年级教师教学观的情况"
          data:
            digits: 0
            filter:
              -
                -
                  variable: *subject
                  value: *survey_te
                - 
                  variable: *dimention
                  value: *dim_te_philosophy

            aes:
              - 
                arg: "x"
                var: *topic
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
              -
                arg: "Group"
                var: "alias"
            alias:
              arg: "alias"
              var: *scope
            order:
              -
                var: "fill"
                list: *legend_order_aggree
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            group:
              variable: "alias"
              scales: "fixed"
              position: "bottom"
            position: "stack" 
            coord: "flip"
            text:
              vjust: 0.5
            legend: *plot_legend_right
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "百分数（%）"

        teacher_method.bar: 
          fig.name: "四年级教师教学方式的情况"
          data:
            digits: 0
            filter:
              -
                -
                  variable: *subject
                  value: *survey_te
                - 
                  variable: *dimention
                  value: *dim_te_method

            aes:
              - 
                arg: "x"
                var: *topic
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
              -
                arg: "Group"
                var: "alias"
            alias:
              arg: "alias"
              var: *scope
            order:
              -
                var: "fill"
                list: *legend_order_frequency
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            group:
              variable: "alias"
              scales: "fixed"
              position: "bottom"

            position: "stack" 
            coord: "flip"
            text:
              vjust: 0.5
            legend: *plot_legend_right
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "百分数（%）"

        teacher_activity.bar: 
          fig.name: "四年级教师提高自身素养和教学水平参与专业活动的情况"
          data:
            digits: 0
            filter:
              -
                -
                  variable: *subject
                  value: *survey_te
                - 
                  variable: *dimention
                  value: *dim_te_activity

            aes:
              - 
                arg: "x"
                var: *topic
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
              -
                arg: "Group"
                var: "alias"
            alias:
              arg: "alias"
              var: *scope
            order:
              -
                var: "fill"
                list: 
                  - "从不"
                  - "每学期1-3次"
                  - "每学期4-7次"
                  - "每学期8-12次"
                  - "每学期13次及以上"
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            group:
              variable: "alias"
              scales: "fixed"
              position: "bottom"
            position: "stack" 
            coord: "flip"
            text:
              vjust: 0.5
            legend: *plot_legend_right
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "百分数（%）"

        teacher_requirement.bar: 
          fig.name: "四年级教师专业发展需求方面的情况"
          data:
            digits: 0
            filter:
              -
                -
                  variable: *subject
                  value: *survey_te
                - 
                  variable: *dimention
                  value: *dim_te_requirement

            aes:
              - 
                arg: "x"
                var: *topic
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
              -
                arg: "Group"
                var: "alias"
            alias:
              arg: "alias"
              var: *scope
            order:
              - 
                var: "fill"
                list: 
                  - "目前不需要"
                  - "需要度不高"
                  - "不确定"
                  - "需要"
                  - "非常需要"

          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            group:
              variable: "alias"
              scales: "fixed"
              position: "bottom"
            position: "stack" 
            coord: "flip"
            text:
              vjust: 0.5
            legend: *plot_legend_right
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "百分数（%）"
  
        teacher_difficulty.bar: 
          fig.name: "四年级教师专业发展遇到的困难情况"
          data:
            digits: 0
            filter:
              -
                -
                  variable: *subject
                  value: *survey_te
                - 
                  variable: *dimention
                  value: *dim_te_difficulty

            aes:
              - 
                arg: "x"
                var: *topic
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
              -
                arg: "Group"
                var: "alias"
            alias:
              arg: "alias"
              var: *scope
            order:
              - 
                var: "fill"
                list: *legend_order_match

          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            group:
              variable: "alias"
              scales: "fixed"
              position: "bottom"
            position: "stack" 
            coord: "flip"
            text:
              vjust: 0.5
            legend: *plot_legend_right
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "百分数（%）"
   
        teacher_course_development.bar: 
          fig.name: "四年级教师对学校课程建设的感知情况"
          data:
            digits: 0
            filter:
              -
                -
                  variable: *subject
                  value: *survey_te
                - 
                  variable: *dimention
                  value: *dim_te_development

            aes:
              - 
                arg: "x"
                var: *topic
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
              -
                arg: "Group"
                var: "alias"
            alias:
              arg: "alias"
              var: *scope
            order:
              - 
                var: "fill"
                list: *legend_order_match

          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            group:
              variable: "alias"
              scales: "fixed"
              position: "bottom"
            position: "stack" 
            coord: "flip"
            text:
              vjust: 0.5
            legend: *plot_legend_right
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "百分数（%）"
  
        teacher_course_implement.bar: 
          fig.name: "四年级教师对学校课程实施的感知情况"
          data:
            digits: 0
            filter:
              -
                -
                  variable: *subject
                  value: *survey_te
                - 
                  variable: *dimention
                  value: *dim_te_implement

            aes:
              - 
                arg: "x"
                var: *topic
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
              -
                arg: "Group"
                var: "alias"
            alias:
              arg: "alias"
              var: *scope
            order:
              - 
                var: "fill"
                list: *legend_order_match

          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            group:
              variable: "alias"
              scales: "fixed"
              position: "bottom"
            position: "stack" 
            coord: "flip"
            text:
              vjust: 0.5
            legend: *plot_legend_right
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "百分数（%）"
  
        teacher_course_management.bar: 
          fig.name: "四年级教师对学校课程管理的感知情况"
          data:
            digits: 0
            filter:
              -
                -
                  variable: *subject
                  value: *survey_te
                - 
                  variable: *dimention
                  value: *dim_te_management

            aes:
              - 
                arg: "x"
                var: *topic
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
              -
                arg: "Group"
                var: "alias"
            alias:
              arg: "alias"
              var: *scope
            order:
              - 
                var: "fill"
                list: *legend_order_match

          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            group:
              variable: "alias"
              scales: "fixed"
              position: "bottom"
            position: "stack" 
            coord: "flip"
            text:
              vjust: 0.5
            legend: *plot_legend_right
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "百分数（%）"
   
        teacher_course_evaluation.bar: 
          fig.name: "四年级教师对学校课程评价的感知情况"
          data:
            digits: 0
            filter:
              -
                -
                  variable: *subject
                  value: *survey_te
                - 
                  variable: *dimention
                  value: *dim_te_evaluation

            aes:
              - 
                arg: "x"
                var: *topic
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
              -
                arg: "Group"
                var: "alias"
            alias:
              arg: "alias"
              var: *scope
            order:
              - 
                var: "fill"
                list: *legend_order_match

          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            group:
              variable: "alias"
              scales: "fixed"
              position: "bottom"
            position: "stack" 
            coord: "flip"
            text:
              vjust: 0.5
            legend: *plot_legend_right
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "百分数（%）"

        principal_gender.bar: 
          fig.name: "小学校长性别"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *survey_pr
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_pr_gender
                -
                  x: "x"
                  from: *scope
              -
                -
                  variable: *subject
                  value: *survey_pr
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *top_pr_gender
                -
                  x: "x"
                  from: *sample
              -
                -
                  variable: *subject
                  value: *survey_pr
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_xinyouzhi
                - 
                  variable: *topic
                  value: *top_pr_gender
                -
                  x: "x"
                  from: *sample

            aes:
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            order: 
              -
                var: "x"
                list: *order_prov_coun_acad_xin
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_stacking 
            
            legend: *plot_legend_top
            bar:
              width: *plot_bar_width_thin
            label:
              xlab: *xlab_prov_coun_acad_xin
              ylab: "百分数（%）"

        principal_age.bar: 
          fig.name: "小学校长年龄"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *survey_pr
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_pr_age
                -
                  x: "x"
                  from: *scope
              -
                -
                  variable: *subject
                  value: *survey_pr
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *top_pr_age
                -
                  x: "x"
                  from: *sample
              -
                -
                  variable: *subject
                  value: *survey_pr
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_xinyouzhi
                - 
                  variable: *topic
                  value: *top_pr_age
                -
                  x: "x"
                  from: *sample

            aes:
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            order: 
              -
                var: "x"
                list: *order_prov_coun_acad_xin
              - 
                var: "fill"
                list:
                  - "35岁以下"
                  - "35-40岁（含40岁）"
                  - "40-45岁（含45岁）"
                  - "45-50岁（含50岁）"
                  - "50-55岁（含55岁）"
                  - "55-60岁（含60岁）"
                  - "60岁以上"
              
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_stacking 
            
            legend: *plot_legend_top
            bar:
              width: *plot_bar_width_thin
            label:
              xlab: *xlab_prov_coun_acad_xin
              ylab: "百分数（%）"

        principal_years.bar: 
          fig.name: "小学校长担任校长年限"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *survey_pr
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_pr_years
                -
                  x: "x"
                  from: *scope
              -
                -
                  variable: *subject
                  value: *survey_pr
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *top_pr_years
                -
                  x: "x"
                  from: *sample
              -
                -
                  variable: *subject
                  value: *survey_pr
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_xinyouzhi
                - 
                  variable: *topic
                  value: *top_pr_years
                -
                  x: "x"
                  from: *sample

            aes:
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            order: 
              -
                var: "x"
                list: *order_prov_coun_acad_xin
              -
                var: "fill"
                list:
                  - "5年以下"
                  - "5-10年（含5年）"
                  - "10-15年（含10年）"
                  - "15-20年（含15年）"
                  - "20年及以上"
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_stacking 
            
            legend: *plot_legend_top
            bar:
              width: *plot_bar_width_thin
            label:
              xlab: *xlab_prov_coun_acad_xin
              ylab: "百分数（%）"

        principal_edu.bar: 
          fig.name: "小学校长学历"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *survey_pr
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_pr_edu
                -
                  x: "x"
                  from: *scope
              -
                -
                  variable: *subject
                  value: *survey_pr
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *top_pr_edu
                -
                  x: "x"
                  from: *sample
              -
                -
                  variable: *subject
                  value: *survey_pr
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_xinyouzhi
                - 
                  variable: *topic
                  value: *top_pr_edu
                -
                  x: "x"
                  from: *sample

            aes:
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            order: 
              -
                var: "x"
                list: *order_prov_coun_acad_xin
              - 
                var: "fill"
                list: 
                  - "中师或高中"
                  - "大专"
                  - "本科"
                  - "研究生"
              
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_stacking 
            
            legend: *plot_legend_top
            bar:
              width: *plot_bar_width_thin
            label:
              xlab: *xlab_prov_coun_acad_xin
              ylab: "百分数（%）"

        principal_title.bar: 
          fig.name: "小学校长的职级"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *survey_pr
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_pr_title
                -
                  x: "x"
                  from: *scope
              -
                -
                  variable: *subject
                  value: *survey_pr
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *top_pr_title
                -
                  x: "x"
                  from: *sample
              -
                -
                  variable: *subject
                  value: *survey_pr
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_xinyouzhi
                - 
                  variable: *topic
                  value: *top_pr_title
                -
                  x: "x"
                  from: *sample

            aes:
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            order: 
              -
                var: "x"
                list: *order_prov_coun_acad_xin
              -
                var: "fill"
                list:
                  - "无职级"
                  - "一级"
                  - "二级"
                  - "三级"
                  - "四级"
                  - "特级"
              
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_stacking 
            
            legend: *plot_legend_top
            bar:
              width: *plot_bar_width_thin
            label:
              xlab: *xlab_prov_coun_acad_xin
              ylab: "百分数（%）"

        principal_school_history.bar: 
          fig.name: "小学学校的校龄"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *survey_pr
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_school_history
                -
                  x: "x"
                  from: *scope
              -
                -
                  variable: *subject
                  value: *survey_pr
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *top_school_history
                -
                  x: "x"
                  from: *sample
              -
                -
                  variable: *subject
                  value: *survey_pr
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_xinyouzhi
                - 
                  variable: *topic
                  value: *top_school_history
                -
                  x: "x"
                  from: *sample

            aes:
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            order: 
              -
                var: "x"
                list: *order_prov_coun_acad_xin
              -
                var: "fill"
                list:
                  - "15年以下"
                  - "15-30年"
                  - "31-45年"
                  - "46-60年"
                  - "61年以上"
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_stacking 
            
            legend: *plot_legend_top
            bar:
              width: *plot_bar_width_thin
            label:
              xlab: *xlab_prov_coun_acad_xin
              ylab: "百分数（%）"

        principal_meeting.bar: 
          fig.name: "小学校长参加各种会议的频率"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *survey_pr
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_pr_meeting
                -
                  x: "x"
                  from: *scope
              -
                -
                  variable: *subject
                  value: *survey_pr
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *top_pr_meeting
                -
                  x: "x"
                  from: *sample
              -
                -
                  variable: *subject
                  value: *survey_pr
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_xinyouzhi
                - 
                  variable: *topic
                  value: *top_pr_meeting
                -
                  x: "x"
                  from: *sample

            aes:
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *perspective
              -  
                arg: "label"
                var: *label
            order: 
              -
                var: "x"
                list: *order_prov_coun_acad_xin
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_stacking 
            
            #legend: *plot_legend_top
            bar:
              width: *plot_bar_width_thin
            label:
              xlab: *xlab_prov_coun_acad_xin
              ylab: "百分数（%）"

        principal_instructing.bar: 
          fig.name: "小学校长给学生上课的频率"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *survey_pr
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_pr_instructing
                -
                  x: "x"
                  from: *scope
              -
                -
                  variable: *subject
                  value: *survey_pr
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *top_pr_instructing
                -
                  x: "x"
                  from: *sample
              -
                -
                  variable: *subject
                  value: *survey_pr
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_xinyouzhi
                - 
                  variable: *topic
                  value: *top_pr_instructing
                -
                  x: "x"
                  from: *sample

            aes:
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *perspective
              -  
                arg: "label"
                var: *label
            order: 
              -
                var: "x"
                list: *order_prov_coun_acad_xin
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_stacking 
            
            #legend: *plot_legend_top
            bar:
              width: *plot_bar_width_thin
            label:
              xlab: *xlab_prov_coun_acad_xin
              ylab: "百分数（%）"

        principal_researching.bar: 
          fig.name: "小学校长参加听课、评课及教研活动的频率"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *survey_pr
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_pr_researching
                -
                  x: "x"
                  from: *scope
              -
                -
                  variable: *subject
                  value: *survey_pr
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *top_pr_researching
                -
                  x: "x"
                  from: *sample
              -
                -
                  variable: *subject
                  value: *survey_pr
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_xinyouzhi
                - 
                  variable: *topic
                  value: *top_pr_researching
                -
                  x: "x"
                  from: *sample

            aes:
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *perspective
              -  
                arg: "label"
                var: *label
            order: 
              -
                var: "x"
                list: *order_prov_coun_acad_xin
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_stacking 
            
            #legend: *plot_legend_top
            bar:
              width: *plot_bar_width_thin
            label:
              xlab: *xlab_prov_coun_acad_xin
              ylab: "百分数（%）"

        principal_communication.bar: 
          fig.name: "小学校长与教师交流，听取教师意见的频率"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *survey_pr
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_pr_communication
                -
                  x: "x"
                  from: *scope
              -
                -
                  variable: *subject
                  value: *survey_pr
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *top_pr_communication
                -
                  x: "x"
                  from: *sample
              -
                -
                  variable: *subject
                  value: *survey_pr
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_xinyouzhi
                - 
                  variable: *topic
                  value: *top_pr_communication
                -
                  x:  "x"
                  from: *sample

            aes:
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *perspective
              -  
                arg: "label"
                var: *label
            order: 
              -
                var: "x"
                list: *order_prov_coun_acad_xin
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_stacking 
            
            #legend: *plot_legend_top
            bar:
              width: *plot_bar_width_thin
            label:
              xlab: *xlab_prov_coun_acad_xin
              ylab: "百分数（%）"

        principal_evaluation.bar: 
          fig.name: "小学校长应对上级行政部门的检查、评估的频率"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *survey_pr
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_pr_evaluation
                -
                  x: "x"
                  from: *scope
              -
                -
                  variable: *subject
                  value: *survey_pr
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *top_pr_evaluation
                -
                  x: "x"
                  from: *sample 

              -
                -
                  variable: *subject
                  value: *survey_pr
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_xinyouzhi
                - 
                  variable: *topic
                  value: *top_pr_evaluation
                -
                  x: "x"
                  from: *sample

            aes:
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *perspective
              -  
                arg: "label"
                var: *label
            order: 
              -
                var: "x"
                list: *order_prov_coun_acad_xin
              
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_stacking 
            
            #legend: *plot_legend_top
            bar:
              width: *plot_bar_width_thin
            label:
              xlab: *xlab_prov_coun_acad_xin
              ylab: "百分数（%）"

        principal_financing.bar: 
          fig.name: "小学校长在科研、教学、资金使用的方面的规划与审批的频率"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *survey_pr
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_pr_financing
                -
                  x: "x"
                  from: *scope 

              -
                -
                  variable: *subject
                  value: *survey_pr
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *top_pr_financing
                -
                  x: "x"
                  from: *sample
              -
                -
                  variable: *subject
                  value: *survey_pr
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_xinyouzhi
                - 
                  variable: *topic
                  value: *top_pr_financing
                -
                  x: "x"
                  from: *sample

            aes:
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *perspective
              -  
                arg: "label"
                var: *label
            order: 
              -
                var: "x"
                list: *order_prov_coun_acad_xin
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_stacking 
            
            #legend: *plot_legend_top
            bar:
              width: *plot_bar_width_thin
            label:
              xlab: *xlab_prov_coun_acad_xin
              ylab: "百分数（%）"
   
        principal_challenge.bar: 
          fig.name: "小学校长对学校发展遇到的困难情况"
          data:
            digits: 0
            filter:
              -
                -
                  variable: *subject
                  value: *survey_pr
                - 
                  variable: *dimention
                  value: *dim_pr_challenge

            aes:
              - 
                arg: "x"
                var: *topic
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
              -
                arg: "Group"
                var: "alias"
            alias:
              arg: "alias"
              var: *scope
            order:
              -
                var: "fill"
                list:
                  - "根本不是"
                  - "有一点"
                  - "不确定"
                  - "一定程度"
                  - "很大程度"
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            group:
              variable: "alias"
              scales: "fixed"
              position: "bottom"
            position: "stack" 
            coord: "flip"
            text:
              vjust: 0.5
            legend: *plot_legend_right
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "百分数（%）"

        principal_publishing.bar: 
          fig.name: "小学学校近三年正式出版专门的学科交流与经验分享的成果集的数量"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *survey_pr
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_pr_publishing
                -
                  x: "x"
                  from: *scope
              -
                -
                  variable: *subject
                  value: *survey_pr
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *top_pr_publishing
                -
                  x: "x"
                  from: *sample
              -
                -
                  variable: *subject
                  value: *survey_pr
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_xinyouzhi
                - 
                  variable: *topic
                  value: *top_pr_publishing
                -
                  x: "x"
                  from: *sample

            aes:
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            order: 
              -
                var: "x"
                list: *order_prov_coun_acad_xin
              -
                var: "fill"
                list:
                  - "没有"
                  - "1本"
                  - "2本"
                  - "3本"
                  - "4本及以上"
                  
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_stacking 
            
            legend: *plot_legend_top
            bar:
              width: *plot_bar_width_thin
            label:
              xlab: *xlab_prov_coun_acad_xin
              ylab: "百分数（%）"

        principal_course.bar: 
          fig.name: "小学学校近三年开设校本课程的数量的情况"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *survey_pr
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_pr_course
                -
                  x: "x"
                  from: *scope
              -
                -
                  variable: *subject
                  value: *survey_pr
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *top_pr_course
                -
                  x: "x"
                  from: *sample
              -
                -
                  variable: *subject
                  value: *survey_pr
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_xinyouzhi
                - 
                  variable: *topic
                  value: *top_pr_course
                -
                  x: "x"
                  from: *sample

            aes:
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            order: 
              -
                var: "x"
                list: *order_prov_coun_acad_xin
              -
                var: "fill"
                list:
                  - "没有"
                  - "1-5门"
                  - "6-10门"
                  - "11-20门"
                  - "20门以上"
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_stacking 
            
            legend: *plot_legend_top
            bar:
              width: *plot_bar_width_thin
            label:
              xlab: *xlab_prov_coun_acad_xin
              ylab: "百分数（%）"

        principal_community.bar: 
          fig.name: "小学建设学生社团、兴趣小组和俱乐部数量的情况"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *survey_pr
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_pr_community
                -
                  x: "x"
                  from: *scope
              -
                -
                  variable: *subject
                  value: *survey_pr
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *top_pr_community
                -
                  x: "x"
                  from: *sample
              -
                -
                  variable: *subject
                  value: *survey_pr
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_xinyouzhi
                - 
                  variable: *topic
                  value: *top_pr_community
                -
                  x: "x"
                  from: *sample

            aes:
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            order: 
              -
                var: "x"
                list: *order_prov_coun_acad_xin
              -
                var: "fill"
                list:
                  - "没有"
                  - "1-5个"
                  - "6-10个"
                  - "11-20个"
                  - "20个以上"
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_stacking 
            
            legend: *plot_legend_top
            bar:
              width: *plot_bar_width_thin
            label:
              xlab: *xlab_prov_coun_acad_xin
              ylab: "百分数（%）"
   
        principal_feelings.bar: 
          fig.name: "小学校长对学校感受的情况"
          data:
            digits: 0
            filter:
              -
                -
                  variable: *subject
                  value: *survey_pr
                - 
                  variable: *dimention
                  value: *dim_pr_feelings

            aes:
              - 
                arg: "x"
                var: *topic
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
              -
                arg: "Group"
                var: "alias"
            alias:
              arg: "alias"
              var: *scope

            order:
              -
                var: "fill"
                list:
                  - "非常低"
                  - "比较低"
                  - "中等"
                  - "比较高"
                  - "非常高"
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            group:
              variable: "alias"
              scales: "fixed"
              position: "bottom"
            position: "stack" 
            coord: "flip"
            text:
              vjust: 0.5
            legend: *plot_legend_right
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "百分数（%）"
   
        principal_philosophy.bar: 
          fig.name: "小学校长教学观的情况"
          data:
            digits: 0
            filter:
              -
                -
                  variable: *subject
                  value: *survey_pr
                - 
                  variable: *dimention
                  value: *dim_pr_philosophy

            aes:
              - 
                arg: "x"
                var: *topic
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
              -
                arg: "Group"
                var: "alias"
            alias:
              arg: "alias"
              var: *scope
            order:
              -
                var: "fill"
                list: *legend_order_aggree
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            group:
              variable: "alias"
              scales: "fixed"
              position: "bottom"
            position: "stack" 
            coord: "flip"
            text:
              vjust: 0.5
            legend: *plot_legend_right
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "百分数（%）"

        family_structure.bar: 
          fig.name: "学生的家庭结构情况"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_family_structure
                -
                  x: "x"
                  from: *scope
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *top_family_structure
                -
                  x: "x"
                  from: *sample
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_gender
                - 
                  variable: *topic
                  value: *top_family_structure
                -
                  x: "x"
                  from: *sample
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_huji
                - 
                  variable: *topic
                  value: *top_family_structure
                -
                  x: "x"
                  from: *sample
            aes:
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            order: 
              -
                var: "x"
                list: *order_prov_coun_acad_gen_hu 
              -
                var: "fill"
                list: 
                  - "扩大家庭"
                  - "主干家庭"
                  - "核心家庭"
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_stacking 
            
            legend: *plot_legend_top
            bar:
              width: *plot_bar_width
            label:
              xlab: *xlab_prov_coun_acad_gen_hu
              ylab: "百分数（%）"

        query_about_school.bar: 
          fig.name: "家长主动询问孩子在校发生情况"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_query_about_school
                -
                  x: "x"
                  from: *scope
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *top_query_about_school
                -
                  x: "x"
                  from: *sample

              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_gender
                - 
                  variable: *topic
                  value: *top_query_about_school
                -
                  x: "x"
                  from: *sample

              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_huji
                - 
                  variable: *topic
                  value: *top_query_about_school
                -
                  x: "x"
                  from: *sample

            aes:
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            order: 
              -
                var: "x"
                list: *order_prov_coun_acad_gen_hu 
              - 
                var: "fill"
                list: *legend_order_frequency 
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_stacking 
            
            legend: *plot_legend_top
            bar:
              width: *plot_bar_width
            label:
              xlab: *xlab_prov_coun_acad_gen_hu
              ylab: "百分数（%）"

        family_discuss.bar: 
          fig.name: "给出了家长认为孩子参与家庭事务讨论的情况"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_family_discuss
                -
                  x: "x"
                  from: *scope
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *top_family_discuss
                -
                  x: "x"
                  from: *sample
              
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_gender
                - 
                  variable: *topic
                  value: *top_family_discuss
                -
                  x: "x"
                  from: *sample
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_huji
                - 
                  variable: *topic
                  value: *top_family_discuss
                -
                  x: "x"
                  from: *sample
            aes:
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            order: 
              -
                var: "x"
                list: *order_prov_coun_acad_gen_hu
              - 
                var: "fill"
                list: *legend_order_frequency
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_stacking 
            
            legend: *plot_legend_top
            bar:
              width: *plot_bar_width
            label:
              xlab: *xlab_prov_coun_acad_gen_hu
              ylab: "百分数（%）"

        family_work.bar: 
          fig.name: "家长认为孩子平均每天在家做家务情况"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_family_work
                -
                  x: "x"
                  from: *scope
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *top_family_work
                -
                  x: "x"
                  from: *sample
              
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_gender
                - 
                  variable: *topic
                  value: *top_family_work
                -
                  x: "x"
                  from: *sample
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_huji
                - 
                  variable: *topic
                  value: *top_family_work
                -
                  x: "x"
                  from: *sample
            aes:
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            order: 
              -
                var: "x"
                list: *order_prov_coun_acad_gen_hu
              -
                var: "fill"
                list: 
                  - "几乎不用做"
                  - "10分钟以内"
                  - "11-30分钟"
                  - "31-60分钟"
                  - "61分钟及以上"

          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_stacking 
            
            legend: *plot_legend_top
            bar:
              width: *plot_bar_width
            label:
              xlab: *xlab_prov_coun_acad_gen_hu
              ylab: "百分数（%）"

        parent_accompany.bar: 
          fig.name: "家长每周陪孩子共同活动的情况"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_parent_accompany
                -
                  x: "x"
                  from: *scope
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *top_parent_accompany
                -
                  x: "x"
                  from: *sample
              
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_gender
                - 
                  variable: *topic
                  value: *top_parent_accompany
                -
                  x: "x"
                  from: *sample
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_huji
                - 
                  variable: *topic
                  value: *top_parent_accompany
                -
                  x: "x"
                  from: *sample
            aes:
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            order: 
              -
                var: "x"
                list: *order_prov_coun_acad_gen_hu
              -
                var: "fill"
                list:
                  - "3小时以内"
                  - "3-6小时（含3小时）"
                  - "6-9小时（含6小时）"
                  - "9-12小时（含9小时）"
                  - "12小时及以上"
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_stacking 
            
            legend: *plot_legend_top
            bar:
              width: *plot_bar_width
            label:
              xlab: *xlab_prov_coun_acad_gen_hu
              ylab: "百分数（%）"

        quarrel_frequency.bar: 
          fig.name: "家长与孩子吵架频率的总体情况"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_quarrel_frequency
                -
                  x: "x"
                  from: *scope
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *top_quarrel_frequency
                -
                  x: "x"
                  from: *sample

              
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_gender
                - 
                  variable: *topic
                  value: *top_quarrel_frequency
                -
                  x: "x"
                  from: *sample
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_huji
                - 
                  variable: *topic
                  value: *top_quarrel_frequency
                -
                  x: "x"
                  from: *sample
            aes:
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            order: 
              -
                var: "x"
                list: *order_prov_coun_acad_gen_hu
              -
                var: "fill"
                list: 
                  - "几乎不吵架或从不吵架"
                  - "偶尔（大约一个月一次或更少）"
                  - "大约每周吵架一次"
                  - "每天吵架"
                  - "一天吵架好几次"
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_stacking 
            
            legend: *plot_legend_top
            bar:
              width: *plot_bar_width
            label:
              xlab: *xlab_prov_coun_acad_gen_hu
              ylab: "百分数（%）"

        quarrel_level.bar: 
          fig.name: "家长与孩子吵架程度的总体情况"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_quarrel_level
                -
                  x: "x"
                  from: *scope
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *top_quarrel_level
                -
                  x: "x"
                  from: *sample

              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_gender
                - 
                  variable: *topic
                  value: *top_quarrel_level
                -
                  x: "x"
                  from: *sample
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_huji
                - 
                  variable: *topic
                  value: *top_quarrel_level
                -
                  x: "x"
                  from: *sample
            aes:
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            order: 
              -
                var: "x"
                list: *order_prov_coun_acad_gen_hu
              -
                var: "fill"
                list:
                  - "如果有的话，也是很轻微"
                  - "有时（不到半数）会吵得很厉害"
                  - "大约有一半的情况会吵得很厉害"
                  - "差不多都吵得很厉害"
                  - "总是吵得很厉害"
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_stacking 
            legend: *plot_legend_top
            bar:
              width: *plot_bar_width
            label:
              xlab: *xlab_prov_coun_acad_gen_hu
              ylab: "百分数（%）"
  
        family_coach.bar: 
          fig.name: "家长辅导有关问题的总体情况"
          data:
            digits: 0
            filter:
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *dimention
                  value: *dim_pa_coach

            aes:
              - 
                arg: "x"
                var: *topic
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
              -
                arg: "Group"
                var: "alias"
            alias:
              arg: "alias"
              var: *scope             
            order:
              - 
                var: "fill"
                list: *legend_order_aggree
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            group:
              variable: "alias"
              scales: "fixed"
              position: "bottom"
            position: "stack" 
            coord: "flip"
            text:
              vjust: 0.5
            legend: *plot_legend_right
            bar:
              width: *plot_bar_width_thin
            label:
              xlab: ""
              ylab: "百分数（%）"

        family_coach_person.bar: 
          fig.name: "家里负责孩子学习的人的总体情况"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *dimention
                  value: *dim_pa_coach_person
                -
                  x: "x"
                  from: *scope
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *dimention
                  value: *dim_pa_coach_person
                -
                  x: "x"
                  from: *sample
              
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_gender
                - 
                  variable: *dimention
                  value: *dim_pa_coach_person
                -
                  x: "x"
                  from: *sample
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *tier
                  value: *tier_coumnty
                -
                  variable: *perspective
                  value: *per_huji
                - 
                  variable: *dimention
                  value: *dim_pa_coach_person
                -
                  x: "x"
                  from: *sample
            aes:
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            order: 
              -
                var: "x"
                list: *order_prov_coun_acad_gen_hu
              - 
                var: "fill"
                list:
                  - "其他"
                  - "（外）祖父母"
                  - "家庭教师"
                  - "父母分工"
                  - "母亲"
                  - "父亲"
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_stacking 
            
            legend: *plot_legend_top
            bar:
              width: *plot_bar_width
            label:
              xlab: *xlab_prov_coun_acad_gen_hu
              ylab: "百分数（%）"
 
        parent_feeling.bar: 
          fig.name: "家长对学校教育感受的情况"
          data:
            digits: 0
            filter:
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *dimention
                  value: *dim_pa_feelings

            aes:
              - 
                arg: "x"
                var: *topic
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
              -
                arg: "Group"
                var: "alias"
            alias:
              arg: "alias"
              var: *scope
            order:
              -
                var: "fill"
                list: *legend_order_match
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            group:
              variable: "alias"
              scales: "fixed"
              position: "bottom"
            position: "stack" 
            coord: "flip"
            text:
              vjust: 0.5
            legend: *plot_legend_right
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "百分数（%）"

        parent_expection.bar: 
          fig.name: "家长在教育期望方面的总体情况"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: "您期待孩子将来上学上到什么程度"
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: "您期待孩子将来上学上到什么程度"
                
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *perspective
                  value: *per_gender
                - 
                  variable: *topic
                  value: "您期待孩子将来上学上到什么程度"
                
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *perspective
                  value: *per_huji
                - 
                  variable: *topic
                  value: "您期待孩子将来上学上到什么程度"
                
            aes:
              - 
                arg: "x"
                var: *sample
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
              -
                arg: "Group"
                var: "alias"
            alias:
              arg: "alias"
              var: *scope
            order: 
              -
                var: "x"
                list: *order_totl_acad_gen_hu
              - 
                var: "fill"
                list:
                  - "高中（含职业中专）"
                  - "大学专科"
                  - "大学本科"
                  - "硕士"
                  - "博士"
              
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_stacking 
            group:
              variable: "alias"
              scales: "fixed"
              position: "bottom"
            legend: *plot_legend_top
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "百分数（%）"
   
        parent_philosophy.bar: 
          fig.name: "家长教育观的总体情况"
          data:
            digits: 0
            filter:
              -
                -
                  variable: *subject
                  value: *survey_pa
                - 
                  variable: *dimention
                  value: *dim_pa_philosophy

            aes:
              - 
                arg: "x"
                var: *topic
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
              -
                arg: "Group"
                var: "alias"
            alias:
              arg: "alias"
              var: *scope
            order:
              -
                var: "fill"
                list: *legend_order_aggree

          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            group:
              variable: "alias"
              scales: "fixed"
              position: "bottom"
            position: "stack" 
            coord: "flip"
            text:
              vjust: 0.5
            legend: *plot_legend_right
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "百分数（%）"

        school_reasonable.bar: 
          fig.name: "家长心目中理想的小学，最重要的前三项特征"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_school_reasonable
            aes:
              - 
                arg: "x"
                var: *key
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
              -
                arg: "Group"
                var: "alias"
            alias:
              arg: "alias"
              var: *scope
            sort:
              -
                var: "x"
                variable: *topic
                option: *top_school_reasonable
                value: *value
                asc_desc: "ASC"
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            group:
              variable: "alias"
              scales: "fixed"
              position: "bottom"
            position: "dodge" 
            text:
              vjust: 0.5
            coord: "flip"
            bar:
              width: *plot_bar_width_fat
            label:
              xlab: ""
              ylab: "百分数（%）"

      param:

        jilei.point.rate.table.cn: 
          name: "学生在语文学科“积累”上的平均得分率"
          data:
            digits: 1
            filter:
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *dimention
                  value: *dim_cn_jilei
                - 
                  variable: *topic
                  value: *top_point_rate

    -
      process: FALSE
      table: "统计指标汇总"
      markdown: "county_green.Rmd"

      year: "2016年度"
      tier: *tier_county
      project: "中小学学业质量"
      subject: ""
      report: "绿色指标指数报告"
      title: ""
      header: ""

      dir_output: "county/"
      datetime: ""
      file: ""

      pre.render:
        - "pre.render.global.setting"
        - "pre.render.cover.page"
        - "pre.render.head.foot"
        - "pre.render.report.preface"
        - "pre.render.table.of.contents"
        - "pre.render.project.summary"
        - "passed.rate.all.bar"
        - "passed.rate.cn.bar"
        - "passed.rate.ma.bar"
        - "high.level.thinking.all.bar"
        - "high.level.thinking.cn.bar"
        - "high.level.thinking.ma.bar"
        - "individual.balance.all.bar"
        - "individual.balance.cn.bar"
        - "individual.balance.ma.bar"
        - "learning.confidence.bar"
        - "learning.motivation.bar"
        - "learning.pressure.bar"
        - "school.identity.bar"
        - "burden.bar"
        - "sleep.bar"
        - "writing.homework.bar"
        - "extra.homework.bar"
        - "teacher.relationship.bar"
        - "student.morality.bar"
        - "student.psychological.bar"
        - "teaching.method.bar"
        - "course.leadership.bar"

      plot:
        passed.rate.all.bar.perspective: 
          fig.name: "不同群体四年级学业成绩标准达成度指数"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *subject_all
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_passed_rate
                -
                  x: "x"
                  from: *scope
                -
                  fill: "fill"
                  by:
                    - *tier
              -
                -
                  variable: *subject
                  value: *subject_all
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *idx_passed_rate
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by:
                    - *perspective
              -
                -
                  variable: *subject
                  value: *subject_all
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_gender
                - 
                  variable: *topic
                  value: *idx_passed_rate
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by:
                    - *perspective
              -
                -
                  variable: *subject
                  value: *subject_all
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_huji
                - 
                  variable: *topic
                  value: *idx_passed_rate
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by:
                    - *perspective
              
            aes:
              #- 
              #  arg: "x"
              #  var: *scope
              -  
                arg: "y"
                var: *value
              #- 
              #  arg: "fill"
              #  var: *tier
              -  
                arg: "label"
                var: *label
            order: 
              -
                var: "x"
                list: *order_prov_coun_acad_gen_hu
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            position: "dodge" 
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "标准达成度指数"
            axisx:
              text_angle: 90
              text_size: 8
            axisy:
              discrete_limits: *axisy_discrete_limits_index
              ylim: *axisy_ylim

        passed.rate.all.bar: 
          fig.name: "各学校学生四年级学业成绩标准达成度指数"
          entry: "passed.rate.all.bar"
          ext.tex: ".tex"
          ext.fig: ".pdf"
          fig.limit: *plot_multi_fig_limit
          x.leader: *leader_prov_coun
          
          data:
            digits: *plot_data_digits
            county.filter:  TRUE
          
            filter:
              -
                -
                  variable: *subject
                  value: *subject_all
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_passed_rate
                                    
              -
                -
                  variable: *subject
                  value: *subject_all
                -
                  variable: *tier
                  value: *tier_school
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_passed_rate
                             
            aes:
              - 
                arg: "x"
                var: *scope
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *tier
              -  
                arg: "label"
                var: *label

            sort:
              -
                var: "x"
                variable: *topic
                option: *idx_passed_rate
                value: *value
                asc_desc: "ASC"

          ggplot:
            width: *plot_multi_fig_width
            height: *plot_multi_fig_height
            geom: *plot_bar_dodging
            position: "dodge" 
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "标准达成度指数"
            axisx:
              text_angle: 90
              text_size: *plot_multi_fig_lab_size
            axisy:
              discrete_limits: *axisy_discrete_limits_index
              ylim: *axisy_ylim

        passed.rate.cn.bar.perspective: 
          fig.name: "不同群体四年级语文学业成绩标准达成度指数"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_passed_rate
                -
                  x: "x"
                  from: *scope
                -
                  fill: "fill"
                  by:
                    - *tier
              -
                -
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *idx_passed_rate
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by:
                    - *perspective
              -
                -
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_gender
                - 
                  variable: *topic
                  value: *idx_passed_rate
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by:
                    - *perspective
              -
                -
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_huji
                - 
                  variable: *topic
                  value: *idx_passed_rate
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by:
                    - *perspective
              
            aes:
              #- 
              #  arg: "x"
              #  var: *scope
              -  
                arg: "y"
                var: *value
              #- 
              #  arg: "fill"
              #  var: *tier
              -  
                arg: "label"
                var: *label
            order: 
              -
                var: "x"
                list: *order_prov_coun_acad_gen_hu
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            position: "dodge" 
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "标准达成度指数"
            axisx:
              text_angle: 90
              text_size: 8
            axisy:
              discrete_limits: *axisy_discrete_limits_index
              ylim: *axisy_ylim

        passed.rate.cn.bar: 
          fig.name: "各学校四年级学生语文学业成绩标准达成度指数"
          entry: "passed.rate.cn.bar"
          ext.tex: ".tex"
          ext.fig: ".pdf"
          fig.limit: *plot_multi_fig_limit
          x.leader: *leader_prov_coun
          
          data:
            digits: *plot_data_digits
            county.filter:  TRUE
          
            filter:
              -
                -
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_passed_rate
                                    
              -
                -
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_school
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_passed_rate
                             
            aes:
              - 
                arg: "x"
                var: *scope
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *tier
              -  
                arg: "label"
                var: *label

            sort:
              -
                var: "x"
                variable: *topic
                option: *idx_passed_rate
                value: *value
                asc_desc: "ASC"

          ggplot:
            width: *plot_multi_fig_width
            height: *plot_multi_fig_height
            geom: *plot_bar_dodging
            position: "dodge" 
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "标准达成度指数"
            axisx:
              text_angle: 90
              text_size: *plot_multi_fig_lab_size
            axisy:
              discrete_limits: *axisy_discrete_limits_index
              ylim: *axisy_ylim

        passed.rate.ma.bar.perspective: 
          fig.name: "不同群体四年级数学学业成绩标准达成度指数"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_passed_rate
                -
                  x: "x"
                  from: *scope
                -
                  fill: "fill"
                  by:
                    - *tier
              -
                -
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *idx_passed_rate
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by:
                    - *perspective
              -
                -
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_gender
                - 
                  variable: *topic
                  value: *idx_passed_rate
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by:
                    - *perspective
              -
                -
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_huji
                - 
                  variable: *topic
                  value: *idx_passed_rate
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by:
                    - *perspective
              
            aes:
              #- 
              #  arg: "x"
              #  var: *scope
              -  
                arg: "y"
                var: *value
              #- 
              #  arg: "fill"
              #  var: *tier
              -  
                arg: "label"
                var: *label
            order: 
              -
                var: "x"
                list: *order_prov_coun_acad_gen_hu
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            position: "dodge" 
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "标准达成度指数"
            axisx:
              text_angle: 90
              text_size: 8
            axisy:
              discrete_limits: *axisy_discrete_limits_index
              ylim: *axisy_ylim

        passed.rate.ma.bar: 
          fig.name: "各学校四年级学生数学学业成绩标准达成度指数"
          entry: "passed.rate.ma.bar"
          ext.tex: ".tex"
          ext.fig: ".pdf"
          fig.limit: *plot_multi_fig_limit
          x.leader: *leader_prov_coun
          
          data:
            digits: *plot_data_digits
            county.filter:  TRUE
          
            filter:
              -
                -
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_passed_rate
                                    
              -
                -
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_school
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_passed_rate
                             
            aes:
              - 
                arg: "x"
                var: *scope
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *tier
              -  
                arg: "label"
                var: *label

            sort:
              -
                var: "x"
                variable: *topic
                option: *idx_passed_rate
                value: *value
                asc_desc: "ASC"

          ggplot:
            width: *plot_multi_fig_width
            height: *plot_multi_fig_height
            geom: *plot_bar_dodging
            position: "dodge" 
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "标准达成度指数"
            axisx:
              text_angle: 90
              text_size: *plot_multi_fig_lab_size
            axisy:
              discrete_limits: *axisy_discrete_limits_index
              ylim: *axisy_ylim

        high.level.thinking.all.bar.perspective: 
          fig.name: "不同群体四年级学生高层次思维能力指数"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *subject_all
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_high_level_thinking
                -
                  x: "x"
                  from: *scope
                -
                  fill: "fill"
                  by:
                    - *tier
              -
                -
                  variable: *subject
                  value: *subject_all
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *idx_high_level_thinking
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by:
                    - *perspective
              -
                -
                  variable: *subject
                  value: *subject_all
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_gender
                - 
                  variable: *topic
                  value: *idx_high_level_thinking
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by:
                    - *perspective
              -
                -
                  variable: *subject
                  value: *subject_all
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_huji
                - 
                  variable: *topic
                  value: *idx_high_level_thinking
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by:
                    - *perspective
              
            aes:
              #- 
              #  arg: "x"
              #  var: *scope
              -  
                arg: "y"
                var: *value
              #- 
              #  arg: "fill"
              #  var: *tier
              -  
                arg: "label"
                var: *label
            order: 
              -
                var: "x"
                list: *order_prov_coun_acad_gen_hu
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            position: "dodge" 
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "高层次思维能力指数"
            axisx:
              text_angle: 90
              text_size: 8
            axisy:
              discrete_limits: *axisy_discrete_limits_index
              ylim: *axisy_ylim

        high.level.thinking.all.bar: 
          fig.name: "各学校四年级学生高层次思维能力指数"
          entry: "high.level.thinking.all.bar"
          ext.tex: ".tex"
          ext.fig: ".pdf"
          fig.limit: *plot_multi_fig_limit
          x.leader: *leader_prov_coun
          
          data:
            digits: *plot_data_digits
            county.filter:  TRUE
          
            filter:
              -
                -
                  variable: *subject
                  value: *subject_all
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_high_level_thinking
                                    
              -
                -
                  variable: *subject
                  value: *subject_all
                -
                  variable: *tier
                  value: *tier_school
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_high_level_thinking
                             
            aes:
              - 
                arg: "x"
                var: *scope
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *tier
              -  
                arg: "label"
                var: *label

            sort:
              -
                var: "x"
                variable: *topic
                option: *idx_high_level_thinking
                value: *value
                asc_desc: "ASC"

          ggplot:
            width: *plot_multi_fig_width
            height: *plot_multi_fig_height
            geom: *plot_bar_dodging
            position: "dodge" 
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "高层次思维能力指数"
            axisx:
              text_angle: 90
              text_size: *plot_multi_fig_lab_size
            axisy:
              discrete_limits: *axisy_discrete_limits_index
              ylim: *axisy_ylim

        high.level.thinking.cn.bar.perspective: 
          fig.name: "不同群体四年级学生语文高层次思维能力指数"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_high_level_thinking
                -
                  x: "x"
                  from: *scope
                -
                  fill: "fill"
                  by:
                    - *tier
              -
                -
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *idx_high_level_thinking
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by:
                    - *perspective
              -
                -
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_gender
                - 
                  variable: *topic
                  value: *idx_high_level_thinking
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by:
                    - *perspective
              -
                -
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_huji
                - 
                  variable: *topic
                  value: *idx_high_level_thinking
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by:
                    - *perspective
              
            aes:
              #- 
              #  arg: "x"
              #  var: *scope
              -  
                arg: "y"
                var: *value
              #- 
              #  arg: "fill"
              #  var: *tier
              -  
                arg: "label"
                var: *label
            order: 
              -
                var: "x"
                list: *order_prov_coun_acad_gen_hu
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            position: "dodge" 
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "高层次思维能力指数"
            axisx:
              text_angle: 90
              text_size: 8
            axisy:
              discrete_limits: *axisy_discrete_limits_index
              ylim: *axisy_ylim

        high.level.thinking.cn.bar: 
          fig.name: "各学校四年级学生语文高层次思维能力指数"
          entry: "high.level.thinking.cn.bar"
          ext.tex: ".tex"
          ext.fig: ".pdf"
          fig.limit: *plot_multi_fig_limit
          x.leader: *leader_prov_coun
          
          data:
            digits: *plot_data_digits
            county.filter:  TRUE
          
            filter:
              -
                -
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_high_level_thinking
                                    
              -
                -
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_school
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_high_level_thinking
                             
            aes:
              - 
                arg: "x"
                var: *scope
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *tier
              -  
                arg: "label"
                var: *label

            sort:
              -
                var: "x"
                variable: *topic
                option: *idx_high_level_thinking
                value: *value
                asc_desc: "ASC"

          ggplot:
            width: *plot_multi_fig_width
            height: *plot_multi_fig_height
            geom: *plot_bar_dodging
            position: "dodge" 
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "高层次思维能力指数"
            axisx:
              text_angle: 90
              text_size: *plot_multi_fig_lab_size
            axisy:
              discrete_limits: *axisy_discrete_limits_index
              ylim: *axisy_ylim

        high.level.thinking.ma.bar.perspective: 
          fig.name: "不同群体四年级学生数学高层次思维能力指数"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_high_level_thinking
                -
                  x: "x"
                  from: *scope
                -
                  fill: "fill"
                  by:
                    - *tier
              -
                -
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *idx_high_level_thinking
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by:
                    - *perspective
              -
                -
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_gender
                - 
                  variable: *topic
                  value: *idx_high_level_thinking
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by:
                    - *perspective
              -
                -
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_huji
                - 
                  variable: *topic
                  value: *idx_high_level_thinking
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by:
                    - *perspective
              
            aes:
              #- 
              #  arg: "x"
              #  var: *scope
              -  
                arg: "y"
                var: *value
              #- 
              #  arg: "fill"
              #  var: *tier
              -  
                arg: "label"
                var: *label
            order: 
              -
                var: "x"
                list: *order_prov_coun_acad_gen_hu
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            position: "dodge" 
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "高层次思维能力指数"
            axisx:
              text_angle: 90
              text_size: 8
            axisy:
              discrete_limits: *axisy_discrete_limits_index
              ylim: *axisy_ylim

        high.level.thinking.ma.bar: 
          fig.name: "各学校四年级学生数学高层次思维能力指数"
          entry: "high.level.thinking.ma.bar"
          ext.tex: ".tex"
          ext.fig: ".pdf"
          fig.limit: *plot_multi_fig_limit
          x.leader: *leader_prov_coun
          
          data:
            digits: *plot_data_digits
            county.filter:  TRUE
          
            filter:
              -
                -
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_high_level_thinking
                                    
              -
                -
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_school
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_high_level_thinking
                             
            aes:
              - 
                arg: "x"
                var: *scope
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *tier
              -  
                arg: "label"
                var: *label

            sort:
              -
                var: "x"
                variable: *topic
                option: *idx_high_level_thinking
                value: *value
                asc_desc: "ASC"

          ggplot:
            width: *plot_multi_fig_width
            height: *plot_multi_fig_height
            geom: *plot_bar_dodging
            position: "dodge" 
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "高层次思维能力指数"
            axisx:
              text_angle: 90
              text_size: *plot_multi_fig_lab_size
            axisy:
              discrete_limits: *axisy_discrete_limits_index
              ylim: *axisy_ylim

        individual.balance.all.bar.perspective: 
          fig.name: "不同群体四年级学生学业成绩个体间均衡指数"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *subject_all
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_individual_balance
                -
                  x: "x"
                  from: *scope
                -
                  fill: "fill"
                  by:
                    - *tier
              -
                -
                  variable: *subject
                  value: *subject_all
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *idx_individual_balance
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by:
                    - *perspective
              -
                -
                  variable: *subject
                  value: *subject_all
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_gender
                - 
                  variable: *topic
                  value: *idx_individual_balance
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by:
                    - *perspective
              -
                -
                  variable: *subject
                  value: *subject_all
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_huji
                - 
                  variable: *topic
                  value: *idx_individual_balance
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by:
                    - *perspective
              
            aes:
              #- 
              #  arg: "x"
              #  var: *scope
              -  
                arg: "y"
                var: *value
              #- 
              #  arg: "fill"
              #  var: *tier
              -  
                arg: "label"
                var: *label
            order: 
              -
                var: "x"
                list: *order_prov_coun_acad_gen_hu
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            position: "dodge" 
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "学业成绩均衡指数"
            axisx:
              text_angle: 90
              text_size: 8
            axisy:
              discrete_limits: *axisy_discrete_limits_index
              ylim: *axisy_ylim

        individual.balance.all.bar: 
          fig.name: "各学校四年级学生学业成绩个体间均衡指数"
          entry: "individual.balance.all.bar"
          ext.tex: ".tex"
          ext.fig: ".pdf"
          fig.limit: *plot_multi_fig_limit
          x.leader: *leader_prov_coun
          
          data:
            digits: *plot_data_digits
            county.filter:  TRUE
          
            filter:
              -
                -
                  variable: *subject
                  value: *subject_all
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_individual_balance
                                    
              -
                -
                  variable: *subject
                  value: *subject_all
                -
                  variable: *tier
                  value: *tier_school
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_individual_balance
                             
            aes:
              - 
                arg: "x"
                var: *scope
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *tier
              -  
                arg: "label"
                var: *label

            sort:
              -
                var: "x"
                variable: *topic
                option: *idx_individual_balance
                value: *value
                asc_desc: "ASC"

          ggplot:
            width: *plot_multi_fig_width
            height: *plot_multi_fig_height
            geom: *plot_bar_dodging
            position: "dodge" 
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "学业成绩均衡指数"
            axisx:
              text_angle: 90
              text_size: *plot_multi_fig_lab_size
            axisy:
              discrete_limits: *axisy_discrete_limits_index
              ylim: *axisy_ylim

        individual.balance.cn.bar.perspective: 
          fig.name: "不同群体四年级学生语文学业成绩个体间均衡指数"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_individual_balance
                -
                  x: "x"
                  from: *scope
                -
                  fill: "fill"
                  by:
                    - *tier
              -
                -
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *idx_individual_balance
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by:
                    - *perspective
              -
                -
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_gender
                - 
                  variable: *topic
                  value: *idx_individual_balance
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by:
                    - *perspective
              -
                -
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_huji
                - 
                  variable: *topic
                  value: *idx_individual_balance
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by:
                    - *perspective
              
            aes:
              #- 
              #  arg: "x"
              #  var: *scope
              -  
                arg: "y"
                var: *value
              #- 
              #  arg: "fill"
              #  var: *tier
              -  
                arg: "label"
                var: *label
            order: 
              -
                var: "x"
                list: *order_prov_coun_acad_gen_hu
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            position: "dodge" 
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "学业成绩均衡指数"
            axisx:
              text_angle: 90
              text_size: 8
            axisy:
              discrete_limits: *axisy_discrete_limits_index
              ylim: *axisy_ylim

        individual.balance.cn.bar: 
          fig.name: "各学校四年级学生语文学业成绩个体间均衡指数"
          entry: "individual.balance.cn.bar"
          ext.tex: ".tex"
          ext.fig: ".pdf"
          fig.limit: *plot_multi_fig_limit
          x.leader: *leader_prov_coun
          
          data:
            digits: *plot_data_digits
            county.filter:  TRUE
          
            filter:
              -
                -
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_individual_balance
                                    
              -
                -
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_school
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_individual_balance
                             
            aes:
              - 
                arg: "x"
                var: *scope
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *tier
              -  
                arg: "label"
                var: *label

            sort:
              -
                var: "x"
                variable: *topic
                option: *idx_individual_balance
                value: *value
                asc_desc: "ASC"

          ggplot:
            width: *plot_multi_fig_width
            height: *plot_multi_fig_height
            geom: *plot_bar_dodging
            position: "dodge" 
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "学业成绩均衡指数"
            axisx:
              text_angle: 90
              text_size: *plot_multi_fig_lab_size
            axisy:
              discrete_limits: *axisy_discrete_limits_index
              ylim: *axisy_ylim

        individual.balance.ma.bar.perspective: 
          fig.name: "不同群体四年级学生数学学业成绩个体间均衡指数"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_individual_balance
                -
                  x: "x"
                  from: *scope
                -
                  fill: "fill"
                  by:
                    - *tier
              -
                -
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *idx_individual_balance
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by:
                    - *perspective
              -
                -
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_gender
                - 
                  variable: *topic
                  value: *idx_individual_balance
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by:
                    - *perspective
              -
                -
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_huji
                - 
                  variable: *topic
                  value: *idx_individual_balance
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by:
                    - *perspective
              
            aes:
              #- 
              #  arg: "x"
              #  var: *scope
              -  
                arg: "y"
                var: *value
              #- 
              #  arg: "fill"
              #  var: *tier
              -  
                arg: "label"
                var: *label
            order: 
              -
                var: "x"
                list: *order_prov_coun_acad_gen_hu
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            position: "dodge" 
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "学业成绩均衡指数"
            axisx:
              text_angle: 90
              text_size: 8
            axisy:
              discrete_limits: *axisy_discrete_limits_index
              ylim: *axisy_ylim

        individual.balance.ma.bar: 
          fig.name: "各学校四年级学生数学学业成绩个体间均衡指数"
          entry: "individual.balance.ma.bar"
          ext.tex: ".tex"
          ext.fig: ".pdf"
          fig.limit: *plot_multi_fig_limit
          x.leader: *leader_prov_coun
          
          data:
            digits: *plot_data_digits
            county.filter:  TRUE
          
            filter:
              -
                -
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_individual_balance
                                    
              -
                -
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_school
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_individual_balance
                             
            aes:
              - 
                arg: "x"
                var: *scope
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *tier
              -  
                arg: "label"
                var: *label

            sort:
              -
                var: "x"
                variable: *topic
                option: *idx_individual_balance
                value: *value
                asc_desc: "ASC"

          ggplot:
            width: *plot_multi_fig_width
            height: *plot_multi_fig_height
            geom: *plot_bar_dodging
            position: "dodge" 
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "学业成绩均衡指数"
            axisx:
              text_angle: 90
              text_size: *plot_multi_fig_lab_size
            axisy:
              discrete_limits: *axisy_discrete_limits_index
              ylim: *axisy_ylim

        school.balance.all.bar: 
          fig.name: "四年级学业成绩学校间均衡指数"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *subject_all
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_school_balance
            aes:
              - 
                arg: "x"
                var: *scope
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *tier
              -  
                arg: "label"
                var: *label
            #order: 
            #  -
            #    var: "x"
            #    list: *order_prov_coun
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            position: "dodge" 
            coord: "flip"
            text:
              vjust: 0.5
            bar:
              width: *plot_bar_width
            label:
              ylab: ""
              xlab: "学校间均衡指数"
            #axisx:
            #  text_angle: 90
            #  text_size: 8
            #axisx:
              #discrete_limits: *axisy_discrete_limits_index
              #xlim: *axisy_ylim

        school.balance.cn.bar: 
          fig.name: "四年级语文学业成绩学校间均衡指数"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_school_balance
              
            aes:
              - 
                arg: "x"
                var: *scope
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *tier
              -  
                arg: "label"
                var: *label
            #order: 
            #  -
            #    var: "x"
            #    list: *order_prov_coun
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            position: "dodge" 
            coord: "flip"
            text:
              vjust: 0.5
            bar:
              width: *plot_bar_width
            label:
              ylab: ""
              xlab: "学校间均衡指数"
            #axisx:
            #  text_angle: 90
            #  text_size: 8
            #axisy:
            #  discrete_limits: *axisy_discrete_limits_index
            #  ylim: *axisy_ylim

        school.balance.ma.bar: 
          fig.name: "四年级数学学业成绩学校间均衡指数"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_school_balance
              
            aes:
              - 
                arg: "x"
                var: *scope
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *tier
              -  
                arg: "label"
                var: *label
            #order: 
            #  -
            #    var: "x"
            #    list: *order_prov_coun
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            position: "dodge" 
            coord: "flip"
            text:
              vjust: 0.5
            bar:
              width: *plot_bar_width
            label:
              ylab: ""
              xlab: "学校间均衡指数"
            #axisx:
            #  text_angle: 90
            #  text_size: 8
            #axisy:
            #  discrete_limits: *axisy_discrete_limits_index
            #  ylim: *axisy_ylim

        learning.confidence.bar.perspective: 
          fig.name: "不同群体四年级学生学习自信心指数"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_confidence
                -
                  x: "x"
                  from: *scope
                -
                  fill: "fill"
                  by:
                    - *tier
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *idx_confidence
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by:
                    - *perspective
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_gender
                - 
                  variable: *topic
                  value: *idx_confidence
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by:
                    - *perspective
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_huji
                - 
                  variable: *topic
                  value: *idx_confidence
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by:
                    - *perspective
              
            aes:
              #- 
              #  arg: "x"
              #  var: *scope
              -  
                arg: "y"
                var: *value
              #- 
              #  arg: "fill"
              #  var: *tier
              -  
                arg: "label"
                var: *label
            order: 
              -
                var: "x"
                list: *order_prov_coun_acad_gen_hu
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            position: "dodge" 
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "学习自信心指数"
            axisx:
              text_angle: 90
              text_size: 8
            axisy:
              discrete_limits: *axisy_discrete_limits_index
              ylim: *axisy_ylim

        learning.confidence.bar: 
          fig.name: "四年级学生学习自信心指数"
          entry: "learning.confidence.bar"
          ext.tex: ".tex"
          ext.fig: ".pdf"
          fig.limit: *plot_multi_fig_limit
          x.leader: *leader_prov_coun
          
          data:
            digits: *plot_data_digits
            county.filter:  TRUE
          
            filter:
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_confidence
                                    
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_school
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_confidence
                             
            aes:
              - 
                arg: "x"
                var: *scope
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *tier
              -  
                arg: "label"
                var: *label

            sort:
              -
                var: "x"
                variable: *topic
                option: *idx_confidence
                value: *value
                asc_desc: "ASC"

          ggplot:
            width: *plot_multi_fig_width
            height: *plot_multi_fig_height
            geom: *plot_bar_dodging
            position: "dodge" 
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "学习自信心指数"
            axisx:
              text_angle: 90
              text_size: *plot_multi_fig_lab_size
            axisy:
              discrete_limits: *axisy_discrete_limits_index
              ylim: *axisy_ylim

        learning.motivation.bar.perspective: 
          fig.name: "不同群体四年级学生学习动机指数"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_motivation
                -
                  x: "x"
                  from: *scope
                -
                  fill: "fill"
                  by:
                    - *tier
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *idx_motivation
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by:
                    - *perspective
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_gender
                - 
                  variable: *topic
                  value: *idx_motivation
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by:
                    - *perspective
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_huji
                - 
                  variable: *topic
                  value: *idx_motivation
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by:
                    - *perspective
              
            aes:
              #- 
              #  arg: "x"
              #  var: *scope
              -  
                arg: "y"
                var: *value
              #- 
              #  arg: "fill"
              #  var: *tier
              -  
                arg: "label"
                var: *label
            order: 
              -
                var: "x"
                list: *order_prov_coun_acad_gen_hu
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            position: "dodge" 
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "学习动机指数"
            axisx:
              text_angle: 90
              text_size: 8
            axisy:
              discrete_limits: *axisy_discrete_limits_index
              ylim: *axisy_ylim

        learning.motivation.bar: 
          fig.name: "四年级学生学习动机指数"
          entry: "learning.motivation.bar"
          ext.tex: ".tex"
          ext.fig: ".pdf"
          fig.limit: *plot_multi_fig_limit
          x.leader: *leader_prov_coun
          
          data:
            digits: *plot_data_digits
            county.filter:  TRUE
          
            filter:
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_motivation
                                    
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_school
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_motivation
                             
            aes:
              - 
                arg: "x"
                var: *scope
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *tier
              -  
                arg: "label"
                var: *label

            sort:
              -
                var: "x"
                variable: *topic
                option: *idx_motivation
                value: *value
                asc_desc: "ASC"

          ggplot:
            width: *plot_multi_fig_width
            height: *plot_multi_fig_height
            geom: *plot_bar_dodging
            position: "dodge" 
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "学习动机指数"
            axisx:
              text_angle: 90
              text_size: *plot_multi_fig_lab_size
            axisy:
              discrete_limits: *axisy_discrete_limits_index
              ylim: *axisy_ylim

        learning.pressure.bar.perspective: 
          fig.name: "不同群体四年级学生学习压力指数"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_pressure
                -
                  x: "x"
                  from: *scope
                -
                  fill: "fill"
                  by:
                    - *tier
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *idx_pressure
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by:
                    - *perspective
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_gender
                - 
                  variable: *topic
                  value: *idx_pressure
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by:
                    - *perspective
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_huji
                - 
                  variable: *topic
                  value: *idx_pressure
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by:
                    - *perspective
              
            aes:
              #- 
              #  arg: "x"
              #  var: *scope
              -  
                arg: "y"
                var: *value
              #- 
              #  arg: "fill"
              #  var: *tier
              -  
                arg: "label"
                var: *label
            order: 
              -
                var: "x"
                list: *order_prov_coun_acad_gen_hu
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            position: "dodge" 
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "学习压力指数"
            axisx:
              text_angle: 90
              text_size: 8
            axisy:
              discrete_limits: *axisy_discrete_limits_index
              ylim: *axisy_ylim
        
        learning.pressure.bar: 
          fig.name: "四年级学生学习压力指数"
          entry: "learning.pressure.bar"
          ext.tex: ".tex"
          ext.fig: ".pdf"
          fig.limit: *plot_multi_fig_limit
          x.leader: *leader_prov_coun
          
          data:
            digits: *plot_data_digits
            county.filter:  TRUE
          
            filter:
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_pressure
                                    
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_school
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_pressure
                             
            aes:
              - 
                arg: "x"
                var: *scope
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *tier
              -  
                arg: "label"
                var: *label

            sort:
              -
                var: "x"
                variable: *topic
                option: *idx_pressure
                value: *value
                asc_desc: "ASC"

          ggplot:
            width: *plot_multi_fig_width
            height: *plot_multi_fig_height
            geom: *plot_bar_dodging
            position: "dodge" 
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "学习压力指数"
            axisx:
              text_angle: 90
              text_size: *plot_multi_fig_lab_size
            axisy:
              discrete_limits: *axisy_discrete_limits_index
              ylim: *axisy_ylim

        school.identity.bar.perspective: 
          fig.name: "不同群体四年级学生学校认同度指数"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_school_identiy
                -
                  x: "x"
                  from: *scope
                -
                  fill: "fill"
                  by:
                    - *tier
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *idx_school_identiy
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by:
                    - *perspective
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_gender
                - 
                  variable: *topic
                  value: *idx_school_identiy
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by:
                    - *perspective
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_huji
                - 
                  variable: *topic
                  value: *idx_school_identiy
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by:
                    - *perspective
              
            aes:
              #- 
              #  arg: "x"
              #  var: *scope
              -  
                arg: "y"
                var: *value
              #- 
              #  arg: "fill"
              #  var: *tier
              -  
                arg: "label"
                var: *label
            order: 
              -
                var: "x"
                list: *order_prov_coun_acad_gen_hu
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            position: "dodge" 
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "学校认同度指数"
            axisx:
              text_angle: 90
              text_size: 8
            axisy:
              discrete_limits: *axisy_discrete_limits_index
              ylim: *axisy_ylim

        school.identity.bar: 
          fig.name: "四年级学生学校认同度指数"
          entry: "school.identity.bar"
          ext.tex: ".tex"
          ext.fig: ".pdf"
          fig.limit: *plot_multi_fig_limit
          x.leader: *leader_prov_coun
          
          data:
            digits: *plot_data_digits
            county.filter:  TRUE
          
            filter:
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_school_identiy
                             
            aes:
              - 
                arg: "x"
                var: *scope
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *tier
              -  
                arg: "label"
                var: *label

            sort:
              -
                var: "x"
                variable: *topic
                option: *idx_school_identiy
                value: *value
                asc_desc: "ASC"

          ggplot:
            width: *plot_multi_fig_width
            height: *plot_multi_fig_height
            geom: *plot_bar_dodging
            position: "dodge" 
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "学校认同度指数"
            axisx:
              text_angle: 90
              text_size: *plot_multi_fig_lab_size
            axisy:
              discrete_limits: *axisy_discrete_limits_index
              ylim: *axisy_ylim

        burden.bar.perspective: 
          fig.name: "不同群体四年级学生学业负担指数"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_burden
                -
                  x: "x"
                  from: *scope
                -
                  fill: "fill"
                  by:
                    - *tier
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *idx_burden
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by:
                    - *perspective
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_gender
                - 
                  variable: *topic
                  value: *idx_burden
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by:
                    - *perspective
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_huji
                - 
                  variable: *topic
                  value: *idx_burden
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by:
                    - *perspective
              
            aes:
              #- 
              #  arg: "x"
              #  var: *scope
              -  
                arg: "y"
                var: *value
              #- 
              #  arg: "fill"
              #  var: *tier
              -  
                arg: "label"
                var: *label
            order: 
              -
                var: "x"
                list: *order_prov_coun_acad_gen_hu
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            position: "dodge" 
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "学业负担指数"
            axisx:
              text_angle: 90
              text_size: 8
            axisy:
              discrete_limits: *axisy_discrete_limits_index
              ylim: *axisy_ylim

        burden.bar: 
          fig.name: "四年级学生学业负担指数"
          entry: "burden.bar"
          ext.tex: ".tex"
          ext.fig: ".pdf"
          fig.limit: *plot_multi_fig_limit
          x.leader: *leader_prov_coun
          
          data:
            digits: *plot_data_digits
            county.filter:  TRUE
          
            filter:
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_burden
                                    
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_school
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_burden
                             
            aes:
              - 
                arg: "x"
                var: *scope
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *tier
              -  
                arg: "label"
                var: *label

            sort:
              -
                var: "x"
                variable: *topic
                option: *idx_burden
                value: *value
                asc_desc: "ASC"

          ggplot:
            width: *plot_multi_fig_width
            height: *plot_multi_fig_height
            geom: *plot_bar_dodging
            position: "dodge" 
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "学业负担指数"
            axisx:
              text_angle: 90
              text_size: *plot_multi_fig_lab_size
            axisy:
              discrete_limits: *axisy_discrete_limits_index
              ylim: *axisy_ylim

        sleep.bar.perspective: 
          fig.name: "不同群体四年级学生睡眠指数"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_sleep
                -
                  x: "x"
                  from: *scope
                -
                  fill: "fill"
                  by:
                    - *tier
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *idx_sleep
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by:
                    - *perspective
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_gender
                - 
                  variable: *topic
                  value: *idx_sleep
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by:
                    - *perspective
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_huji
                - 
                  variable: *topic
                  value: *idx_sleep
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by:
                    - *perspective
              
            aes:
              #- 
              #  arg: "x"
              #  var: *scope
              -  
                arg: "y"
                var: *value
              #- 
              #  arg: "fill"
              #  var: *tier
              -  
                arg: "label"
                var: *label
            order: 
              -
                var: "x"
                list: *order_prov_coun_acad_gen_hu
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            position: "dodge" 
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "睡眠指数"
            axisx:
              text_angle: 90
              text_size: 8
            axisy:
              discrete_limits: *axisy_discrete_limits_index
              ylim: *axisy_ylim

        sleep.bar: 
          fig.name: "四年级学生睡眠指数"
          entry: "sleep.bar"
          ext.tex: ".tex"
          ext.fig: ".pdf"
          fig.limit: *plot_multi_fig_limit
          x.leader: *leader_prov_coun
          
          data:
            digits: *plot_data_digits
            county.filter:  TRUE
          
            filter:
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_sleep
                                    
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_school
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_sleep
                             
            aes:
              - 
                arg: "x"
                var: *scope
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *tier
              -  
                arg: "label"
                var: *label

            sort:
              -
                var: "x"
                variable: *topic
                option: *idx_sleep
                value: *value
                asc_desc: "ASC"

          ggplot:
            width: *plot_multi_fig_width
            height: *plot_multi_fig_height
            geom: *plot_bar_dodging
            position: "dodge" 
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "睡眠指数"
            axisx:
              text_angle: 90
              text_size: *plot_multi_fig_lab_size
            axisy:
              discrete_limits: *axisy_discrete_limits_index
              ylim: *axisy_ylim

        writing.homework.bar.perspective: 
          fig.name: "不同群体四年级学生作业指数"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_writing_homework
                -
                  x: "x"
                  from: *scope
                -
                  fill: "fill"
                  by:
                    - *tier
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *idx_writing_homework
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by:
                    - *perspective
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_gender
                - 
                  variable: *topic
                  value: *idx_writing_homework
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by:
                    - *perspective
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_huji
                - 
                  variable: *topic
                  value: *idx_writing_homework
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by:
                    - *perspective
              
            aes:
              #- 
              #  arg: "x"
              #  var: *scope
              -  
                arg: "y"
                var: *value
              #- 
              #  arg: "fill"
              #  var: *tier
              -  
                arg: "label"
                var: *label
            order: 
              -
                var: "x"
                list: *order_prov_coun_acad_gen_hu
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            position: "dodge" 
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "作业指数"
            axisx:
              text_angle: 90
              text_size: 8
            axisy:
              discrete_limits: *axisy_discrete_limits_index
              ylim: *axisy_ylim

        writing.homework.bar: 
          fig.name: "四年级学生作业指数"
          entry: "writing.homework.bar"
          ext.tex: ".tex"
          ext.fig: ".pdf"
          fig.limit: *plot_multi_fig_limit
          x.leader: *leader_prov_coun
          
          data:
            digits: *plot_data_digits
            county.filter:  TRUE
          
            filter:
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_writing_homework
                                    
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_school
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_writing_homework
                             
            aes:
              - 
                arg: "x"
                var: *scope
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *tier
              -  
                arg: "label"
                var: *label

            sort:
              -
                var: "x"
                variable: *topic
                option: *idx_writing_homework
                value: *value
                asc_desc: "ASC"

          ggplot:
            width: *plot_multi_fig_width
            height: *plot_multi_fig_height
            geom: *plot_bar_dodging
            position: "dodge" 
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "作业指数"
            axisx:
              text_angle: 90
              text_size: *plot_multi_fig_lab_size
            axisy:
              discrete_limits: *axisy_discrete_limits_index
              ylim: *axisy_ylim

        extra.homework.bar.perspective: 
          fig.name: "不同群体四年级学生补课指数"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_extra_homework
                -
                  x: "x"
                  from: *scope
                -
                  fill: "fill"
                  by:
                    - *tier
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *idx_extra_homework
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by:
                    - *perspective
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_gender
                - 
                  variable: *topic
                  value: *idx_extra_homework
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by:
                    - *perspective
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_huji
                - 
                  variable: *topic
                  value: *idx_extra_homework
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by:
                    - *perspective
              
            aes:
              #- 
              #  arg: "x"
              #  var: *scope
              -  
                arg: "y"
                var: *value
              #- 
              #  arg: "fill"
              #  var: *tier
              -  
                arg: "label"
                var: *label
            order: 
              -
                var: "x"
                list: *order_prov_coun_acad_gen_hu
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            position: "dodge" 
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "补课指数"
            axisx:
              text_angle: 90
              text_size: 8
            axisy:
              discrete_limits: *axisy_discrete_limits_index
              ylim: *axisy_ylim

        extra.homework.bar: 
          fig.name: "四年级学生补课指数"
          entry: "extra.homework.bar"
          ext.tex: ".tex"
          ext.fig: ".pdf"
          fig.limit: *plot_multi_fig_limit
          x.leader: *leader_prov_coun
          
          data:
            digits: *plot_data_digits
            county.filter:  TRUE
          
            filter:
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_extra_homework
                                    
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_school
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_extra_homework
                             
            aes:
              - 
                arg: "x"
                var: *scope
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *tier
              -  
                arg: "label"
                var: *label

            sort:
              -
                var: "x"
                variable: *topic
                option: *idx_extra_homework
                value: *value
                asc_desc: "ASC"

          ggplot:
            width: *plot_multi_fig_width
            height: *plot_multi_fig_height
            geom: *plot_bar_dodging
            position: "dodge" 
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "补课指数"
            axisx:
              text_angle: 90
              text_size: *plot_multi_fig_lab_size
            axisy:
              discrete_limits: *axisy_discrete_limits_index
              ylim: *axisy_ylim

        teacher.relationship.bar.perspective: 
          fig.name: "不同群体四年级师生关系指数"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_teacher
                -
                  x: "x"
                  from: *scope
                -
                  fill: "fill"
                  by:
                    - *tier
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *idx_teacher
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by:
                    - *perspective
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_gender
                - 
                  variable: *topic
                  value: *idx_teacher
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by:
                    - *perspective
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_huji
                - 
                  variable: *topic
                  value: *idx_teacher
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by:
                    - *perspective
              
            aes:
              #- 
              #  arg: "x"
              #  var: *scope
              -  
                arg: "y"
                var: *value
              #- 
              #  arg: "fill"
              #  var: *tier
              -  
                arg: "label"
                var: *label
            order: 
              -
                var: "x"
                list: *order_prov_coun_acad_gen_hu
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            position: "dodge" 
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "师生关系指数"
            axisx:
              text_angle: 90
              text_size: 8
            axisy:
              discrete_limits: *axisy_discrete_limits_index
              ylim: *axisy_ylim

        teacher.relationship.bar: 
          fig.name: "四年级师生关系指数"
          entry: "teacher.relationship.bar"
          ext.tex: ".tex"
          ext.fig: ".pdf"
          fig.limit: *plot_multi_fig_limit
          x.leader: *leader_prov_coun
          
          data:
            digits: *plot_data_digits
            county.filter:  TRUE
          
            filter:
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_teacher
                                    
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_school
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_teacher
                             
            aes:
              - 
                arg: "x"
                var: *scope
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *tier
              -  
                arg: "label"
                var: *label

            sort:
              -
                var: "x"
                variable: *topic
                option: *idx_teacher
                value: *value
                asc_desc: "ASC"

          ggplot:
            width: *plot_multi_fig_width
            height: *plot_multi_fig_height
            geom: *plot_bar_dodging
            position: "dodge" 
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "师生关系指数"
            axisx:
              text_angle: 90
              text_size: *plot_multi_fig_lab_size
            axisy:
              discrete_limits: *axisy_discrete_limits_index
              ylim: *axisy_ylim
        
        student.morality.bar.perspective: 
          fig.name: "不同群体四年级品德行为指数"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_morality
                -
                  x: "x"
                  from: *scope
                -
                  fill: "fill"
                  by:
                    - *tier
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *idx_morality
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by:
                    - *perspective
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_gender
                - 
                  variable: *topic
                  value: *idx_morality
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by:
                    - *perspective
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_huji
                - 
                  variable: *topic
                  value: *idx_morality
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by:
                    - *perspective
              
            aes:
              #- 
              #  arg: "x"
              #  var: *scope
              -  
                arg: "y"
                var: *value
              #- 
              #  arg: "fill"
              #  var: *tier
              -  
                arg: "label"
                var: *label
            order: 
              -
                var: "x"
                list: *order_prov_coun_acad_gen_hu
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            position: "dodge" 
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "品德行为指数"
            axisx:
              text_angle: 90
              text_size: 8
            axisy:
              discrete_limits: *axisy_discrete_limits_index
              ylim: *axisy_ylim

        student.morality.bar: 
          fig.name: "四年级品德行为指数"
          entry: "student.morality.bar"
          ext.tex: ".tex"
          ext.fig: ".pdf"
          fig.limit: *plot_multi_fig_limit
          x.leader: *leader_prov_coun
          
          data:
            digits: *plot_data_digits
            county.filter:  TRUE
          
            filter:
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_morality
                                    
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_school
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_morality
                             
            aes:
              - 
                arg: "x"
                var: *scope
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *tier
              -  
                arg: "label"
                var: *label

            sort:
              -
                var: "x"
                variable: *topic
                option: *idx_morality
                value: *value
                asc_desc: "ASC"

          ggplot:
            width: *plot_multi_fig_width
            height: *plot_multi_fig_height
            geom: *plot_bar_dodging
            position: "dodge" 
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "品德行为指数"
            axisx:
              text_angle: 90
              text_size: *plot_multi_fig_lab_size
            axisy:
              discrete_limits: *axisy_discrete_limits_index
              ylim: *axisy_ylim
        
        student.physique.bar: 
          fig.name: "四年级学生体质健康指数"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_physique
                
              
            aes:
              - 
                arg: "x"
                var: *scope
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *tier
              -  
                arg: "label"
                var: *label
            
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            position: "dodge" 
            coord: "flip"
            text:
              vjust: 0.5
            bar:
              width: *plot_bar_width
            label:
              ylab: ""
              xlab: "体质健康指数"
            #axisx:
            #  text_angle: 90
            #  text_size: 8
            #axisy:
            #  discrete_limits: *axisy_discrete_limits_index
            #  ylim: *axisy_ylim

        student.psychological.bar.perspective: 
          fig.name: "不同群体四年级心理健康指数"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_psychological
                -
                  x: "x"
                  from: *scope
                -
                  fill: "fill"
                  by:
                    - *tier
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *idx_psychological
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by:
                    - *perspective
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_gender
                - 
                  variable: *topic
                  value: *idx_psychological
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by:
                    - *perspective
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_huji
                - 
                  variable: *topic
                  value: *idx_psychological
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by:
                    - *perspective
              
            aes:
              #- 
              #  arg: "x"
              #  var: *scope
              -  
                arg: "y"
                var: *value
              #- 
              #  arg: "fill"
              #  var: *tier
              -  
                arg: "label"
                var: *label
            order: 
              -
                var: "x"
                list: *order_prov_coun_acad_gen_hu
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            position: "dodge" 
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "心理健康指数"
            axisx:
              text_angle: 90
              text_size: 8
            axisy:
              discrete_limits: *axisy_discrete_limits_index
              ylim: *axisy_ylim

        student.psychological.bar: 
          fig.name: "四年级心理健康指数"
          entry: "student.psychological.bar"
          ext.tex: ".tex"
          ext.fig: ".pdf"
          fig.limit: *plot_multi_fig_limit
          x.leader: *leader_prov_coun
          
          data:
            digits: *plot_data_digits
            county.filter:  TRUE
          
            filter:
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_psychological
                                    
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_school
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_psychological
                             
            aes:
              - 
                arg: "x"
                var: *scope
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *tier
              -  
                arg: "label"
                var: *label

            sort:
              -
                var: "x"
                variable: *topic
                option: *idx_psychological
                value: *value
                asc_desc: "ASC"

          ggplot:
            width: *plot_multi_fig_width
            height: *plot_multi_fig_height
            geom: *plot_bar_dodging
            position: "dodge" 
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "心理健康指数"
            axisx:
              text_angle: 90
              text_size: *plot_multi_fig_lab_size
            axisy:
              discrete_limits: *axisy_discrete_limits_index
              ylim: *axisy_ylim
        
        teaching.method.bar.perspective: 
          fig.name: "不同群体四年级心理健康指数"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_teaching
                -
                  x: "x"
                  from: *scope
                -
                  fill: "fill"
                  by:
                    - *tier
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *idx_teaching
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by:
                    - *perspective
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_gender
                - 
                  variable: *topic
                  value: *idx_teaching
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by:
                    - *perspective
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_huji
                - 
                  variable: *topic
                  value: *idx_teaching
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by:
                    - *perspective
              
            aes:
              #- 
              #  arg: "x"
              #  var: *scope
              -  
                arg: "y"
                var: *value
              #- 
              #  arg: "fill"
              #  var: *tier
              -  
                arg: "label"
                var: *label
            order: 
              -
                var: "x"
                list: *order_prov_coun_acad_gen_hu
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            position: "dodge" 
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "教学方式指数"
            axisx:
              text_angle: 90
              text_size: 8
            axisy:
              discrete_limits: *axisy_discrete_limits_index
              ylim: *axisy_ylim

        teaching.method.bar: 
          fig.name: "四年级教师教学方式指数"
          entry: "teaching.method.bar"
          ext.tex: ".tex"
          ext.fig: ".pdf"
          fig.limit: *plot_multi_fig_limit
          x.leader: *leader_prov_coun
          
          data:
            digits: *plot_data_digits
            county.filter:  TRUE
          
            filter:
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_teaching
                                    
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_school
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_teaching
                             
            aes:
              - 
                arg: "x"
                var: *scope
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *tier
              -  
                arg: "label"
                var: *label

            sort:
              -
                var: "x"
                variable: *topic
                option: *idx_teaching
                value: *value
                asc_desc: "ASC"

          ggplot:
            width: *plot_multi_fig_width
            height: *plot_multi_fig_height
            geom: *plot_bar_dodging
            position: "dodge" 
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "教学方式指数"
            axisx:
              text_angle: 90
              text_size: *plot_multi_fig_lab_size
            axisy:
              discrete_limits: *axisy_discrete_limits_index
              ylim: *axisy_ylim

        course.leadership.bar: 
          fig.name: "小学校长课程领导力指数"
          entry: "course.leadership.bar"
          ext.tex: ".tex"
          ext.fig: ".pdf"
          fig.limit: *plot_multi_fig_limit
          x.leader: 
            - "本市"
            - "本区"
            - "小学"
            - "一贯制"
          
          data:
            digits: *plot_data_digits
            county.filter:  TRUE
          
            filter:
              -
                -
                  variable: *subject
                  value: *survey_te
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_course_leadership
                -
                  x: "x"
                  from: *scope
                -
                  fill: "fill"
                  by: *tier
              -
                -
                  variable: *subject
                  value: *survey_te
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *idx_course_leadership
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by: *perspective
                     
              -
                -
                  variable: *subject
                  value: *survey_te
                -
                  variable: *tier
                  value: *tier_school
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_course_leadership
                -
                  x: "x"
                  from: *scope
                -
                  fill: "fill"
                  by: *tier
                             
            aes:
              #- 
              #  arg: "x"
              #  var: *scope
              -  
                arg: "y"
                var: *value
              #- 
              #  arg: "fill"
              #  var: *tier
              -  
                arg: "label"
                var: *label

            sort:
              -
                var: "x"
                variable: *topic
                option: *idx_course_leadership
                value: *value
                asc_desc: "ASC"

          ggplot:
            width: *plot_multi_fig_width
            height: *plot_multi_fig_height
            geom: *plot_bar_dodging
            position: "dodge" 
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "课程领导力指数"
            axisx:
              text_angle: 90
              text_size: *plot_multi_fig_lab_size
            axisy:
              discrete_limits: *axisy_discrete_limits_index
              ylim: *axisy_ylim

        economic.bar: 
          fig.name: "四年级学生家庭背景影响指数"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_economic
                -
                  x: "x"
                  from: *scope
                -
                  fill: "fill"
                  by:
                    - *tier
                    - *perspective
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_economic
                -
                  x: "x"
                  from: *scope
                -
                  fill: "fill"
                  by:
                    - *tier
                    - *perspective
            aes:
              #- 
              #  arg: "x"
              #  var: *scope
              -  
                arg: "y"
                var: *value
              #- 
              #  arg: "fill"
              #  var: *tier
              -  
                arg: "label"
                var: *label
            #order: 
            #  -
            #    var: "x"
            #    list: *order_prov_coun
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            position: "dodge" 
            coord: "flip"
            text:
              vjust: 0.5
            bar:
              width: *plot_bar_width
            label:
              ylab: ""
              xlab: "家庭背景影响指数"
            axisx:
              text_angle: 90
              text_size: 8
            #axisy:
            #  discrete_limits: *axisy_discrete_limits_index
            #  ylim: *axisy_ylim

        history.bar:
          fig.name: "本区四年级历年测试结果比较"
          data:
            digits: *plot_data_digits
            county.filter:  TRUE
            filter:
              -
                -
                  variable: *subject
                  value: *subject_all
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *coef_school_balance
                -
                  year: "year"
                  from: *assesment
              -
                -
                  variable: *subject
                  value: *subject_all
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *coef_passed_rate
                -
                  year: "year"
                  from: *assesment
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *coef_motivation
                -
                  year: "year"
                  from: *assesment
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *coef_pressure
                -
                  year: "year"
                  from: *assesment
              -
                -
                  variable: *subject
                  value: *subject_all
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *coef_high_level_thinking
                -
                  year: "year"
                  from: *assesment
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *coef_sleep
                -
                  year: "year"
                  from: *assesment
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *coef_writing_homework
                -
                  year: "year"
                  from: *assesment
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *coef_extra_homework
                -
                  year: "year"
                  from: *assesment
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *coef_teacher
                -
                  year: "year"
                  from: *assesment
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *coef_teaching
                -
                  year: "year"
                  from: *assesment
              -
                -
                  variable: *subject
                  value: *survey_te
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *coef_course_leadership
                -
                  year: "year"
                  from: *assesment
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *coef_economic
                -
                  year: "year"
                  from: *assesment
            aes:
              - 
                arg: "x"
                var: *topic
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: "year"
              -  
                arg: "label"
                var: *label
            order:
              - 
                var: "x"
                list:
                  - "成绩标准达成系数" 
                  - "高层次思维能力系数"
                  - "学业成绩学校间均衡系数"
                  - "学习动机系数"
                  - "学习压力系数"
                  - "睡眠系数"
                  - "作业系数"
                  - "补课系数"
                  - "师生关系系数"
                  - "教学方式系数"
                  - "课程领导力系数"
                  - "家庭背景影响系数"
            
          ggplot:
            width: 25
            height: 8
            geom: *plot_bar_dodging
            position: "dodge" 
            #text:
            #  vjust: 0.5
            bar:
              width: *plot_bar_width_fat
            legend: *plot_legend_right
            label:
              xlab: ""
              ylab: "百分数"
            axisx:
              text_angle: 90
              text_size: 12
            #axisy:
            #  discrete_limits: *axisy_discrete_limits_index
            #  ylim: *axisy_ylim
 
    -
      process: TRUE
      table: "统计指标汇总"
      markdown: "county_cn.Rmd"

      year: "2016年度"
      tier: *tier_county
      project: "中小学学业质量"
      report: "绿色指标学科测试分析报告"
      subject: "语文学科"

      title: ""
      header: "" 

      dir_output: "county/"
      datetime: ""
      file: ""

      pre.render:
        - "pre.render.global.setting"
        - "pre.render.cover.page"
        - "pre.render.head.foot"
        - "pre.render.report.preface"
        - "pre.render.table.of.contents"
        - "pre.render.project.summary"
        - "pre.render.introduce.cn"
        - "level.bar.province.county.school.cn"
        - "score.box.province.county.school.cn"
        - "jelei.bar.province.county.school.cn"
        - "jilei.box.province.county.school.cn"
        - "reading.bar.province.county.school.cn"
        - "reading.box.province.county.school.cn"
        - "writing.bar.province.county.school.cn"
        - "writing.box.province.county.school.cn"

      plot:

        score.segment.bar.cn: 
          fig.name: "学生总体语文分数分布"
          data:
            digits: *plot_data_digits
            filter:
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_total_score_segment
            aes:
              - 
                arg: "x"
                var: *key
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_segment  
            text:
              vjust: 0.5
            bar:
              width: *plot_bar_width

            label:
              xlab: "标准分"
              ylab: "百分数（%）"

        level.bar.perspective.cn: 
          fig.name: "不同群体学生在语文学科各水平上的人数比例"
          data:
            digits: *plot_data_digits
            filter:
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_total_score_level
                -
                  x: "x"
                  from: *scope
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *top_total_score_level
                -
                  x: "x"
                  from: *sample
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_gender
                - 
                  variable: *topic
                  value: *top_total_score_level
                -
                  x: "x"
                  from: *sample
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_huji
                - 
                  variable: *topic
                  value: *top_total_score_level
                -
                  x: "x"
                  from: *sample
            aes:
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            order:
              -
                var: "x"
                list: *order_prov_coun_acad_gen_hu
              
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_stacking 
            legend: *plot_legend_top
            bar:
              width: *plot_bar_width
            label:
              xlab: *xlab_prov_coun_acad_gen_hu
              ylab: "百分数（%）"

        score.box.perspective.cn: 
          fig.name: "不同群体学生在语文学科上的得分分布"
          data:
            digits: *plot_data_digits
            filter:
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_total_score_quantile
                -
                  x: "x"
                  from: *scope
                -
                  fill: "fill"
                  by: *tier
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_total_score_mean
                -
                  x: "x"
                  from: *scope
                -
                  fill: "fill"
                  by: *tier

              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *top_total_score_quantile
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by: *perspective
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *top_total_score_mean
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by: *perspective
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_gender
                - 
                  variable: *topic
                  value: *top_total_score_quantile
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by: *perspective
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_gender
                - 
                  variable: *topic
                  value: *top_total_score_mean
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by: *perspective
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_huji
                - 
                  variable: *topic
                  value: *top_total_score_quantile
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by: *perspective
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_huji
                - 
                  variable: *topic
                  value: *top_total_score_mean
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by: *perspective

            derivative: 
              group: "x"
              key: *key
              keep:
                - "x"
                - "fill"
            aes:
              -  
                arg: "ymin"
                var: *stat_quantile_key_bottom
              -  
                arg: "lower"
                var: *stat_quantile_key_lower
              -  
                arg: "middle"
                var: *stat_quantile_key_median
              -  
                arg: "upper"
                var: *stat_quantile_key_upper
              -  
                arg: "ymax"
                var: *stat_quantile_key_top
              -  
                arg: "mean"
                var: *key_score_mean
            order:
              - 
                var: "x"
                list: *order_prov_coun_acad_gen_hu
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_box
            legend: *plot_legend_top
            label:
              xlab: *xlab_prov_coun_acad_gen_hu
              ylab: "标准分"
            #axisy:
            #  continuous_limits:
            #    - 0
            #    - 800
            #  ylim:
            #    - 0
            #    - 800

        level.bar.province.county.school.cn: 
          fig.name: "各学校学生在语文学科各水平上的人数比例"
          entry: "level.bar.province.county.school.cn"
          ext.tex: ".tex"
          ext.fig: ".pdf"
          fig.limit: *plot_multi_fig_limit
          x.leader: *leader_prov_coun
          
          data:
            digits: *plot_data_digits
            county.filter:  TRUE
          
            filter:
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_total_score_level
            aes:
              - 
                arg: "x"
                var: *scope
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            sort:
              -
                var: "x"
                variable: *key
                option: "A"
                value: *value
                asc_desc: "DESC"
          ggplot:
            width: *plot_multi_fig_width
            height: *plot_multi_fig_height
            geom: *plot_bar_stacking
            legend: *plot_legend_top
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "百分数（%）"
            axisx:
              text_angle: 90
              text_size: *plot_multi_fig_lab_size
            
        score.box.province.county.school.cn: 
          fig.name: "各学校学生在语文学科上的得分分布"
          entry: "score.box.province.county.school.cn"
          ext.tex: ".tex"
          ext.fig: ".pdf"
          fig.limit: *plot_multi_fig_limit
          x.leader: *leader_prov_coun
          
          data:
            digits: *plot_data_digits
            county.filter:  TRUE
            filter:
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_total_score_quantile
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_total_score_mean
            derivative: 
              group: *scope
              key: *key
              keep:
                - *scope
                - *tier
                - *perspective
            aes:
              - 
                arg: "x"
                var: *scope
              -  
                arg: "ymin"
                var: *stat_quantile_key_bottom
              -  
                arg: "lower"
                var: *stat_quantile_key_lower
              -  
                arg: "middle"
                var: *stat_quantile_key_median
              -  
                arg: "upper"
                var: *stat_quantile_key_upper
              -  
                arg: "ymax"
                var: *stat_quantile_key_top
              -  
                arg: "fill"
                var: *tier
              -  
                arg: "mean"
                var: *key_score_mean
            sort:
              -
                var: "x"
                #variable: *perspective
                #option: *per_total
                value: "middle"
                asc_desc: "DESC"
          ggplot:
            width: *plot_multi_fig_width
            height: *plot_multi_fig_height
            geom: *plot_box
            legend: *plot_legend_top
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "标准分"
            axisx:
              text_angle: 90
              text_size: *plot_multi_fig_lab_size

        level.bar.dimention.cn: 
          fig.name: "学生在语文学科各能力维度各水平上的人数比例"
          data:
            digits: *plot_data_digits
            filter:
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_jilei_score_level_cn
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_reading_score_level_cn
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_writing_score_level_cn
            aes:
              - 
                arg: "x"
                var: "alias"
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
              -
                arg: "Group"
                var: *dimention
            alias:
              arg: "alias"
              var: *scope
            order:
              - 
                var: "x"
                list: *order_coun_prov               
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_stacking
            group:
              variable: *dimention
              scales: "fixed"
              position: "bottom" 
            legend: *plot_legend_top
            bar:
              width: *plot_bar_width_thin
            label:
              xlab: ""
              ylab: "百分数（%）"

        score.box.dimention.cn: 
          fig.name: "学生在语文学科各能力维度上的得分分布"
          data:
            digits: *plot_data_digits
            filter:
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_jilei_score_quantile_cn
                -
                  fill: "groupby"
                  by:
                    - *scope
                    - *dimention

              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_jilei_score_mean_cn
                -
                  fill: "groupby"
                  by:
                    - *scope
                    - *dimention
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_reading_score_quantile_cn
                -
                  fill: "groupby"
                  by:
                    - *scope
                    - *dimention
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_reading_score_mean_cn
                -
                  fill: "groupby"
                  by:
                    - *scope
                    - *dimention
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_writing_score_quantile_cn
                -
                  fill: "groupby"
                  by:
                    - *scope
                    - *dimention
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_writing_score_mean_cn
                -
                  fill: "groupby"
                  by:
                    - *scope
                    - *dimention
              
            derivative: 
              group: "groupby"
              key: *key
              keep:
                - *dimention
                #- "groupby"
                - *scope

            alias:
              arg: "alias"
              var: *scope
            aes:
              - 
                arg: "x"
                var: "alias"
              -  
                arg: "ymin"
                var: *stat_quantile_key_bottom
              -  
                arg: "lower"
                var: *stat_quantile_key_lower
              -  
                arg: "middle"
                var: *stat_quantile_key_median
              -  
                arg: "upper"
                var: *stat_quantile_key_upper
              -  
                arg: "ymax"
                var: *stat_quantile_key_top
              -  
                arg: "fill"
                var: *dimention
              -  
                arg: "mean"
                var: *key_score_mean
              -
                arg: "Group"
                var: *dimention
            #order:
            #  - 
            #    var: "x"
            #    list: *order_coun_prov

          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_box
            group:
              variable: *dimention
              scales: "fixed"
              position: "bottom" 
            legend: *plot_legend_top
            box:
              box.width: 0.2
              error.width: 0.05
            label:
              xlab: ""
              ylab: "标准分"
            #axisy:
            #  continuous_limits:
            #    - 0
            #    - 500
            #  ylim:
            #    - 0
            #    - 500

        jilei.bar.perspective.cn: 
          fig.name: "不同群体学生在“积累”各水平上的人数比例"
          data:
            digits: *plot_data_digits
            filter:
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_jilei_score_level_cn
                -
                  x: "x"
                  from: *scope
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *top_jilei_score_level_cn
                -
                  x: "x"
                  from: *sample
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_gender
                - 
                  variable: *topic
                  value: *top_jilei_score_level_cn
                -
                  x: "x"
                  from:  *sample
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_huji
                - 
                  variable: *topic
                  value: *top_jilei_score_level_cn
                -
                  x: "x"
                  from: *sample
            aes:
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            order:
              -
                var: "x"
                list: *order_prov_coun_acad_gen_hu
              
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_stacking 
            legend: *plot_legend_top
            bar:
              width: *plot_bar_width
            label:
              xlab: *xlab_prov_coun_acad_gen_hu
              ylab: "百分数（%）"

        jilei.box.perspective.cn: 
          fig.name: "不同群体学生在“积累”上的得分分布"
          data:
            digits: *plot_data_digits
            filter:
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_jilei_score_quantile_cn
                -
                  x: "x"
                  from: *scope
                -
                  fill: "groupby"
                  by:
                    - *scope                  
                - 
                  fill: "fill"
                  by:
                    - *scope
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_jilei_score_mean_cn
                -
                  x: "x"
                  from: *scope
                -
                  fill: "groupby"
                  by:
                    - *scope
                    - *sample
                -
                  fill: "fill"
                  by: 
                    - *scope

              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *top_jilei_score_quantile_cn
                -
                  x: "x"
                  from: *sample
                -
                  fill: "groupby"
                  by:
                    - *scope
                    - *sample
                -
                  fill: "fill"
                  by: 
                    - *perspective
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *top_jilei_score_mean_cn
                -
                  x: "x"
                  from: *sample
                -
                  fill: "groupby"
                  by:
                    - *scope
                    - *sample
                -
                  fill: "fill"
                  by: 
                    - *perspective
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_gender
                - 
                  variable: *topic
                  value: *top_jilei_score_quantile_cn
                -
                  x: "x"
                  from: *sample
                -
                  fill: "groupby"
                  by:
                    - *scope
                    - *sample
                -
                  fill: "fill"
                  by: 
                    - *perspective
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_gender
                - 
                  variable: *topic
                  value: *top_jilei_score_mean_cn
                -
                  x: "x"
                  from: *sample
                -
                  fill: "groupby"
                  by:
                    - *scope
                    - *sample
                -
                  fill: "fill"
                  by: 
                    - *perspective
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_huji
                - 
                  variable: *topic
                  value: *top_jilei_score_quantile_cn
                -
                  x: "x"
                  from: *sample
                -
                  fill: "groupby"
                  by:
                    - *scope
                    - *sample
                -
                  fill: "fill"
                  by: 
                    - *perspective
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_huji
                - 
                  variable: *topic
                  value: *top_jilei_score_mean_cn
                -
                  x: "x"
                  from: *sample
                -
                  fill: "groupby"
                  by:
                    - *scope
                    - *sample
                -
                  fill: "fill"
                  by: *perspective

            derivative: 
              group: "groupby"
              key: *key
              keep:
                - "x"
                - "fill"
                - "groupby"
                
            aes:
              -  
                arg: "ymin"
                var: *stat_quantile_key_bottom
              -  
                arg: "lower"
                var: *stat_quantile_key_lower
              -  
                arg: "middle"
                var: *stat_quantile_key_median
              -  
                arg: "upper"
                var: *stat_quantile_key_upper
              -  
                arg: "ymax"
                var: *stat_quantile_key_top
              -  
                arg: "mean"
                var: *key_score_mean
            order:
              - 
                var: "x"
                list: *order_prov_coun_acad_gen_hu
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_box
            legend: *plot_legend_top
            label:
              xlab: *xlab_prov_coun_acad_gen_hu
              ylab: "标准分"
            #axisy:
            #  continuous_limits:
            #    - 0
            #    - 800
            #  ylim:
            #    - 0
            #    - 800

        jelei.bar.province.county.school.cn: 
          fig.name: "各学校学生在“积累”各水平上的人数比例"
          entry: "jelei.bar.province.county.school.cn"
          ext.tex: ".tex"
          ext.fig: ".pdf"
          fig.limit: *plot_multi_fig_limit
          x.leader: *leader_prov_coun
          
          data:
            digits: *plot_data_digits
            county.filter:  TRUE
          
            filter:
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_jilei_score_level_cn
            aes:
              - 
                arg: "x"
                var: *scope
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            sort:
              -
                var: "x"
                variable: *key
                option: "A"
                value: *value
                asc_desc: "DESC"
          ggplot:
            width: *plot_multi_fig_width
            height: *plot_multi_fig_height
            geom: *plot_bar_stacking
            legend: *plot_legend_top
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "百分数（%）"
            axisx:
              text_angle: 90
              text_size: *plot_multi_fig_lab_size

        jilei.box.province.county.school.cn: 
          fig.name: "各学校学生在“积累”上的得分分布"
          entry: "jilei.box.province.county.school.cn"
          ext.tex: ".tex"
          ext.fig: ".pdf"
          fig.limit: *plot_multi_fig_limit
          x.leader: *leader_prov_coun
          
          data:
            digits: *plot_data_digits
            county.filter:  TRUE
            filter:
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_jilei_score_quantile_cn
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_jilei_score_mean_cn
            derivative: 
              group: *scope
              key: *key
              keep:
                - *scope
                - *tier
                - *perspective
            aes:
              - 
                arg: "x"
                var: *scope
              -  
                arg: "ymin"
                var: *stat_quantile_key_bottom
              -  
                arg: "lower"
                var: *stat_quantile_key_lower
              -  
                arg: "middle"
                var: *stat_quantile_key_median
              -  
                arg: "upper"
                var: *stat_quantile_key_upper
              -  
                arg: "ymax"
                var: *stat_quantile_key_top
              -  
                arg: "fill"
                var: *tier
              -  
                arg: "mean"
                var: *key_score_mean
            sort:
              -
                var: "x"
                #variable: *perspective
                #option: *per_total
                value: "middle"
                asc_desc: "DESC"
          ggplot:
            width: *plot_multi_fig_width
            height: *plot_multi_fig_height
            geom: *plot_box
            legend: *plot_legend_top
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "标准分"
            axisx:
              text_angle: 90
              text_size: *plot_multi_fig_lab_size

        reading.bar.perspective.cn: 
          fig.name: "不同群体学生在“阅读”各水平上的人数比例"
          data:
            digits: *plot_data_digits
            filter:
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_reading_score_level_cn
                -
                  x: "x"
                  from: *scope
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *top_reading_score_level_cn
                -
                  x: "x"
                  from: *sample
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_gender
                - 
                  variable: *topic
                  value: *top_reading_score_level_cn
                -
                  x: "x"
                  from:  *sample
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_huji
                - 
                  variable: *topic
                  value: *top_reading_score_level_cn
                -
                  x: "x"
                  from: *sample
            aes:
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            order:
              -
                var: "x"
                list: *order_prov_coun_acad_gen_hu
              
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_stacking 
            legend: *plot_legend_top
            bar:
              width: *plot_bar_width
            label:
              xlab: *xlab_prov_coun_acad_gen_hu
              ylab: "百分数（%）"

        reading.box.perspective.cn: 
          fig.name: "不同群体学生在“阅读”上的得分分布"
          data:
            digits: *plot_data_digits
            filter:
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_reading_score_quantile_cn
                -
                  x: "x"
                  from: *scope
                -
                  fill: "groupby"
                  by:
                    - *scope                  
                - 
                  fill: "fill"
                  by:
                    - *scope
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_reading_score_mean_cn
                -
                  x: "x"
                  from: *scope
                -
                  fill: "groupby"
                  by:
                    - *scope
                    - *sample
                -
                  fill: "fill"
                  by: 
                    - *scope

              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *top_reading_score_quantile_cn
                -
                  x: "x"
                  from: *sample
                -
                  fill: "groupby"
                  by:
                    - *scope
                    - *sample
                -
                  fill: "fill"
                  by: 
                    - *perspective
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *top_reading_score_mean_cn
                -
                  x: "x"
                  from: *sample
                -
                  fill: "groupby"
                  by:
                    - *scope
                    - *sample
                -
                  fill: "fill"
                  by: 
                    - *perspective
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_gender
                - 
                  variable: *topic
                  value: *top_reading_score_quantile_cn
                -
                  x: "x"
                  from: *sample
                -
                  fill: "groupby"
                  by:
                    - *scope
                    - *sample
                -
                  fill: "fill"
                  by: 
                    - *perspective
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_gender
                - 
                  variable: *topic
                  value: *top_reading_score_mean_cn
                -
                  x: "x"
                  from: *sample
                -
                  fill: "groupby"
                  by:
                    - *scope
                    - *sample
                -
                  fill: "fill"
                  by: 
                    - *perspective
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_huji
                - 
                  variable: *topic
                  value: *top_reading_score_quantile_cn
                -
                  x: "x"
                  from: *sample
                -
                  fill: "groupby"
                  by:
                    - *scope
                    - *sample
                -
                  fill: "fill"
                  by: 
                    - *perspective
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_huji
                - 
                  variable: *topic
                  value: *top_reading_score_mean_cn
                -
                  x: "x"
                  from: *sample
                -
                  fill: "groupby"
                  by:
                    - *scope
                    - *sample
                -
                  fill: "fill"
                  by: *perspective

            derivative: 
              group: "groupby"
              key: *key
              keep:
                - "x"
                - "fill"
                - "groupby"
                
            aes:
              -  
                arg: "ymin"
                var: *stat_quantile_key_bottom
              -  
                arg: "lower"
                var: *stat_quantile_key_lower
              -  
                arg: "middle"
                var: *stat_quantile_key_median
              -  
                arg: "upper"
                var: *stat_quantile_key_upper
              -  
                arg: "ymax"
                var: *stat_quantile_key_top
              -  
                arg: "mean"
                var: *key_score_mean
            order:
              - 
                var: "x"
                list: *order_prov_coun_acad_gen_hu
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_box
            legend: *plot_legend_top
            label:
              xlab: *xlab_prov_coun_acad_gen_hu
              ylab: "标准分"
            #axisy:
            #  continuous_limits:
            #    - 0
            #    - 800
            #  ylim:
            #    - 0
            #    - 800

        reading.bar.province.county.school.cn: 
          fig.name: "各学校学生在“阅读”各水平上的人数比例"
          entry: "reading.bar.province.county.school.cn"
          ext.tex: ".tex"
          ext.fig: ".pdf"
          fig.limit: *plot_multi_fig_limit
          x.leader: *leader_prov_coun
          
          data:
            digits: *plot_data_digits
            county.filter:  TRUE
          
            filter:
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_reading_score_level_cn
            aes:
              - 
                arg: "x"
                var: *scope
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            sort:
              -
                var: "x"
                variable: *key
                option: "A"
                value: *value
                asc_desc: "DESC"
          ggplot:
            width: *plot_multi_fig_width
            height: *plot_multi_fig_height
            geom: *plot_bar_stacking
            legend: *plot_legend_top
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "百分数（%）"
            axisx:
              text_angle: 90
              text_size: *plot_multi_fig_lab_size

        reading.box.province.county.school.cn: 
          fig.name: "各学校学生在“阅读”上的得分分布"
          entry: "reading.box.province.county.school.cn"
          ext.tex: ".tex"
          ext.fig: ".pdf"
          fig.limit: *plot_multi_fig_limit
          x.leader: *leader_prov_coun
          
          data:
            digits: *plot_data_digits
            county.filter:  TRUE
            filter:
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_reading_score_quantile_cn
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_reading_score_mean_cn
            derivative: 
              group: *scope
              key: *key
              keep:
                - *scope
                - *tier
                - *perspective
            aes:
              - 
                arg: "x"
                var: *scope
              -  
                arg: "ymin"
                var: *stat_quantile_key_bottom
              -  
                arg: "lower"
                var: *stat_quantile_key_lower
              -  
                arg: "middle"
                var: *stat_quantile_key_median
              -  
                arg: "upper"
                var: *stat_quantile_key_upper
              -  
                arg: "ymax"
                var: *stat_quantile_key_top
              -  
                arg: "fill"
                var: *tier
              -  
                arg: "mean"
                var: *key_score_mean
            sort:
              -
                var: "x"
                #variable: *perspective
                #option: *per_total
                value: "middle"
                asc_desc: "DESC"
          ggplot:
            width: *plot_multi_fig_width
            height: *plot_multi_fig_height
            geom: *plot_box
            legend: *plot_legend_top
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "标准分"
            axisx:
              text_angle: 90
              text_size: *plot_multi_fig_lab_size

        writing.bar.perspective.cn: 
          fig.name: "不同群体学生在“习作”各水平上的人数比例"
          data:
            digits: *plot_data_digits
            filter:
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_writing_score_level_cn
                -
                  x: "x"
                  from: *scope
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *top_writing_score_level_cn
                -
                  x: "x"
                  from: *sample
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_gender
                - 
                  variable: *topic
                  value: *top_writing_score_level_cn
                -
                  x: "x"
                  from:  *sample
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_huji
                - 
                  variable: *topic
                  value: *top_writing_score_level_cn
                -
                  x: "x"
                  from: *sample
            aes:
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            order:
              -
                var: "x"
                list: *order_prov_coun_acad_gen_hu
              
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_stacking 
            legend: *plot_legend_top
            bar:
              width: *plot_bar_width
            label:
              xlab: *xlab_prov_coun_acad_gen_hu
              ylab: "百分数（%）"

        writing.box.perspective.cn: 
          fig.name: "不同群体学生在“习作”上的得分分布"
          data:
            digits: *plot_data_digits
            filter:
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_writing_score_quantile_cn
                -
                  x: "x"
                  from: *scope
                -
                  fill: "groupby"
                  by:
                    - *scope                  
                - 
                  fill: "fill"
                  by:
                    - *scope
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_writing_score_mean_cn
                -
                  x: "x"
                  from: *scope
                -
                  fill: "groupby"
                  by:
                    - *scope
                    - *sample
                -
                  fill: "fill"
                  by: 
                    - *scope

              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *top_writing_score_quantile_cn
                -
                  x: "x"
                  from: *sample
                -
                  fill: "groupby"
                  by:
                    - *scope
                    - *sample
                -
                  fill: "fill"
                  by: 
                    - *perspective
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *top_writing_score_mean_cn
                -
                  x: "x"
                  from: *sample
                -
                  fill: "groupby"
                  by:
                    - *scope
                    - *sample
                -
                  fill: "fill"
                  by: 
                    - *perspective
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_gender
                - 
                  variable: *topic
                  value: *top_writing_score_quantile_cn
                -
                  x: "x"
                  from: *sample
                -
                  fill: "groupby"
                  by:
                    - *scope
                    - *sample
                -
                  fill: "fill"
                  by: 
                    - *perspective
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_gender
                - 
                  variable: *topic
                  value: *top_writing_score_mean_cn
                -
                  x: "x"
                  from: *sample
                -
                  fill: "groupby"
                  by:
                    - *scope
                    - *sample
                -
                  fill: "fill"
                  by: 
                    - *perspective
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_huji
                - 
                  variable: *topic
                  value: *top_writing_score_quantile_cn
                -
                  x: "x"
                  from: *sample
                -
                  fill: "groupby"
                  by:
                    - *scope
                    - *sample
                -
                  fill: "fill"
                  by: 
                    - *perspective
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_huji
                - 
                  variable: *topic
                  value: *top_writing_score_mean_cn
                -
                  x: "x"
                  from: *sample
                -
                  fill: "groupby"
                  by:
                    - *scope
                    - *sample
                -
                  fill: "fill"
                  by: *perspective

            derivative: 
              group: "groupby"
              key: *key
              keep:
                - "x"
                - "fill"
                - "groupby"
                
            aes:
              -  
                arg: "ymin"
                var: *stat_quantile_key_bottom
              -  
                arg: "lower"
                var: *stat_quantile_key_lower
              -  
                arg: "middle"
                var: *stat_quantile_key_median
              -  
                arg: "upper"
                var: *stat_quantile_key_upper
              -  
                arg: "ymax"
                var: *stat_quantile_key_top
              -  
                arg: "mean"
                var: *key_score_mean
            order:
              - 
                var: "x"
                list: *order_prov_coun_acad_gen_hu
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_box
            legend: *plot_legend_top
            label:
              xlab: *xlab_prov_coun_acad_gen_hu
              ylab: "标准分"
            #axisy:
            #  continuous_limits:
            #    - 0
            #    - 800
            #  ylim:
            #    - 0
            #    - 800

        writing.bar.province.county.school.cn: 
          fig.name: "各学校学生在“习作”各水平上的人数比例"
          entry: "writing.bar.province.county.school.cn"
          ext.tex: ".tex"
          ext.fig: ".pdf"
          fig.limit: *plot_multi_fig_limit
          x.leader: *leader_prov_coun
          
          data:
            digits: *plot_data_digits
            county.filter:  TRUE
          
            filter:
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_writing_score_level_cn
            aes:
              - 
                arg: "x"
                var: *scope
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            sort:
              -
                var: "x"
                variable: *key
                option: "A"
                value: *value
                asc_desc: "DESC"
          ggplot:
            width: *plot_multi_fig_width
            height: *plot_multi_fig_height
            geom: *plot_bar_stacking
            legend: *plot_legend_top
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "百分数（%）"
            axisx:
              text_angle: 90
              text_size: *plot_multi_fig_lab_size

        writing.box.province.county.school.cn: 
          fig.name: "各学校学生在“习作”上的得分分布"
          entry: "writing.box.province.county.school.cn"
          ext.tex: ".tex"
          ext.fig: ".pdf"
          fig.limit: *plot_multi_fig_limit
          x.leader: *leader_prov_coun
          
          data:
            digits: *plot_data_digits
            county.filter:  TRUE
            filter:
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_writing_score_quantile_cn
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_writing_score_mean_cn
            derivative: 
              group: *scope
              key: *key
              keep:
                - *scope
                - *tier
                - *perspective
            aes:
              - 
                arg: "x"
                var: *scope
              -  
                arg: "ymin"
                var: *stat_quantile_key_bottom
              -  
                arg: "lower"
                var: *stat_quantile_key_lower
              -  
                arg: "middle"
                var: *stat_quantile_key_median
              -  
                arg: "upper"
                var: *stat_quantile_key_upper
              -  
                arg: "ymax"
                var: *stat_quantile_key_top
              -  
                arg: "fill"
                var: *tier
              -  
                arg: "mean"
                var: *key_score_mean
            sort:
              -
                var: "x"
                #variable: *perspective
                #option: *per_total
                value: "middle"
                asc_desc: "DESC"
          ggplot:
            width: *plot_multi_fig_width
            height: *plot_multi_fig_height
            geom: *plot_box
            legend: *plot_legend_top
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "标准分"
            axisx:
              text_angle: 90
              text_size: *plot_multi_fig_lab_size

        answer.segment.bar.cn: 
          fig.name: "全体学生在题目C3AO011上的作答情况"
          data:
            digits: 1
            filter:
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_answer
            #keep:
            #    - 
            #      variable: *variable
            #      value: "C3AO011"
            aes:
              - 
                arg: "x"
                var: *key
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_segment  
            text:
              vjust: 0.5
            bar:
              width: *plot_bar_width

            label:
              xlab: "选项"
              ylab: "百分数（%）"

        bar.cn: 
          fig.name: "全体学生在题目C3AO011上的作答情况"
          data:
            digits: 1
            filter:
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_answer
            #keep:
                - 
                  variable: *variable
                  value: "C3AO011"
                #- 
                #  variable: *key
                #  value: "C"
            aes:
              - 
                arg: "x"
                var: *variable
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
          ggplot:
            width: 10
            height: 1
            geom: "plot_bar_stacking.raw"  
            position: "stack" 
            coord: "flip"
            bar:
              width: 0.8

      param:

        point.rate.table.cn: 
          name: "学生在语文学科上的平均得分率"
          data:
            digits: 1
            filter:
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_province
                - 
                  variable: *topic
                  value: *top_point_rate
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_county
                - 
                  variable: *topic
                  value: *top_point_rate

        answer.table.cn: 
          name: "学生在语文学科“积累”上的作答情况"
          data:
            digits: 1
            filter:
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_county
                - 
                  variable: *topic
                  value: *top_answer

        writing.table.cn: 
          name: "学生在语文学科“习作”上的作答情况"
          data:
            digits: 1
            filter:
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *dimention
                  value: *dim_cn_writing
                     
    -
      process: FALSE
      table: "统计指标汇总"
      markdown: "county_ma.Rmd"

      year: "2016年度"
      tier: *tier_county
      project: "中小学学业质量"
      report: "绿色指标学科测试分析报告"
      subject: "数学学科"

      title: ""
      header: ""

      dir_output: "county/"
      datetime: ""
      file: ""

      pre.render:
        - "pre.render.global.setting"
        - "pre.render.cover.page"
        - "pre.render.head.foot"
        - "pre.render.report.preface"
        - "pre.render.table.of.contents"
        - "pre.render.project.summary"
        - "pre.render.introduce.ma"
        - "level.bar.province.county.school.ma"
        - "score.box.province.county.school.ma"
        - "number.bar.province.county.school.ma"
        - "number.box.province.county.school.ma"
        - "space.bar.province.county.school.ma"
        - "space.box.province.county.school.ma"
        - "statistics.bar.province.county.school.ma"
        - "statistics.box.province.county.school.ma"
        - "skill.bar.province.county.school.ma"
        - "skill.box.province.county.school.ma"
        - "concept.bar.province.county.school.ma"
        - "concept.box.province.county.school.ma"
        - "apply.bar.province.county.school.ma"
        - "apply.box.province.county.school.ma"
        - "problem.bar.province.county.school.ma"
        - "problem.box.province.county.school.ma"


      plot:

        score.segment.bar.ma: 
          fig.name: "学生总体数学分数分布"
          data:
            digits: *plot_data_digits
            filter:
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_total_score_segment
            aes:
              - 
                arg: "x"
                var: *key
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_segment  
            text:
              vjust: 0.5
            bar:
              width: *plot_bar_width

            label:
              xlab: "标准分"
              ylab: "百分数（%）"

        level.bar.perspective.ma: 
          fig.name: "不同群体学生在数学学科各水平上的人数比例"
          data:
            digits: *plot_data_digits
            filter:
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_total_score_level
                -
                  x: "x"
                  from: *scope
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *top_total_score_level
                -
                  x: "x"
                  from: *sample
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_gender
                - 
                  variable: *topic
                  value: *top_total_score_level
                -
                  x: "x"
                  from: *sample
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_huji
                - 
                  variable: *topic
                  value: *top_total_score_level
                -
                  x: "x"
                  from: *sample
            aes:
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            order:
              -
                var: "x"
                list: *order_prov_coun_acad_gen_hu
              
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_stacking 
            legend: *plot_legend_top
            bar:
              width: *plot_bar_width
            label:
              xlab: *xlab_prov_coun_acad_gen_hu
              ylab: "百分数（%）"

        score.box.perspective.ma: 
          fig.name: "不同群体学生在语文学科上的得分分布"
          data:
            digits: *plot_data_digits
            filter:
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_total_score_quantile
                -
                  x: "x"
                  from: *scope
                -
                  fill: "fill"
                  by: *tier
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_total_score_mean
                -
                  x: "x"
                  from: *scope
                -
                  fill: "fill"
                  by: *tier

              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *top_total_score_quantile
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by: *perspective
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *top_total_score_mean
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by: *perspective
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_gender
                - 
                  variable: *topic
                  value: *top_total_score_quantile
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by: *perspective
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_gender
                - 
                  variable: *topic
                  value: *top_total_score_mean
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by: *perspective
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_huji
                - 
                  variable: *topic
                  value: *top_total_score_quantile
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by: *perspective
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_huji
                - 
                  variable: *topic
                  value: *top_total_score_mean
                -
                  x: "x"
                  from: *sample
                -
                  fill: "fill"
                  by: *perspective

            derivative: 
              group: "x"
              key: *key
              keep:
                - "x"
                - "fill"
            aes:
              -  
                arg: "ymin"
                var: *stat_quantile_key_bottom
              -  
                arg: "lower"
                var: *stat_quantile_key_lower
              -  
                arg: "middle"
                var: *stat_quantile_key_median
              -  
                arg: "upper"
                var: *stat_quantile_key_upper
              -  
                arg: "ymax"
                var: *stat_quantile_key_top
              -  
                arg: "mean"
                var: *key_score_mean
            order:
              - 
                var: "x"
                list: *order_prov_coun_acad_gen_hu
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_box
            legend: *plot_legend_top
            label:
              xlab: *xlab_prov_coun_acad_gen_hu
              ylab: "标准分"
            #axisy:
            #  continuous_limits:
            #    - 0
            #    - 800
            #  ylim:
            #    - 0
            #    - 800

        level.bar.province.county.school.ma: 
          fig.name: "各学校学生在数学学科各水平上的人数比例"
          entry: "level.bar.province.county.school.ma"
          ext.tex: ".tex"
          ext.fig: ".pdf"
          fig.limit: *plot_multi_fig_limit
          x.leader: *leader_prov_coun
          
          data:
            digits: *plot_data_digits
            county.filter:  TRUE
          
            filter:
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_total_score_level
            aes:
              - 
                arg: "x"
                var: *scope
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            sort:
              -
                var: "x"
                variable: *key
                option: "A"
                value: *value
                asc_desc: "DESC"
          ggplot:
            width: *plot_multi_fig_width
            height: *plot_multi_fig_height
            geom: *plot_bar_stacking
            legend: *plot_legend_top
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "百分数（%）"
            axisx:
              text_angle: 90
              text_size: *plot_multi_fig_lab_size
            
        score.box.province.county.school.ma: 
          fig.name: "各学校学生在数学学科上的得分分布"
          entry: "score.box.province.county.school.ma"
          ext.tex: ".tex"
          ext.fig: ".pdf"
          fig.limit: *plot_multi_fig_limit
          x.leader: *leader_prov_coun
          
          data:
            digits: *plot_data_digits
            county.filter:  TRUE
            filter:
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_total_score_quantile
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_total_score_mean
            derivative: 
              group: *scope
              key: *key
              keep:
                - *scope
                - *tier
                - *perspective
            aes:
              - 
                arg: "x"
                var: *scope
              -  
                arg: "ymin"
                var: *stat_quantile_key_bottom
              -  
                arg: "lower"
                var: *stat_quantile_key_lower
              -  
                arg: "middle"
                var: *stat_quantile_key_median
              -  
                arg: "upper"
                var: *stat_quantile_key_upper
              -  
                arg: "ymax"
                var: *stat_quantile_key_top
              -  
                arg: "fill"
                var: *tier
              -  
                arg: "mean"
                var: *key_score_mean
            sort:
              -
                var: "x"
                #variable: *perspective
                #option: *per_total
                value: "middle"
                asc_desc: "DESC"
          ggplot:
            width: *plot_multi_fig_width
            height: *plot_multi_fig_height
            geom: *plot_box
            legend: *plot_legend_top
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "标准分"
            axisx:
              text_angle: 90
              text_size: *plot_multi_fig_lab_size


        level.bar.domain.ma: 
          fig.name: "学生在数学学科各内容维度各水平上的人数比例"
          data:
            digits: *plot_data_digits
            filter:
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_number_score_level_ma
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_space_score_level_ma
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_statistics_score_level_ma
            aes:
              - 
                arg: "x"
                var: "alias"
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
              -
                arg: "Group"
                var: *dimention
            alias:
              arg: "alias"
              var: *scope
            order:
              - 
                var: "x"
                list: *order_coun_prov    
              -
                var: *dimention
                list: *order_ma_dom           
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_stacking
            group:
              variable: *dimention
              scales: "fixed"
              position: "bottom" 
            legend: *plot_legend_top
            bar:
              width: *plot_bar_width_thin
            label:
              xlab: ""
              ylab: "百分数（%）"

        score.box.domain.ma: 
          fig.name: "学生在数学学科各内容维度上的得分分布"
          data:
            digits: *plot_data_digits
            filter:
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_number_score_quantile_ma
                -
                  fill: "groupby"
                  by:
                    - *scope
                    - *dimention

              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_number_score_mean_ma
                -
                  fill: "groupby"
                  by:
                    - *scope
                    - *dimention
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_space_score_quantile_ma
                -
                  fill: "groupby"
                  by:
                    - *scope
                    - *dimention
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_space_score_mean_ma
                -
                  fill: "groupby"
                  by:
                    - *scope
                    - *dimention
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_statistics_score_quantile_ma
                -
                  fill: "groupby"
                  by:
                    - *scope
                    - *dimention
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_statistics_score_mean_ma
                -
                  fill: "groupby"
                  by:
                    - *scope
                    - *dimention
              
            derivative: 
              group: "groupby"
              key: *key
              keep:
                - *dimention
                #- "groupby"
                - *scope

            alias:
              arg: "alias"
              var: *scope
            aes:
              - 
                arg: "x"
                var: "alias"
              -  
                arg: "ymin"
                var: *stat_quantile_key_bottom
              -  
                arg: "lower"
                var: *stat_quantile_key_lower
              -  
                arg: "middle"
                var: *stat_quantile_key_median
              -  
                arg: "upper"
                var: *stat_quantile_key_upper
              -  
                arg: "ymax"
                var: *stat_quantile_key_top
              -  
                arg: "fill"
                var: *dimention
              -  
                arg: "mean"
                var: *key_score_mean
              -
                arg: "Group"
                var: *dimention
            order:
              - 
                var: "x"
                list: *order_coun_prov
              - 
                var: *dimention
                list: *order_ma_dom

          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_box
            group:
              variable: *dimention
              scales: "fixed"
              position: "bottom" 
            legend: *plot_legend_top
            box:
              box.width: 0.2
              error.width: 0.05
            label:
              xlab: ""
              ylab: "标准分"
            #axisy:
            #  continuous_limits:
            #    - 0
            #    - 500
            #  ylim:
            #    - 0
            #    - 500

        level.bar.dimention.ma: 
          fig.name: "学生在数学学科各能力维度各水平上的人数比例"
          data:
            digits: *plot_data_digits
            filter:
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_skill_score_level_ma
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_concept_score_level_ma
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_apply_score_level_ma
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_problem_score_level_ma
            aes:
              - 
                arg: "x"
                var: "alias"
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
              -
                arg: "Group"
                var: *dimention
            alias:
              arg: "alias"
              var: *scope
            order:
              - 
                var: "x"
                list: *order_coun_prov    
              -
                var: *dimention
                list: *order_ma_dim           
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_stacking
            group:
              variable: *dimention
              scales: "fixed"
              position: "bottom" 
            legend: *plot_legend_top
            bar:
              width: *plot_bar_width_thin
            label:
              xlab: ""
              ylab: "百分数（%）"

        score.box.dimention.ma: 
          fig.name: "学生在数学学科各能力维度上的得分分布"
          data:
            digits: *plot_data_digits
            filter:
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_skill_score_quantile_ma
                -
                  fill: "groupby"
                  by:
                    - *scope
                    - *dimention

              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_skill_score_mean_ma
                -
                  fill: "groupby"
                  by:
                    - *scope
                    - *dimention
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_concept_score_quantile_ma
                -
                  fill: "groupby"
                  by:
                    - *scope
                    - *dimention
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_concept_score_mean_ma
                -
                  fill: "groupby"
                  by:
                    - *scope
                    - *dimention
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_apply_score_quantile_ma
                -
                  fill: "groupby"
                  by:
                    - *scope
                    - *dimention
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_apply_score_mean_ma
                -
                  fill: "groupby"
                  by:
                    - *scope
                    - *dimention
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_problem_score_quantile_ma
                -
                  fill: "groupby"
                  by:
                    - *scope
                    - *dimention
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_problem_score_mean_ma
                -
                  fill: "groupby"
                  by:
                    - *scope
                    - *dimention
            derivative: 
              group: "groupby"
              key: *key
              keep:
                - *dimention
                #- "groupby"
                - *scope

            alias:
              arg: "alias"
              var: *scope
            aes:
              - 
                arg: "x"
                var: "alias"
              -  
                arg: "ymin"
                var: *stat_quantile_key_bottom
              -  
                arg: "lower"
                var: *stat_quantile_key_lower
              -  
                arg: "middle"
                var: *stat_quantile_key_median
              -  
                arg: "upper"
                var: *stat_quantile_key_upper
              -  
                arg: "ymax"
                var: *stat_quantile_key_top
              -  
                arg: "fill"
                var: *dimention
              -  
                arg: "mean"
                var: *key_score_mean
              -
                arg: "Group"
                var: *dimention
            order:
              - 
                var: "x"
                list: *order_coun_prov
              - 
                var: *dimention
                list: *order_ma_dim

          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_box
            group:
              variable: *dimention
              scales: "fixed"
              position: "bottom" 
            legend: *plot_legend_top
            box:
              box.width: 0.2
              error.width: 0.05
            label:
              xlab: ""
              ylab: "标准分"
            #axisy:
            #  continuous_limits:
            #    - 0
            #    - 500
            #  ylim:
            #    - 0
            #    - 500


        number.bar.perspective.ma: 
          fig.name: "不同群体学生在“数与代数”各水平上的人数比例"
          data:
            digits: *plot_data_digits
            filter:
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_number_score_level_ma
                -
                  x: "x"
                  from: *scope
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *top_number_score_level_ma
                -
                  x: "x"
                  from: *sample
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_gender
                - 
                  variable: *topic
                  value: *top_number_score_level_ma
                -
                  x: "x"
                  from:  *sample
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_huji
                - 
                  variable: *topic
                  value: *top_number_score_level_ma
                -
                  x: "x"
                  from: *sample
            aes:
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            order:
              -
                var: "x"
                list: *order_prov_coun_acad_gen_hu
              
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_stacking 
            legend: *plot_legend_top
            bar:
              width: *plot_bar_width
            label:
              xlab: *xlab_prov_coun_acad_gen_hu
              ylab: "百分数（%）"

        number.box.perspective.ma: 
          fig.name: "不同群体学生在“数与代数”上的得分分布"
          data:
            digits: *plot_data_digits
            filter:
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_number_score_quantile_ma
                -
                  x: "x"
                  from: *scope
                -
                  fill: "groupby"
                  by:
                    - *scope                  
                - 
                  fill: "fill"
                  by:
                    - *scope
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_number_score_mean_ma
                -
                  x: "x"
                  from: *scope
                -
                  fill: "groupby"
                  by:
                    - *scope
                    - *sample
                -
                  fill: "fill"
                  by: 
                    - *scope

              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *top_number_score_quantile_ma
                -
                  x: "x"
                  from: *sample
                -
                  fill: "groupby"
                  by:
                    - *scope
                    - *sample
                -
                  fill: "fill"
                  by: 
                    - *perspective
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *top_number_score_mean_ma
                -
                  x: "x"
                  from: *sample
                -
                  fill: "groupby"
                  by:
                    - *scope
                    - *sample
                -
                  fill: "fill"
                  by: 
                    - *perspective
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_gender
                - 
                  variable: *topic
                  value: *top_number_score_quantile_ma
                -
                  x: "x"
                  from: *sample
                -
                  fill: "groupby"
                  by:
                    - *scope
                    - *sample
                -
                  fill: "fill"
                  by: 
                    - *perspective
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_gender
                - 
                  variable: *topic
                  value: *top_number_score_mean_ma
                -
                  x: "x"
                  from: *sample
                -
                  fill: "groupby"
                  by:
                    - *scope
                    - *sample
                -
                  fill: "fill"
                  by: 
                    - *perspective
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_huji
                - 
                  variable: *topic
                  value: *top_number_score_quantile_ma
                -
                  x: "x"
                  from: *sample
                -
                  fill: "groupby"
                  by:
                    - *scope
                    - *sample
                -
                  fill: "fill"
                  by: 
                    - *perspective
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_huji
                - 
                  variable: *topic
                  value: *top_number_score_mean_ma
                -
                  x: "x"
                  from: *sample
                -
                  fill: "groupby"
                  by:
                    - *scope
                    - *sample
                -
                  fill: "fill"
                  by: *perspective

            derivative: 
              group: "groupby"
              key: *key
              keep:
                - "x"
                - "fill"
                - "groupby"
                
            aes:
              -  
                arg: "ymin"
                var: *stat_quantile_key_bottom
              -  
                arg: "lower"
                var: *stat_quantile_key_lower
              -  
                arg: "middle"
                var: *stat_quantile_key_median
              -  
                arg: "upper"
                var: *stat_quantile_key_upper
              -  
                arg: "ymax"
                var: *stat_quantile_key_top
              -  
                arg: "mean"
                var: *key_score_mean
            order:
              - 
                var: "x"
                list: *order_prov_coun_acad_gen_hu
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_box
            legend: *plot_legend_top
            label:
              xlab: *xlab_prov_coun_acad_gen_hu
              ylab: "标准分"
            #axisy:
            #  continuous_limits:
            #    - 0
            #    - 800
            #  ylim:
            #    - 0
            #    - 800

        number.bar.province.county.school.ma: 
          fig.name: "各学校学生在“数与代数”各水平上的人数比例"
          entry: "number.bar.province.county.school.ma"
          ext.tex: ".tex"
          ext.fig: ".pdf"
          fig.limit: *plot_multi_fig_limit
          x.leader: *leader_prov_coun
          
          data:
            digits: *plot_data_digits
            county.filter:  TRUE
          
            filter:
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_number_score_level_ma
            aes:
              - 
                arg: "x"
                var: *scope
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            sort:
              -
                var: "x"
                variable: *key
                option: "A"
                value: *value
                asc_desc: "DESC"
          ggplot:
            width: *plot_multi_fig_width
            height: *plot_multi_fig_height
            geom: *plot_bar_stacking
            legend: *plot_legend_top
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "百分数（%）"
            axisx:
              text_angle: 90
              text_size: *plot_multi_fig_lab_size

        number.box.province.county.school.ma: 
          fig.name: "各学校学生在“数与代数”上的得分分布"
          entry: "number.box.province.county.school.ma"
          ext.tex: ".tex"
          ext.fig: ".pdf"
          fig.limit: *plot_multi_fig_limit
          x.leader: *leader_prov_coun
          
          data:
            digits: *plot_data_digits
            county.filter:  TRUE
            filter:
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_number_score_quantile_ma
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_number_score_mean_ma
            derivative: 
              group: *scope
              key: *key
              keep:
                - *scope
                - *tier
                - *perspective
            aes:
              - 
                arg: "x"
                var: *scope
              -  
                arg: "ymin"
                var: *stat_quantile_key_bottom
              -  
                arg: "lower"
                var: *stat_quantile_key_lower
              -  
                arg: "middle"
                var: *stat_quantile_key_median
              -  
                arg: "upper"
                var: *stat_quantile_key_upper
              -  
                arg: "ymax"
                var: *stat_quantile_key_top
              -  
                arg: "fill"
                var: *tier
              -  
                arg: "mean"
                var: *key_score_mean
            sort:
              -
                var: "x"
                #variable: *perspective
                #option: *per_total
                value: "middle"
                asc_desc: "DESC"
          ggplot:
            width: *plot_multi_fig_width
            height: *plot_multi_fig_height
            geom: *plot_box
            legend: *plot_legend_top
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "标准分"
            axisx:
              text_angle: 90
              text_size: *plot_multi_fig_lab_size

        space.bar.perspective.ma: 
          fig.name: "不同群体学生在“图形与几何”各水平上的人数比例"
          data:
            digits: *plot_data_digits
            filter:
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_space_score_level_ma
                -
                  x: "x"
                  from: *scope
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *top_space_score_level_ma
                -
                  x: "x"
                  from: *sample
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_gender
                - 
                  variable: *topic
                  value: *top_space_score_level_ma
                -
                  x: "x"
                  from:  *sample
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_huji
                - 
                  variable: *topic
                  value: *top_space_score_level_ma
                -
                  x: "x"
                  from: *sample
            aes:
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            order:
              -
                var: "x"
                list: *order_prov_coun_acad_gen_hu
              
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_stacking 
            legend: *plot_legend_top
            bar:
              width: *plot_bar_width
            label:
              xlab: *xlab_prov_coun_acad_gen_hu
              ylab: "百分数（%）"

        space.box.perspective.ma: 
          fig.name: "不同群体学生在“图形与几何”上的得分分布"
          data:
            digits: *plot_data_digits
            filter:
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_space_score_quantile_ma
                -
                  x: "x"
                  from: *scope
                -
                  fill: "groupby"
                  by:
                    - *scope                  
                - 
                  fill: "fill"
                  by:
                    - *scope
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_space_score_mean_ma
                -
                  x: "x"
                  from: *scope
                -
                  fill: "groupby"
                  by:
                    - *scope
                    - *sample
                -
                  fill: "fill"
                  by: 
                    - *scope

              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *top_space_score_quantile_ma
                -
                  x: "x"
                  from: *sample
                -
                  fill: "groupby"
                  by:
                    - *scope
                    - *sample
                -
                  fill: "fill"
                  by: 
                    - *perspective
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *top_space_score_mean_ma
                -
                  x: "x"
                  from: *sample
                -
                  fill: "groupby"
                  by:
                    - *scope
                    - *sample
                -
                  fill: "fill"
                  by: 
                    - *perspective
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_gender
                - 
                  variable: *topic
                  value: *top_space_score_quantile_ma
                -
                  x: "x"
                  from: *sample
                -
                  fill: "groupby"
                  by:
                    - *scope
                    - *sample
                -
                  fill: "fill"
                  by: 
                    - *perspective
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_gender
                - 
                  variable: *topic
                  value: *top_space_score_mean_ma
                -
                  x: "x"
                  from: *sample
                -
                  fill: "groupby"
                  by:
                    - *scope
                    - *sample
                -
                  fill: "fill"
                  by: 
                    - *perspective
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_huji
                - 
                  variable: *topic
                  value: *top_space_score_quantile_ma
                -
                  x: "x"
                  from: *sample
                -
                  fill: "groupby"
                  by:
                    - *scope
                    - *sample
                -
                  fill: "fill"
                  by: 
                    - *perspective
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_huji
                - 
                  variable: *topic
                  value: *top_space_score_mean_ma
                -
                  x: "x"
                  from: *sample
                -
                  fill: "groupby"
                  by:
                    - *scope
                    - *sample
                -
                  fill: "fill"
                  by: *perspective

            derivative: 
              group: "groupby"
              key: *key
              keep:
                - "x"
                - "fill"
                - "groupby"
                
            aes:
              -  
                arg: "ymin"
                var: *stat_quantile_key_bottom
              -  
                arg: "lower"
                var: *stat_quantile_key_lower
              -  
                arg: "middle"
                var: *stat_quantile_key_median
              -  
                arg: "upper"
                var: *stat_quantile_key_upper
              -  
                arg: "ymax"
                var: *stat_quantile_key_top
              -  
                arg: "mean"
                var: *key_score_mean
            order:
              - 
                var: "x"
                list: *order_prov_coun_acad_gen_hu
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_box
            legend: *plot_legend_top
            label:
              xlab: *xlab_prov_coun_acad_gen_hu
              ylab: "标准分"
            #axisy:
            #  continuous_limits:
            #    - 0
            #    - 800
            #  ylim:
            #    - 0
            #    - 800

        space.bar.province.county.school.ma: 
          fig.name: "各学校学生在“图形与几何”各水平上的人数比例"
          entry: "space.bar.province.county.school.ma"
          ext.tex: ".tex"
          ext.fig: ".pdf"
          fig.limit: *plot_multi_fig_limit
          x.leader: *leader_prov_coun
          
          data:
            digits: *plot_data_digits
            county.filter:  TRUE
          
            filter:
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_space_score_level_ma
            aes:
              - 
                arg: "x"
                var: *scope
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            sort:
              -
                var: "x"
                variable: *key
                option: "A"
                value: *value
                asc_desc: "DESC"
          ggplot:
            width: *plot_multi_fig_width
            height: *plot_multi_fig_height
            geom: *plot_bar_stacking
            legend: *plot_legend_top
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "百分数（%）"
            axisx:
              text_angle: 90
              text_size: *plot_multi_fig_lab_size

        space.box.province.county.school.ma: 
          fig.name: "各学校学生在“图形与几何”上的得分分布"
          entry: "space.box.province.county.school.ma"
          ext.tex: ".tex"
          ext.fig: ".pdf"
          fig.limit: *plot_multi_fig_limit
          x.leader: *leader_prov_coun
          
          data:
            digits: *plot_data_digits
            county.filter:  TRUE
            filter:
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_space_score_quantile_ma
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_space_score_mean_ma
            derivative: 
              group: *scope
              key: *key
              keep:
                - *scope
                - *tier
                - *perspective
            aes:
              - 
                arg: "x"
                var: *scope
              -  
                arg: "ymin"
                var: *stat_quantile_key_bottom
              -  
                arg: "lower"
                var: *stat_quantile_key_lower
              -  
                arg: "middle"
                var: *stat_quantile_key_median
              -  
                arg: "upper"
                var: *stat_quantile_key_upper
              -  
                arg: "ymax"
                var: *stat_quantile_key_top
              -  
                arg: "fill"
                var: *tier
              -  
                arg: "mean"
                var: *key_score_mean
            sort:
              -
                var: "x"
                #variable: *perspective
                #option: *per_total
                value: "middle"
                asc_desc: "DESC"
          ggplot:
            width: *plot_multi_fig_width
            height: *plot_multi_fig_height
            geom: *plot_box
            legend: *plot_legend_top
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "标准分"
            axisx:
              text_angle: 90
              text_size: *plot_multi_fig_lab_size

        statistics.bar.perspective.ma: 
          fig.name: "不同群体学生在“统计与概率”各水平上的人数比例"
          data:
            digits: *plot_data_digits
            filter:
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_statistics_score_level_ma
                -
                  x: "x"
                  from: *scope
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *top_statistics_score_level_ma
                -
                  x: "x"
                  from: *sample
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_gender
                - 
                  variable: *topic
                  value: *top_statistics_score_level_ma
                -
                  x: "x"
                  from:  *sample
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_huji
                - 
                  variable: *topic
                  value: *top_statistics_score_level_ma
                -
                  x: "x"
                  from: *sample
            aes:
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            order:
              -
                var: "x"
                list: *order_prov_coun_acad_gen_hu
              
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_stacking 
            legend: *plot_legend_top
            bar:
              width: *plot_bar_width
            label:
              xlab: *xlab_prov_coun_acad_gen_hu
              ylab: "百分数（%）"

        statistics.box.perspective.ma: 
          fig.name: "不同群体学生在“统计与概率”上的得分分布"
          data:
            digits: *plot_data_digits
            filter:
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_statistics_score_quantile_ma
                -
                  x: "x"
                  from: *scope
                -
                  fill: "groupby"
                  by:
                    - *scope                  
                - 
                  fill: "fill"
                  by:
                    - *scope
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_statistics_score_mean_ma
                -
                  x: "x"
                  from: *scope
                -
                  fill: "groupby"
                  by:
                    - *scope
                    - *sample
                -
                  fill: "fill"
                  by: 
                    - *scope

              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *top_statistics_score_quantile_ma
                -
                  x: "x"
                  from: *sample
                -
                  fill: "groupby"
                  by:
                    - *scope
                    - *sample
                -
                  fill: "fill"
                  by: 
                    - *perspective
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *top_statistics_score_mean_ma
                -
                  x: "x"
                  from: *sample
                -
                  fill: "groupby"
                  by:
                    - *scope
                    - *sample
                -
                  fill: "fill"
                  by: 
                    - *perspective
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_gender
                - 
                  variable: *topic
                  value: *top_statistics_score_quantile_ma
                -
                  x: "x"
                  from: *sample
                -
                  fill: "groupby"
                  by:
                    - *scope
                    - *sample
                -
                  fill: "fill"
                  by: 
                    - *perspective
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_gender
                - 
                  variable: *topic
                  value: *top_statistics_score_mean_ma
                -
                  x: "x"
                  from: *sample
                -
                  fill: "groupby"
                  by:
                    - *scope
                    - *sample
                -
                  fill: "fill"
                  by: 
                    - *perspective
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_huji
                - 
                  variable: *topic
                  value: *top_statistics_score_quantile_ma
                -
                  x: "x"
                  from: *sample
                -
                  fill: "groupby"
                  by:
                    - *scope
                    - *sample
                -
                  fill: "fill"
                  by: 
                    - *perspective
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_huji
                - 
                  variable: *topic
                  value: *top_statistics_score_mean_ma
                -
                  x: "x"
                  from: *sample
                -
                  fill: "groupby"
                  by:
                    - *scope
                    - *sample
                -
                  fill: "fill"
                  by: *perspective

            derivative: 
              group: "groupby"
              key: *key
              keep:
                - "x"
                - "fill"
                - "groupby"
                
            aes:
              -  
                arg: "ymin"
                var: *stat_quantile_key_bottom
              -  
                arg: "lower"
                var: *stat_quantile_key_lower
              -  
                arg: "middle"
                var: *stat_quantile_key_median
              -  
                arg: "upper"
                var: *stat_quantile_key_upper
              -  
                arg: "ymax"
                var: *stat_quantile_key_top
              -  
                arg: "mean"
                var: *key_score_mean
            order:
              - 
                var: "x"
                list: *order_prov_coun_acad_gen_hu
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_box
            legend: *plot_legend_top
            label:
              xlab: *xlab_prov_coun_acad_gen_hu
              ylab: "标准分"
            #axisy:
            #  continuous_limits:
            #    - 0
            #    - 800
            #  ylim:
            #    - 0
            #    - 800

        statistics.bar.province.county.school.ma: 
          fig.name: "各学校学生在“统计与概率”各水平上的人数比例"
          entry: "statistics.bar.province.county.school.ma"
          ext.tex: ".tex"
          ext.fig: ".pdf"
          fig.limit: *plot_multi_fig_limit
          x.leader: *leader_prov_coun
          
          data:
            digits: *plot_data_digits
            county.filter:  TRUE
          
            filter:
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_statistics_score_level_ma
            aes:
              - 
                arg: "x"
                var: *scope
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            sort:
              -
                var: "x"
                variable: *key
                option: "A"
                value: *value
                asc_desc: "DESC"
          ggplot:
            width: *plot_multi_fig_width
            height: *plot_multi_fig_height
            geom: *plot_bar_stacking
            legend: *plot_legend_top
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "百分数（%）"
            axisx:
              text_angle: 90
              text_size: *plot_multi_fig_lab_size

        statistics.box.province.county.school.ma: 
          fig.name: "各学校学生在“统计与概率”上的得分分布"
          entry: "statistics.box.province.county.school.ma"
          ext.tex: ".tex"
          ext.fig: ".pdf"
          fig.limit: *plot_multi_fig_limit
          x.leader: *leader_prov_coun
          
          data:
            digits: *plot_data_digits
            county.filter:  TRUE
            filter:
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_statistics_score_quantile_ma
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_statistics_score_mean_ma
            derivative: 
              group: *scope
              key: *key
              keep:
                - *scope
                - *tier
                - *perspective
            aes:
              - 
                arg: "x"
                var: *scope
              -  
                arg: "ymin"
                var: *stat_quantile_key_bottom
              -  
                arg: "lower"
                var: *stat_quantile_key_lower
              -  
                arg: "middle"
                var: *stat_quantile_key_median
              -  
                arg: "upper"
                var: *stat_quantile_key_upper
              -  
                arg: "ymax"
                var: *stat_quantile_key_top
              -  
                arg: "fill"
                var: *tier
              -  
                arg: "mean"
                var: *key_score_mean
            sort:
              -
                var: "x"
                #variable: *perspective
                #option: *per_total
                value: "middle"
                asc_desc: "DESC"
          ggplot:
            width: *plot_multi_fig_width
            height: *plot_multi_fig_height
            geom: *plot_box
            legend: *plot_legend_top
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "标准分"
            axisx:
              text_angle: 90
              text_size: *plot_multi_fig_lab_size

        skill.bar.perspective.ma: 
          fig.name: "不同群体学生在“知识技能”各水平上的人数比例"
          data:
            digits: *plot_data_digits
            filter:
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_skill_score_level_ma
                -
                  x: "x"
                  from: *scope
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *top_skill_score_level_ma
                -
                  x: "x"
                  from: *sample
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_gender
                - 
                  variable: *topic
                  value: *top_skill_score_level_ma
                -
                  x: "x"
                  from:  *sample
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_huji
                - 
                  variable: *topic
                  value: *top_skill_score_level_ma
                -
                  x: "x"
                  from: *sample
            aes:
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            order:
              -
                var: "x"
                list: *order_prov_coun_acad_gen_hu
              
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_stacking 
            legend: *plot_legend_top
            bar:
              width: *plot_bar_width
            label:
              xlab: *xlab_prov_coun_acad_gen_hu
              ylab: "百分数（%）"

        skill.box.perspective.ma: 
          fig.name: "不同群体学生在“知识技能”上的得分分布"
          data:
            digits: *plot_data_digits
            filter:
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_skill_score_quantile_ma
                -
                  x: "x"
                  from: *scope
                -
                  fill: "groupby"
                  by:
                    - *scope                  
                - 
                  fill: "fill"
                  by:
                    - *scope
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_skill_score_mean_ma
                -
                  x: "x"
                  from: *scope
                -
                  fill: "groupby"
                  by:
                    - *scope
                    - *sample
                -
                  fill: "fill"
                  by: 
                    - *scope

              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *top_skill_score_quantile_ma
                -
                  x: "x"
                  from: *sample
                -
                  fill: "groupby"
                  by:
                    - *scope
                    - *sample
                -
                  fill: "fill"
                  by: 
                    - *perspective
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *top_skill_score_mean_ma
                -
                  x: "x"
                  from: *sample
                -
                  fill: "groupby"
                  by:
                    - *scope
                    - *sample
                -
                  fill: "fill"
                  by: 
                    - *perspective
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_gender
                - 
                  variable: *topic
                  value: *top_skill_score_quantile_ma
                -
                  x: "x"
                  from: *sample
                -
                  fill: "groupby"
                  by:
                    - *scope
                    - *sample
                -
                  fill: "fill"
                  by: 
                    - *perspective
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_gender
                - 
                  variable: *topic
                  value: *top_skill_score_mean_ma
                -
                  x: "x"
                  from: *sample
                -
                  fill: "groupby"
                  by:
                    - *scope
                    - *sample
                -
                  fill: "fill"
                  by: 
                    - *perspective
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_huji
                - 
                  variable: *topic
                  value: *top_skill_score_quantile_ma
                -
                  x: "x"
                  from: *sample
                -
                  fill: "groupby"
                  by:
                    - *scope
                    - *sample
                -
                  fill: "fill"
                  by: 
                    - *perspective
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_huji
                - 
                  variable: *topic
                  value: *top_skill_score_mean_ma
                -
                  x: "x"
                  from: *sample
                -
                  fill: "groupby"
                  by:
                    - *scope
                    - *sample
                -
                  fill: "fill"
                  by: *perspective

            derivative: 
              group: "groupby"
              key: *key
              keep:
                - "x"
                - "fill"
                - "groupby"
                
            aes:
              -  
                arg: "ymin"
                var: *stat_quantile_key_bottom
              -  
                arg: "lower"
                var: *stat_quantile_key_lower
              -  
                arg: "middle"
                var: *stat_quantile_key_median
              -  
                arg: "upper"
                var: *stat_quantile_key_upper
              -  
                arg: "ymax"
                var: *stat_quantile_key_top
              -  
                arg: "mean"
                var: *key_score_mean
            order:
              - 
                var: "x"
                list: *order_prov_coun_acad_gen_hu
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_box
            legend: *plot_legend_top
            label:
              xlab: *xlab_prov_coun_acad_gen_hu
              ylab: "标准分"
            #axisy:
            #  continuous_limits:
            #    - 0
            #    - 800
            #  ylim:
            #    - 0
            #    - 800

        skill.bar.province.county.school.ma: 
          fig.name: "各学校学生在“知识技能”各水平上的人数比例"
          entry: "skill.bar.province.county.school.ma"
          ext.tex: ".tex"
          ext.fig: ".pdf"
          fig.limit: *plot_multi_fig_limit
          x.leader: *leader_prov_coun
          
          data:
            digits: *plot_data_digits
            county.filter:  TRUE
          
            filter:
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_skill_score_level_ma
            aes:
              - 
                arg: "x"
                var: *scope
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            sort:
              -
                var: "x"
                variable: *key
                option: "A"
                value: *value
                asc_desc: "DESC"
          ggplot:
            width: *plot_multi_fig_width
            height: *plot_multi_fig_height
            geom: *plot_bar_stacking
            legend: *plot_legend_top
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "百分数（%）"
            axisx:
              text_angle: 90
              text_size: *plot_multi_fig_lab_size

        skill.box.province.county.school.ma: 
          fig.name: "各学校学生在“知识技能”上的得分分布"
          entry: "skill.box.province.county.school.ma"
          ext.tex: ".tex"
          ext.fig: ".pdf"
          fig.limit: *plot_multi_fig_limit
          x.leader: *leader_prov_coun
          
          data:
            digits: *plot_data_digits
            county.filter:  TRUE
            filter:
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_skill_score_quantile_ma
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_skill_score_mean_ma
            derivative: 
              group: *scope
              key: *key
              keep:
                - *scope
                - *tier
                - *perspective
            aes:
              - 
                arg: "x"
                var: *scope
              -  
                arg: "ymin"
                var: *stat_quantile_key_bottom
              -  
                arg: "lower"
                var: *stat_quantile_key_lower
              -  
                arg: "middle"
                var: *stat_quantile_key_median
              -  
                arg: "upper"
                var: *stat_quantile_key_upper
              -  
                arg: "ymax"
                var: *stat_quantile_key_top
              -  
                arg: "fill"
                var: *tier
              -  
                arg: "mean"
                var: *key_score_mean
            sort:
              -
                var: "x"
                #variable: *perspective
                #option: *per_total
                value: "middle"
                asc_desc: "DESC"
          ggplot:
            width: *plot_multi_fig_width
            height: *plot_multi_fig_height
            geom: *plot_box
            legend: *plot_legend_top
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "标准分"
            axisx:
              text_angle: 90
              text_size: *plot_multi_fig_lab_size

        concept.bar.perspective.ma: 
          fig.name: "不同群体学生在“数学理解”各水平上的人数比例"
          data:
            digits: *plot_data_digits
            filter:
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_concept_score_level_ma
                -
                  x: "x"
                  from: *scope
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *top_concept_score_level_ma
                -
                  x: "x"
                  from: *sample
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_gender
                - 
                  variable: *topic
                  value: *top_concept_score_level_ma
                -
                  x: "x"
                  from:  *sample
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_huji
                - 
                  variable: *topic
                  value: *top_concept_score_level_ma
                -
                  x: "x"
                  from: *sample
            aes:
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            order:
              -
                var: "x"
                list: *order_prov_coun_acad_gen_hu
              
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_stacking 
            legend: *plot_legend_top
            bar:
              width: *plot_bar_width
            label:
              xlab: *xlab_prov_coun_acad_gen_hu
              ylab: "百分数（%）"

        concept.box.perspective.ma: 
          fig.name: "不同群体学生在“数学理解”上的得分分布"
          data:
            digits: *plot_data_digits
            filter:
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_concept_score_quantile_ma
                -
                  x: "x"
                  from: *scope
                -
                  fill: "groupby"
                  by:
                    - *scope                  
                - 
                  fill: "fill"
                  by:
                    - *scope
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_concept_score_mean_ma
                -
                  x: "x"
                  from: *scope
                -
                  fill: "groupby"
                  by:
                    - *scope
                    - *sample
                -
                  fill: "fill"
                  by: 
                    - *scope

              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *top_concept_score_quantile_ma
                -
                  x: "x"
                  from: *sample
                -
                  fill: "groupby"
                  by:
                    - *scope
                    - *sample
                -
                  fill: "fill"
                  by: 
                    - *perspective
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *top_skill_score_mean_ma
                -
                  x: "x"
                  from: *sample
                -
                  fill: "groupby"
                  by:
                    - *scope
                    - *sample
                -
                  fill: "fill"
                  by: 
                    - *perspective
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_gender
                - 
                  variable: *topic
                  value: *top_concept_score_quantile_ma
                -
                  x: "x"
                  from: *sample
                -
                  fill: "groupby"
                  by:
                    - *scope
                    - *sample
                -
                  fill: "fill"
                  by: 
                    - *perspective
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_gender
                - 
                  variable: *topic
                  value: *top_concept_score_mean_ma
                -
                  x: "x"
                  from: *sample
                -
                  fill: "groupby"
                  by:
                    - *scope
                    - *sample
                -
                  fill: "fill"
                  by: 
                    - *perspective
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_huji
                - 
                  variable: *topic
                  value: *top_concept_score_quantile_ma
                -
                  x: "x"
                  from: *sample
                -
                  fill: "groupby"
                  by:
                    - *scope
                    - *sample
                -
                  fill: "fill"
                  by: 
                    - *perspective
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_huji
                - 
                  variable: *topic
                  value: *top_concept_score_mean_ma
                -
                  x: "x"
                  from: *sample
                -
                  fill: "groupby"
                  by:
                    - *scope
                    - *sample
                -
                  fill: "fill"
                  by: *perspective

            derivative: 
              group: "groupby"
              key: *key
              keep:
                - "x"
                - "fill"
                - "groupby"
                
            aes:
              -  
                arg: "ymin"
                var: *stat_quantile_key_bottom
              -  
                arg: "lower"
                var: *stat_quantile_key_lower
              -  
                arg: "middle"
                var: *stat_quantile_key_median
              -  
                arg: "upper"
                var: *stat_quantile_key_upper
              -  
                arg: "ymax"
                var: *stat_quantile_key_top
              -  
                arg: "mean"
                var: *key_score_mean
            order:
              - 
                var: "x"
                list: *order_prov_coun_acad_gen_hu
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_box
            legend: *plot_legend_top
            label:
              xlab: *xlab_prov_coun_acad_gen_hu
              ylab: "标准分"
            #axisy:
            #  continuous_limits:
            #    - 0
            #    - 800
            #  ylim:
            #    - 0
            #    - 800

        concept.bar.province.county.school.ma: 
          fig.name: "各学校学生在“数学理解”各水平上的人数比例"
          entry: "concept.bar.province.county.school.ma"
          ext.tex: ".tex"
          ext.fig: ".pdf"
          fig.limit: *plot_multi_fig_limit
          x.leader: *leader_prov_coun
          
          data:
            digits: *plot_data_digits
            county.filter:  TRUE
          
            filter:
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_concept_score_level_ma
            aes:
              - 
                arg: "x"
                var: *scope
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            sort:
              -
                var: "x"
                variable: *key
                option: "A"
                value: *value
                asc_desc: "DESC"
          ggplot:
            width: *plot_multi_fig_width
            height: *plot_multi_fig_height
            geom: *plot_bar_stacking
            legend: *plot_legend_top
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "百分数（%）"
            axisx:
              text_angle: 90
              text_size: *plot_multi_fig_lab_size

        concept.box.province.county.school.ma: 
          fig.name: "各学校学生在“数学理解”上的得分分布"
          entry: "concept.box.province.county.school.ma"
          ext.tex: ".tex"
          ext.fig: ".pdf"
          fig.limit: *plot_multi_fig_limit
          x.leader: *leader_prov_coun
          
          data:
            digits: *plot_data_digits
            county.filter:  TRUE
            filter:
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_concept_score_quantile_ma
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_concept_score_mean_ma
            derivative: 
              group: *scope
              key: *key
              keep:
                - *scope
                - *tier
                - *perspective
            aes:
              - 
                arg: "x"
                var: *scope
              -  
                arg: "ymin"
                var: *stat_quantile_key_bottom
              -  
                arg: "lower"
                var: *stat_quantile_key_lower
              -  
                arg: "middle"
                var: *stat_quantile_key_median
              -  
                arg: "upper"
                var: *stat_quantile_key_upper
              -  
                arg: "ymax"
                var: *stat_quantile_key_top
              -  
                arg: "fill"
                var: *tier
              -  
                arg: "mean"
                var: *key_score_mean
            sort:
              -
                var: "x"
                #variable: *perspective
                #option: *per_total
                value: "middle"
                asc_desc: "DESC"
          ggplot:
            width: *plot_multi_fig_width
            height: *plot_multi_fig_height
            geom: *plot_box
            legend: *plot_legend_top
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "标准分"
            axisx:
              text_angle: 90
              text_size: *plot_multi_fig_lab_size

        apply.bar.perspective.ma: 
          fig.name: "不同群体学生在“规则应用”各水平上的人数比例"
          data:
            digits: *plot_data_digits
            filter:
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_apply_score_level_ma
                -
                  x: "x"
                  from: *scope
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *top_apply_score_level_ma
                -
                  x: "x"
                  from: *sample
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_gender
                - 
                  variable: *topic
                  value: *top_apply_score_level_ma
                -
                  x: "x"
                  from:  *sample
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_huji
                - 
                  variable: *topic
                  value: *top_apply_score_level_ma
                -
                  x: "x"
                  from: *sample
            aes:
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            order:
              -
                var: "x"
                list: *order_prov_coun_acad_gen_hu
              
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_stacking 
            legend: *plot_legend_top
            bar:
              width: *plot_bar_width
            label:
              xlab: *xlab_prov_coun_acad_gen_hu
              ylab: "百分数（%）"

        apply.box.perspective.ma: 
          fig.name: "不同群体学生在“规则应用”上的得分分布"
          data:
            digits: *plot_data_digits
            filter:
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_apply_score_quantile_ma
                -
                  x: "x"
                  from: *scope
                -
                  fill: "groupby"
                  by:
                    - *scope                  
                - 
                  fill: "fill"
                  by:
                    - *scope
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_apply_score_mean_ma
                -
                  x: "x"
                  from: *scope
                -
                  fill: "groupby"
                  by:
                    - *scope
                    - *sample
                -
                  fill: "fill"
                  by: 
                    - *scope

              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *top_apply_score_quantile_ma
                -
                  x: "x"
                  from: *sample
                -
                  fill: "groupby"
                  by:
                    - *scope
                    - *sample
                -
                  fill: "fill"
                  by: 
                    - *perspective
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *top_apply_score_mean_ma
                -
                  x: "x"
                  from: *sample
                -
                  fill: "groupby"
                  by:
                    - *scope
                    - *sample
                -
                  fill: "fill"
                  by: 
                    - *perspective
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_gender
                - 
                  variable: *topic
                  value: *top_apply_score_quantile_ma
                -
                  x: "x"
                  from: *sample
                -
                  fill: "groupby"
                  by:
                    - *scope
                    - *sample
                -
                  fill: "fill"
                  by: 
                    - *perspective
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_gender
                - 
                  variable: *topic
                  value: *top_apply_score_mean_ma
                -
                  x: "x"
                  from: *sample
                -
                  fill: "groupby"
                  by:
                    - *scope
                    - *sample
                -
                  fill: "fill"
                  by: 
                    - *perspective
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_huji
                - 
                  variable: *topic
                  value: *top_apply_score_quantile_ma
                -
                  x: "x"
                  from: *sample
                -
                  fill: "groupby"
                  by:
                    - *scope
                    - *sample
                -
                  fill: "fill"
                  by: 
                    - *perspective
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_huji
                - 
                  variable: *topic
                  value: *top_apply_score_mean_ma
                -
                  x: "x"
                  from: *sample
                -
                  fill: "groupby"
                  by:
                    - *scope
                    - *sample
                -
                  fill: "fill"
                  by: *perspective

            derivative: 
              group: "groupby"
              key: *key
              keep:
                - "x"
                - "fill"
                - "groupby"
                
            aes:
              -  
                arg: "ymin"
                var: *stat_quantile_key_bottom
              -  
                arg: "lower"
                var: *stat_quantile_key_lower
              -  
                arg: "middle"
                var: *stat_quantile_key_median
              -  
                arg: "upper"
                var: *stat_quantile_key_upper
              -  
                arg: "ymax"
                var: *stat_quantile_key_top
              -  
                arg: "mean"
                var: *key_score_mean
            order:
              - 
                var: "x"
                list: *order_prov_coun_acad_gen_hu
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_box
            legend: *plot_legend_top
            label:
              xlab: *xlab_prov_coun_acad_gen_hu
              ylab: "标准分"
            #axisy:
            #  continuous_limits:
            #    - 0
            #    - 800
            #  ylim:
            #    - 0
            #    - 800

        apply.bar.province.county.school.ma: 
          fig.name: "各学校学生在“规则应用”各水平上的人数比例"
          entry: "apply.bar.province.county.school.ma"
          ext.tex: ".tex"
          ext.fig: ".pdf"
          fig.limit: *plot_multi_fig_limit
          x.leader: *leader_prov_coun
          
          data:
            digits: *plot_data_digits
            county.filter:  TRUE
          
            filter:
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_apply_score_level_ma
            aes:
              - 
                arg: "x"
                var: *scope
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            sort:
              -
                var: "x"
                variable: *key
                option: "A"
                value: *value
                asc_desc: "DESC"
          ggplot:
            width: *plot_multi_fig_width
            height: *plot_multi_fig_height
            geom: *plot_bar_stacking
            legend: *plot_legend_top
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "百分数（%）"
            axisx:
              text_angle: 90
              text_size: *plot_multi_fig_lab_size

        apply.box.province.county.school.ma: 
          fig.name: "各学校学生在“规则应用”上的得分分布"
          entry: "apply.box.province.county.school.ma"
          ext.tex: ".tex"
          ext.fig: ".pdf"
          fig.limit: *plot_multi_fig_limit
          x.leader: *leader_prov_coun
          
          data:
            digits: *plot_data_digits
            county.filter:  TRUE
            filter:
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_apply_score_quantile_ma
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_apply_score_mean_ma
            derivative: 
              group: *scope
              key: *key
              keep:
                - *scope
                - *tier
                - *perspective
            aes:
              - 
                arg: "x"
                var: *scope
              -  
                arg: "ymin"
                var: *stat_quantile_key_bottom
              -  
                arg: "lower"
                var: *stat_quantile_key_lower
              -  
                arg: "middle"
                var: *stat_quantile_key_median
              -  
                arg: "upper"
                var: *stat_quantile_key_upper
              -  
                arg: "ymax"
                var: *stat_quantile_key_top
              -  
                arg: "fill"
                var: *tier
              -  
                arg: "mean"
                var: *key_score_mean
            sort:
              -
                var: "x"
                #variable: *perspective
                #option: *per_total
                value: "middle"
                asc_desc: "DESC"
          ggplot:
            width: *plot_multi_fig_width
            height: *plot_multi_fig_height
            geom: *plot_box
            legend: *plot_legend_top
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "标准分"
            axisx:
              text_angle: 90
              text_size: *plot_multi_fig_lab_size

        problem.bar.perspective.ma: 
          fig.name: "不同群体学生在“问题解决”各水平上的人数比例"
          data:
            digits: *plot_data_digits
            filter:
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_problem_score_level_ma
                -
                  x: "x"
                  from: *scope
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *top_problem_score_level_ma
                -
                  x: "x"
                  from: *sample
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_gender
                - 
                  variable: *topic
                  value: *top_problem_score_level_ma
                -
                  x: "x"
                  from:  *sample
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_huji
                - 
                  variable: *topic
                  value: *top_problem_score_level_ma
                -
                  x: "x"
                  from: *sample
            aes:
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            order:
              -
                var: "x"
                list: *order_prov_coun_acad_gen_hu
              
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_stacking 
            legend: *plot_legend_top
            bar:
              width: *plot_bar_width
            label:
              xlab: *xlab_prov_coun_acad_gen_hu
              ylab: "百分数（%）"

        problem.box.perspective.ma: 
          fig.name: "不同群体学生在“问题解决”上的得分分布"
          data:
            digits: *plot_data_digits
            filter:
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_problem_score_quantile_ma
                -
                  x: "x"
                  from: *scope
                -
                  fill: "groupby"
                  by:
                    - *scope                  
                - 
                  fill: "fill"
                  by:
                    - *scope
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_problem_score_mean_ma
                -
                  x: "x"
                  from: *scope
                -
                  fill: "groupby"
                  by:
                    - *scope
                    - *sample
                -
                  fill: "fill"
                  by: 
                    - *scope

              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *top_problem_score_quantile_ma
                -
                  x: "x"
                  from: *sample
                -
                  fill: "groupby"
                  by:
                    - *scope
                    - *sample
                -
                  fill: "fill"
                  by: 
                    - *perspective
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *topic
                  value: *top_problem_score_mean_ma
                -
                  x: "x"
                  from: *sample
                -
                  fill: "groupby"
                  by:
                    - *scope
                    - *sample
                -
                  fill: "fill"
                  by: 
                    - *perspective
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_gender
                - 
                  variable: *topic
                  value: *top_problem_score_quantile_ma
                -
                  x: "x"
                  from: *sample
                -
                  fill: "groupby"
                  by:
                    - *scope
                    - *sample
                -
                  fill: "fill"
                  by: 
                    - *perspective
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_gender
                - 
                  variable: *topic
                  value: *top_problem_score_mean_ma
                -
                  x: "x"
                  from: *sample
                -
                  fill: "groupby"
                  by:
                    - *scope
                    - *sample
                -
                  fill: "fill"
                  by: 
                    - *perspective
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_huji
                - 
                  variable: *topic
                  value: *top_problem_score_quantile_ma
                -
                  x: "x"
                  from: *sample
                -
                  fill: "groupby"
                  by:
                    - *scope
                    - *sample
                -
                  fill: "fill"
                  by: 
                    - *perspective
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_huji
                - 
                  variable: *topic
                  value: *top_problem_score_mean_ma
                -
                  x: "x"
                  from: *sample
                -
                  fill: "groupby"
                  by:
                    - *scope
                    - *sample
                -
                  fill: "fill"
                  by: *perspective

            derivative: 
              group: "groupby"
              key: *key
              keep:
                - "x"
                - "fill"
                - "groupby"
                
            aes:
              -  
                arg: "ymin"
                var: *stat_quantile_key_bottom
              -  
                arg: "lower"
                var: *stat_quantile_key_lower
              -  
                arg: "middle"
                var: *stat_quantile_key_median
              -  
                arg: "upper"
                var: *stat_quantile_key_upper
              -  
                arg: "ymax"
                var: *stat_quantile_key_top
              -  
                arg: "mean"
                var: *key_score_mean
            order:
              - 
                var: "x"
                list: *order_prov_coun_acad_gen_hu
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_box
            legend: *plot_legend_top
            label:
              xlab: *xlab_prov_coun_acad_gen_hu
              ylab: "标准分"
            #axisy:
            #  continuous_limits:
            #    - 0
            #    - 800
            #  ylim:
            #    - 0
            #    - 800

        problem.bar.province.county.school.ma: 
          fig.name: "各学校学生在“问题解决”各水平上的人数比例"
          entry: "problem.bar.province.county.school.ma"
          ext.tex: ".tex"
          ext.fig: ".pdf"
          fig.limit: *plot_multi_fig_limit
          x.leader: *leader_prov_coun
          
          data:
            digits: *plot_data_digits
            county.filter:  TRUE
          
            filter:
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_problem_score_level_ma
            aes:
              - 
                arg: "x"
                var: *scope
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            sort:
              -
                var: "x"
                variable: *key
                option: "A"
                value: *value
                asc_desc: "DESC"
          ggplot:
            width: *plot_multi_fig_width
            height: *plot_multi_fig_height
            geom: *plot_bar_stacking
            legend: *plot_legend_top
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "百分数（%）"
            axisx:
              text_angle: 90
              text_size: *plot_multi_fig_lab_size

        problem.box.province.county.school.ma: 
          fig.name: "各学校学生在“问题解决”上的得分分布"
          entry: "problem.box.province.county.school.ma"
          ext.tex: ".tex"
          ext.fig: ".pdf"
          fig.limit: *plot_multi_fig_limit
          x.leader: *leader_prov_coun
          
          data:
            digits: *plot_data_digits
            county.filter:  TRUE
            filter:
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_problem_score_quantile_ma
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_problem_score_mean_ma
            derivative: 
              group: *scope
              key: *key
              keep:
                - *scope
                - *tier
                - *perspective
            aes:
              - 
                arg: "x"
                var: *scope
              -  
                arg: "ymin"
                var: *stat_quantile_key_bottom
              -  
                arg: "lower"
                var: *stat_quantile_key_lower
              -  
                arg: "middle"
                var: *stat_quantile_key_median
              -  
                arg: "upper"
                var: *stat_quantile_key_upper
              -  
                arg: "ymax"
                var: *stat_quantile_key_top
              -  
                arg: "fill"
                var: *tier
              -  
                arg: "mean"
                var: *key_score_mean
            sort:
              -
                var: "x"
                #variable: *perspective
                #option: *per_total
                value: "middle"
                asc_desc: "DESC"
          ggplot:
            width: *plot_multi_fig_width
            height: *plot_multi_fig_height
            geom: *plot_box
            legend: *plot_legend_top
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "标准分"
            axisx:
              text_angle: 90
              text_size: *plot_multi_fig_lab_size



        dom.dim.bar.province.perspective.ma: 
          fig.name: "不同群体学生在“领域／维度”各水平上的人数比例"
          data:
            digits: *plot_data_digits
            filter:
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *domain
                  value: *dom_ma_total      
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *domain
                  value: *dom_ma_total  
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_xinyouzhi
                - 
                  variable: *domain
                  value: *dom_ma_total  
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_gender
                - 
                  variable: *domain
                  value: *dom_ma_total
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_huji
                - 
                  variable: *domain
                  value: *dom_ma_total      
            #keep:
            #  - 
            #    variable: *topic
            #    value: *top_number_score_level_ma
            aes:
              - 
                arg: "x"
                var: *sample
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            order:
              -
                var: "x"
                list: *order_prov_acad_xin_gen_hu
              
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_stacking 
            legend: *plot_legend_top
            bar:
              width: *plot_bar_width
            label:
              xlab: *xlab_prov_acad_xin_gen_hu
              ylab: "百分数（%）"

        dom.dim.box.province.perspective.ma: 
          fig.name: "不同群体学生在“领域／维度”上的得分分布"
          data:
            digits: *plot_data_digits
            filter:
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *domain
                  value: *dom_ma_total
              
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_academicsystem
                - 
                  variable: *domain
                  value: *dom_ma_total
            
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_xinyouzhi
                - 
                  variable: *domain
                  value: *dom_ma_total
              
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_gender
                - 
                  variable: *domain
                  value: *dom_ma_total
              
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_huji
                - 
                  variable: *domain
                  value: *dom_ma_total
            #keep:
            #  -
            #    var: *topic
            #    value: 
            #      - *top_number_score_quantile_ma
            #      - *top_number_score_mean_ma
                
            derivative: 
              group: *sample
              key: *key
              keep:
                - *sample
                - *perspective
            aes:
              - 
                arg: "x"
                var: *sample
              -  
                arg: "ymin"
                var: *stat_quantile_key_bottom
              -  
                arg: "lower"
                var: *stat_quantile_key_lower
              -  
                arg: "middle"
                var: *stat_quantile_key_median
              -  
                arg: "upper"
                var: *stat_quantile_key_upper
              -  
                arg: "ymax"
                var: *stat_quantile_key_top
              -  
                arg: "fill"
                var: *perspective
              -  
                arg: "mean"
                var: *key_score_mean
            order:
              - 
                var: "x"
                list: *order_prov_acad_xin_gen_hu
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_box
            legend: *plot_legend_top
            label:
              xlab: *xlab_prov_acad_xin_gen_hu
              ylab: "标准分"
            #axisy:
            #  continuous_limits:
            #    - 0
            #    - 800
            #  ylim:
            #    - 0
            #    - 800

        dom.dim.bar.province.county.ma: 
          fig.name: "不同区学生在“领域／维度”各水平上的人数比例"
          data:
            digits: *plot_data_digits
            filter:
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *domain
                  value: *dom_ma_total
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *domain
                  value: *dom_ma_total
            #keep:
            #  -
            #    var: *topic
            #    value: 
            #      - *top_number_score_level_ma

            aes:
              - 
                arg: "x"
                var: *scope
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
            order:
              - 
                var: "x"
                list: *order_prov_coun
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_stacking 
            legend: *plot_legend_top
            bar:
              width: 0.6
            label:
              xlab: ""
              ylab: "百分数（%）"

        dom.dim.box.province.county.ma: 
          fig.name: "不同区学生在“领域／维度”上的得分分布"
          data:
            digits: *plot_data_digits
            filter:
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *domain
                  value: *dom_ma_total
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *domain
                  value: *dom_ma_total
              
            #keep:
            #  -
            #    var: *topic
            #    value: 
            #      - *top_number_score_quantile_ma
            #      - *top_number_score_mean_ma

            derivative: 
              group: *scope
              key: *key
              keep:
                - *scope
                - *tier

            aes:
              - 
                arg: "x"
                var: *scope
              -  
                arg: "ymin"
                var: *stat_quantile_key_bottom
              -  
                arg: "lower"
                var: *stat_quantile_key_lower
              -  
                arg: "middle"
                var: *stat_quantile_key_median
              -  
                arg: "upper"
                var: *stat_quantile_key_upper
              -  
                arg: "ymax"
                var: *stat_quantile_key_top
              -  
                arg: "fill"
                var: *tier
              -  
                arg: "mean"
                var: *key_score_mean
            order:
              - 
                var: "x"
                list: *order_prov_coun

          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_box
            legend: *plot_legend_top
            bar:
              width: 0.3
            label:
              xlab: ""
              ylab: "标准分"

        answer.segment.bar.ma: 
          fig.name: "全体学生在题目M3AO011上的作答情况"
          data:
            digits: 1
            filter:
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_county
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_answer
            #keep:
            #    - 
            #      variable: *variable
            #      value: "C3AO011"
            aes:
              - 
                arg: "x"
                var: *key
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_segment  
            text:
              vjust: 0.5
            bar:
              width: *plot_bar_width

            label:
              xlab: ""
              ylab: "百分数（%）"

      param:

        dom.dim.point.rate.table.ma: 
          name: "学生在数学学科“领域／维度”上的平均得分率"
          data:
            digits: 1
            filter:
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_province
                - 
                  variable: *topic
                  value: *top_point_rate
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_county
                - 
                  variable: *topic
                  value: *top_point_rate

        dom.dim.answer.table.ma: 
          name: "学生在数学学科“领域／维度”上的作答情况"
          data:
            digits: 1
            filter:
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_province
                - 
                  variable: *topic
                  value: *top_answer
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_county
                - 
                  variable: *topic
                  value: *top_answer

        
    -
      process: FALSE
      table: "统计指标汇总"
      markdown: "school_report.Rmd"

      year: "2016年度"
      tier: *tier_school
      county: "黄浦区"
      school: "上海市比乐中学"
      
      project: "学业质量"
      subject: ""
      report: "绿色指标综合评价"
      title: ""
      header: "" 

      dir_output: "school/"
      datetime: ""
      file: ""

      pre.render:
        - "pre.render.global.setting"
        - "pre.render.cover.page.sch"
        - "pre.render.head.foot"
        - "pre.render.report.preface.sch"
        - "pre.render.table.of.contents"
        - "pre.render.introduce.subject.sch"
        - "pre.render.introduce.cn.sch"
        - "pre.render.introduce.ma.sch"
        

      plot:
        score.segment.bar.cn: 
          fig.name: "学生总体语文分数分布"
          data:
            digits: *plot_data_digits
            filter:
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_school
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_total_score_segment
            aes:
              - 
                arg: "x"
                var: *key
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_segment  
            text:
              vjust: 0.5
            bar:
              width: *plot_bar_width

            label:
              xlab: "标准分"
              ylab: "百分数（%）"

        score.segment.bar.ma: 
          fig.name: "学生总体数学分数分布"
          data:
            digits: *plot_data_digits
            filter:
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_school
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_total_score_segment
            aes:
              - 
                arg: "x"
                var: *key
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_segment  
            text:
              vjust: 0.5
            bar:
              width: *plot_bar_width

            label:
              xlab: "标准分"
              ylab: "百分数（%）"

        level.bar.subject: 
          fig.name: "学生在语文和数学学科各水平上的人数比例"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_total_score_level
            aes:
              - 
                arg: "x"
                var: "alias"
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
              - 
                arg: "Group"
                var: *subject
            alias:
              arg: "alias"
              var: *scope
            order:
              -
                var: "Group"
                list: *order_subject
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_stacking 
            group:
              variable: *subject
              scales: "fixed"
              position: "bottom"
            legend: *plot_legend_top
            bar:
              width: 0.3
            label:
              xlab: ""
              ylab: "百分数（%）"

        level.bar.dimention.cn: 
          fig.name: "学生在语文学科各能力维度各水平上的人数比例"
          data:
            digits: *plot_data_digits
            filter:
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_jilei_score_level_cn
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_reading_score_level_cn
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_writing_score_level_cn
            aes:
              - 
                arg: "x"
                var: "alias"
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
              -
                arg: "Group"
                var: *dimention
            alias:
              arg: "alias"
              var: *scope
            order:
              - 
                var: "Group"
                list: *order_cn_dim          
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_stacking
            group:
              variable: "Group"
              scales: "fixed"
              position: "bottom" 
            legend: *plot_legend_top
            bar:
              width: *plot_bar_width_thin
            label:
              xlab: ""
              ylab: "百分数（%）"

        score.box.dimention.cn: 
          fig.name: "学生在语文学科各能力维度上的得分分布"
          data:
            digits: *plot_data_digits
            filter:
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_jilei_score_quantile_cn
                -
                  fill: "groupby"
                  by:
                    - *scope
                    - *dimention

              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_jilei_score_mean_cn
                -
                  fill: "groupby"
                  by:
                    - *scope
                    - *dimention
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_reading_score_quantile_cn
                -
                  fill: "groupby"
                  by:
                    - *scope
                    - *dimention
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_reading_score_mean_cn
                -
                  fill: "groupby"
                  by:
                    - *scope
                    - *dimention
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_writing_score_quantile_cn
                -
                  fill: "groupby"
                  by:
                    - *scope
                    - *dimention
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_writing_score_mean_cn
                -
                  fill: "groupby"
                  by:
                    - *scope
                    - *dimention
              
            derivative: 
              group: "groupby"
              key: *key
              keep:
                - *dimention
                #- "groupby"
                - *scope

            alias:
              arg: "alias"
              var: *scope
            aes:
              - 
                arg: "x"
                var: "alias"
              -  
                arg: "ymin"
                var: *stat_quantile_key_bottom
              -  
                arg: "lower"
                var: *stat_quantile_key_lower
              -  
                arg: "middle"
                var: *stat_quantile_key_median
              -  
                arg: "upper"
                var: *stat_quantile_key_upper
              -  
                arg: "ymax"
                var: *stat_quantile_key_top
              -  
                arg: "fill"
                var: *dimention
              -  
                arg: "mean"
                var: *key_score_mean
              -
                arg: "Group"
                var: *dimention
            order:
              - 
                var: "Group"
                list: *order_cn_dim

          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_box
            group:
              variable: "Group"
              scales: "fixed"
              position: "bottom" 
            legend: *plot_legend_top
            box:
              box.width: 0.2
              error.width: 0.05
            label:
              xlab: ""
              ylab: "标准分"
            #axisy:
            #  continuous_limits:
            #    - 0
            #    - 500
            #  ylim:
            #    - 0
            #    - 500

        answer.segment.bar.cn: 
          fig.name: "全体学生在题目C3AO011上的作答情况"
          data:
            digits: 1
            filter:
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_school
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_answer
            #keep:
            #    - 
            #      variable: *variable
            #      value: "C3AO011"
            aes:
              - 
                arg: "x"
                var: *key
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_segment  
            text:
              vjust: 0.5
            bar:
              width: *plot_bar_width

            label:
              xlab: "选项"
              ylab: "百分数（%）"

        level.bar.domain.ma: 
          fig.name: "学生在数学学科各内容维度各水平上的人数比例"
          data:
            digits: *plot_data_digits
            filter:
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_number_score_level_ma
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_space_score_level_ma
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_statistics_score_level_ma
            aes:
              - 
                arg: "x"
                var: "alias"
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
              -
                arg: "Group"
                var: *dimention
            alias:
              arg: "alias"
              var: *scope
            order:
              - 
                var: "Group"
                list: *order_ma_dom          
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_stacking
            group:
              variable: "Group"
              scales: "fixed"
              position: "bottom" 
            legend: *plot_legend_top
            bar:
              width: *plot_bar_width_thin
            label:
              xlab: ""
              ylab: "百分数（%）"

        score.box.domain.ma: 
          fig.name: "学生在数学学科各内容维度上的得分分布"
          data:
            digits: *plot_data_digits
            filter:
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_number_score_quantile_ma
                -
                  fill: "groupby"
                  by:
                    - *scope
                    - *dimention

              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_number_score_mean_ma
                -
                  fill: "groupby"
                  by:
                    - *scope
                    - *dimention
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_space_score_quantile_ma
                -
                  fill: "groupby"
                  by:
                    - *scope
                    - *dimention
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_space_score_mean_ma
                -
                  fill: "groupby"
                  by:
                    - *scope
                    - *dimention
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_statistics_score_quantile_ma
                -
                  fill: "groupby"
                  by:
                    - *scope
                    - *dimention
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_statistics_score_mean_ma
                -
                  fill: "groupby"
                  by:
                    - *scope
                    - *dimention
              
            derivative: 
              group: "groupby"
              key: *key
              keep:
                - *dimention
                #- "groupby"
                - *scope

            alias:
              arg: "alias"
              var: *scope
            aes:
              - 
                arg: "x"
                var: "alias"
              -  
                arg: "ymin"
                var: *stat_quantile_key_bottom
              -  
                arg: "lower"
                var: *stat_quantile_key_lower
              -  
                arg: "middle"
                var: *stat_quantile_key_median
              -  
                arg: "upper"
                var: *stat_quantile_key_upper
              -  
                arg: "ymax"
                var: *stat_quantile_key_top
              -  
                arg: "fill"
                var: *dimention
              -  
                arg: "mean"
                var: *key_score_mean
              -
                arg: "Group"
                var: *dimention
            order:
              - 
                var: "Group"
                list: *order_ma_dom

          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_box
            group:
              variable: "Group"
              scales: "fixed"
              position: "bottom" 
            legend: *plot_legend_top
            box:
              box.width: 0.2
              error.width: 0.05
            label:
              xlab: ""
              ylab: "标准分"
            #axisy:
            #  continuous_limits:
            #    - 0
            #    - 500
            #  ylim:
            #    - 0
            #    - 500

        level.bar.dimention.ma: 
          fig.name: "学生在数学学科各能力维度各水平上的人数比例"
          data:
            digits: *plot_data_digits
            filter:
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_skill_score_level_ma
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_concept_score_level_ma
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_apply_score_level_ma
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_problem_score_level_ma
            aes:
              - 
                arg: "x"
                var: "alias"
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
              -
                arg: "Group"
                var: *dimention
            alias:
              arg: "alias"
              var: *scope
            order:
              - 
                var: "Group"
                list: *order_ma_dim          
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_stacking
            group:
              variable: "Group"
              scales: "fixed"
              position: "bottom" 
            legend: *plot_legend_top
            bar:
              width: *plot_bar_width_thin
            label:
              xlab: ""
              ylab: "百分数（%）"

        score.box.dimention.ma: 
          fig.name: "学生在数学学科各能力维度上的得分分布"
          data:
            digits: *plot_data_digits
            filter:
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_skill_score_quantile_ma
                -
                  fill: "groupby"
                  by:
                    - *scope
                    - *dimention

              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_skill_score_mean_ma
                -
                  fill: "groupby"
                  by:
                    - *scope
                    - *dimention
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_concept_score_quantile_ma
                -
                  fill: "groupby"
                  by:
                    - *scope
                    - *dimention
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_concept_score_mean_ma
                -
                  fill: "groupby"
                  by:
                    - *scope
                    - *dimention
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_apply_score_quantile_ma
                -
                  fill: "groupby"
                  by:
                    - *scope
                    - *dimention
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_apply_score_mean_ma
                -
                  fill: "groupby"
                  by:
                    - *scope
                    - *dimention
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_problem_score_quantile_ma
                -
                  fill: "groupby"
                  by:
                    - *scope
                    - *dimention
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_problem_score_mean_ma
                -
                  fill: "groupby"
                  by:
                    - *scope
                    - *dimention
              
            derivative: 
              group: "groupby"
              key: *key
              keep:
                - *dimention
                #- "groupby"
                - *scope

            alias:
              arg: "alias"
              var: *scope
            aes:
              - 
                arg: "x"
                var: "alias"
              -  
                arg: "ymin"
                var: *stat_quantile_key_bottom
              -  
                arg: "lower"
                var: *stat_quantile_key_lower
              -  
                arg: "middle"
                var: *stat_quantile_key_median
              -  
                arg: "upper"
                var: *stat_quantile_key_upper
              -  
                arg: "ymax"
                var: *stat_quantile_key_top
              -  
                arg: "fill"
                var: *dimention
              -  
                arg: "mean"
                var: *key_score_mean
              -
                arg: "Group"
                var: *dimention
            order:
              - 
                var: "Group"
                list: *order_ma_dim

          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_box
            group:
              variable: "Group"
              scales: "fixed"
              position: "bottom" 
            legend: *plot_legend_top
            box:
              box.width: 0.2
              error.width: 0.05
            label:
              xlab: ""
              ylab: "标准分"
            #axisy:
            #  continuous_limits:
            #    - 0
            #    - 500
            #  ylim:
            #    - 0
            #    - 500

        answer.segment.bar.ma: 
          fig.name: "全体学生在题目M3AO011上的作答情况"
          data:
            digits: 1
            filter:
              -
                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_school
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_answer
            #keep:
            #    - 
            #      variable: *variable
            #      value: "C3AO011"
            aes:
              - 
                arg: "x"
                var: *key
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_segment  
            text:
              vjust: 0.5
            bar:
              width: *plot_bar_width

            label:
              xlab: "选项"
              ylab: "百分数（%）"


        onechild.bar: 
          fig.name: "四年级学生为独生子女情况"
          data:
            digits: 0
            filter:
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_one_child_st        
            aes:
              - 
                arg: "x"
                var: "alias"
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
              -
                arg: "Group"
                var: "alias"
            alias:
              arg: "alias"
              var: *scope                
            order:
              -
                var: "fill"
                list:
                  - "是"
                  - "不是"
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            position: "stack" 
            coord: "flip"
            text:
              vjust: 0.5
            legend: *plot_legend_right
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "百分数（%）"

        book.bar: 
          fig.name: "四年级学生家里的图书量"
          data:
            digits: 0
            filter:
              -
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_books        
            aes:
              - 
                arg: "x"
                var: "alias"
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
              -
                arg: "Group"
                var: "alias"
            alias:
              arg: "alias"
              var: *scope                
            order:
              -
                var: "fill"
                list:
                  - "20本以下"
                  - "21-50本之间"
                  - "51-100本之间"
                  - "101-200本之间"
                  - "200本以上"
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            position: "stack" 
            coord: "flip"
            text:
              vjust: 0.5
            legend: *plot_legend_right
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "百分数（%）"

        car.bar: 
          fig.name: "四年级学生家庭汽车拥有量"
          data:
            digits: 0
            filter:
              -
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_cars        
            aes:
              - 
                arg: "x"
                var: "alias"
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
              -
                arg: "Group"
                var: "alias"
            alias:
              arg: "alias"
              var: *scope                
            order:
              -
                var: "fill"
                list:
                  - "没有"
                  - "有，1辆"
                  - "有，2辆"
                  - "有，2辆以上"
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            position: "stack" 
            coord: "flip"
            text:
              vjust: 0.5
            legend: *plot_legend_right
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "百分数（%）"

        trip.bar: 
          fig.name: "四年级学生出境旅游的总体情况"
          data:
            digits: 0
            filter:
              -
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_oversea_trip        
            aes:
              - 
                arg: "x"
                var: "alias"
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
              -
                arg: "Group"
                var: "alias"
            alias:
              arg: "alias"
              var: *scope                
            order:
              -
                var: "fill"
                list:
                  - "目前还没有去过"
                  - "1次"
                  - "2次"
                  - "3次"
                  - "4次及以上"
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            position: "stack" 
            coord: "flip"
            text:
              vjust: 0.5
            legend: *plot_legend_right
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "百分数（%）"

        father_edu.bar: 
          fig.name: "四年级学生父亲的受教育情况"
          data:
            digits: 0
            filter:
              -
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_father_edu        
            aes:
              - 
                arg: "x"
                var: "alias"
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
              -
                arg: "Group"
                var: "alias"
            alias:
              arg: "alias"
              var: *scope                
            order:
              -
                var: "fill"
                list:
                  - "初中及以下"
                  - "高中(职高、中专)"
                  - "大专"
                  - "本科"
                  - "研究生"
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            position: "stack" 
            coord: "flip"
            text:
              vjust: 0.5
            legend: *plot_legend_right
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "百分数（%）"

        mother_edu.bar: 
          fig.name: "四年级学生母亲的受教育情况"
          data:
            digits: 0
            filter:
              -
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_mother_edu        
            aes:
              - 
                arg: "x"
                var: "alias"
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
              -
                arg: "Group"
                var: "alias"
            alias:
              arg: "alias"
              var: *scope                
            order:
              -
                var: "fill"
                list:
                  - "初中及以下"
                  - "高中(职高、中专)"
                  - "大专"
                  - "本科"
                  - "研究生"
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            position: "stack" 
            coord: "flip"
            text:
              vjust: 0.5
            legend: *plot_legend_right
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "百分数（%）"

        sleep.bar: 
          fig.name: "四年级学生平时上学时每天的睡眠时间"
          data:
            digits: 0
            filter:
              -
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_sleep_weekend        
            aes:
              - 
                arg: "x"
                var: "alias"
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
              -
                arg: "Group"
                var: "alias"
            alias:
              arg: "alias"
              var: *scope                
            order:
              -
                var: "fill"
                list:
                  - "少于7小时"
                  - "7-8小时(含7小时)"
                  - "8-9小时(含8小时)"
                  - "9-10小时(含9小时)"
                  - "10小时及以上"
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            position: "stack" 
            coord: "flip"
            text:
              vjust: 0.5
            legend: *plot_legend_right
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "百分数（%）"

        sleep_weekend.bar: 
          fig.name: "四年级学生放假时每天的睡眠时间"
          data:
            digits: 0
            filter:
              -
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_sleep_weekend        
            aes:
              - 
                arg: "x"
                var: "alias"
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
              -
                arg: "Group"
                var: "alias"
            alias:
              arg: "alias"
              var: *scope                
            order:
              -
                var: "fill"
                list:
                  - "少于7小时"
                  - "7-8小时(含7小时)"
                  - "8-9小时(含8小时)"
                  - "9-10小时(含9小时)"
                  - "10小时及以上"
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            position: "stack" 
            coord: "flip"
            text:
              vjust: 0.5
            legend: *plot_legend_right
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "百分数（%）"

        sleep_enough.bar: 
          fig.name: "四年级学生对自己睡眠时间是否充足的看法"
          data:
            digits: 0
            filter:
              -
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_sleep_enough        
            aes:
              - 
                arg: "x"
                var: "alias"
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
              -
                arg: "Group"
                var: "alias"
            alias:
              arg: "alias"
              var: *scope                
            order:
              -
                var: "fill"
                list:
                  - "非常不充足"
                  - "比较不充足"
                  - "比较充足"
                  - "非常充足"
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            position: "stack" 
            coord: "flip"
            text:
              vjust: 0.5
            legend: *plot_legend_right
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "百分数（%）"

        sleep_not_enough.bar: 
          fig.name: "四年级学生睡眠不充足的原因"
          data:
            digits: 0
            filter:
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_sleep_not_enough

            alias:
              arg: "alias"
              var: *scope

            aes:
              - 
                arg: "x"
                var: *key
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: "alias"
              -  
                arg: "label"
                var: *label
            sort:
              -
                var: "x"
                variable: *tier
                option: *tier_county
                value: *value
                asc_desc: "ASC"
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            position: "dodge" 
            legend: *plot_legend_right
            coord: "flip"
            text:
              hjust: 0.5
            bar:
              width: *plot_bar_width_fat
            label:
              xlab: ""
              ylab: "百分数（%）"

        writing_homework_hours.bar: 
          fig.name: "四年级学生每天书面作业的时间"
          data:
            digits: 0
            filter:
              -
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_writing_homework_hours        
            aes:
              - 
                arg: "x"
                var: "alias"
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
              -
                arg: "Group"
                var: "alias"
            alias:
              arg: "alias"
              var: *scope                
            order:
              -
                var: "fill"
                list:
                  - "1小时以内"
                  - "1-2小时（含1小时）"
                  - "2-3小时（含2小时）"
                  - "3-4小时（含3小时）"
                  - "4小时及以上"
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            position: "stack" 
            coord: "flip"
            text:
              vjust: 0.5
            legend: *plot_legend_right
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "百分数（%）"

        writing_homework_difficulty.bar: 
          fig.name: "四年级学生作业的难易程度"
          data:
            digits: 0
            filter:
              -
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_writing_homework_difficulty       
            aes:
              - 
                arg: "x"
                var: "alias"
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
              -
                arg: "Group"
                var: "alias"
            alias:
              arg: "alias"
              var: *scope                
            order:
              -
                var: "fill"
                list:
                  - "非常容易"
                  - "比较容易"
                  - "难易适中"
                  - "比较难"
                  - "非常难"
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            position: "stack" 
            coord: "flip"
            text:
              vjust: 0.5
            legend: *plot_legend_right
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "百分数（%）"

        extra_homework_yes.bar: 
          fig.name: "四年级学生参加与考试科目相关的家教补习或课外辅导比例"
          data:
            digits: 0
            filter:
              -
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_extra_homework_yes       
            aes:
              - 
                arg: "x"
                var: "alias"
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: "alias"
              -  
                arg: "label"
                var: *label
              -
                arg: "Group"
                var: "alias"
            alias:
              arg: "alias"
              var: *scope                
            order:
              #-
              #  var: "fill"
              #  list:
              #    - "没有"
              #    - "1-4本"
              #    - "5-8本"
              #    - "9-12本"
              #    - "13本及以上"
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            #group:
            #  variable: "alias"
            #  scales: "fixed"
            #  position: "bottom"            
            position: "stack" 
            coord: "flip"
            text:
              vjust: 0.5
            legend: *plot_legend_right
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "百分数（%）"

        extra_homework_subject.bar: 
          fig.name: "四年级学生参加与考试科目相关的家教补习或课外辅导情况"
          data:
            digits: 0
            filter:
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_extra_homework_subject

            alias:
              arg: "alias"
              var: *scope

            aes:
              - 
                arg: "x"
                var: *key
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: "alias"
              -  
                arg: "label"
                var: *label
            sort:
              -
                var: "x"
                variable: *tier
                option: *tier_county
                value: *value
                asc_desc: "ASC"
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            position: "dodge" 
            legend: *plot_legend_right
            coord: "flip"
            text:
              hjust: 0.5
            bar:
              width: *plot_bar_width_fat
            label:
              xlab: ""
              ylab: "百分数（%）"

        extra_homework_hour.bar: 
          fig.name: "四年级学生参加与考试科目相关的家教补习、课外辅导时间"
          data:
            digits: 0
            filter:
              -
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_extra_homework_hour        
            aes:
              - 
                arg: "x"
                var: "alias"
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
              -
                arg: "Group"
                var: "alias"
            alias:
              arg: "alias"
              var: *scope                
            order:
              -
                var: "fill"
                list:
                  - "2小时以下"
                  - "2-4小时（含2小时）"
                  - "4-6小时（含4小时）"
                  - "6-8小时（含6小时）"
                  - "8小时及以上"
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            #group:
            #  variable: "alias"
            #  scales: "fixed"
            #  position: "bottom"            
            position: "stack" 
            coord: "flip"
            text:
              vjust: 0.5
            legend: *plot_legend_right
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "百分数（%）"

        extra_homework_reason.bar: 
          fig.name: "四年级学生参加与考试科目相关的家教补习、课外辅导的主要原因"
          data:
            digits: 0
            filter:
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_extra_homework_reason

            alias:
              arg: "alias"
              var: *scope

            aes:
              - 
                arg: "x"
                var: *key
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: "alias"
              -  
                arg: "label"
                var: *label
            sort:
              -
                var: "x"
                variable: *tier
                option: *tier_county
                value: *value
                asc_desc: "ASC"
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            position: "dodge" 
            legend: *plot_legend_right
            coord: "flip"
            text:
              hjust: 0.5
            bar:
              width: *plot_bar_width_fat
            label:
              xlab: ""
              ylab: "百分数（%）"

        extra_interesting_yes.bar: 
          fig.name: "四年级学生参加校外兴趣班的比例"
          data:
            digits: 0
            filter:
              -
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_extra_interesting_yes        
            aes:
              - 
                arg: "x"
                var: "alias"
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: "alias"
              -  
                arg: "label"
                var: *label
              -
                arg: "Group"
                var: "alias"
            alias:
              arg: "alias"
              var: *scope                
            order:
              #-
              #  var: "fill"
              #  list:
              #    - "没有"
              #    - "1-4本"
              #    - "5-8本"
              #    - "9-12本"
              #    - "13本及以上"
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            #group:
            #  variable: "alias"
            #  scales: "fixed"
            #  position: "bottom"            
            position: "stack" 
            coord: "flip"
            text:
              vjust: 0.5
            legend: *plot_legend_right
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "百分数（%）"

        extra_interesting_subject.bar: 
          fig.name: "四年级学生参加校外兴趣班的种类"
          data:
            digits: 0
            filter:
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_extra_interesting_subject

            alias:
              arg: "alias"
              var: *scope

            aes:
              - 
                arg: "x"
                var: *key
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: "alias"
              -  
                arg: "label"
                var: *label
            sort:
              -
                var: "x"
                variable: *tier
                option: *tier_county
                value: *value
                asc_desc: "ASC"
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            position: "dodge" 
            legend: *plot_legend_right
            coord: "flip"
            text:
              hjust: 0.5
            bar:
              width: *plot_bar_width_fat
            label:
              xlab: ""
              ylab: "百分数（%）"

        extra_interesting_hour.bar: 
          fig.name: "四年级学生参加校外兴趣班的时间"
          data:
            digits: 0
            filter:
              -
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_extra_interesting_hour        
            aes:
              - 
                arg: "x"
                var: "alias"
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
              -
                arg: "Group"
                var: "alias"
            alias:
              arg: "alias"
              var: *scope                
            order:
              #-
              #  var: "fill"
              #  list:
              #    - "没有"
              #    - "1-4本"
              #    - "5-8本"
              #    - "9-12本"
              #    - "13本及以上"
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            #group:
            #  variable: "alias"
            #  scales: "fixed"
            #  position: "bottom"            
            position: "stack" 
            coord: "flip"
            text:
              vjust: 0.5
            legend: *plot_legend_right
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "百分数（%）"

        extra_interesting_reason.bar: 
          fig.name: "四年级学生参加校外兴趣班的主要原因"
          data:
            digits: 0
            filter:
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_extra_interesting_reason

            alias:
              arg: "alias"
              var: *scope

            aes:
              - 
                arg: "x"
                var: *key
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: "alias"
              -  
                arg: "label"
                var: *label
            sort:
              -
                var: "x"
                variable: *tier
                option: *tier_county
                value: *value
                asc_desc: "ASC"
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            position: "dodge" 
            legend: *plot_legend_right
            coord: "flip"
            text:
              hjust: 0.5
            bar:
              width: *plot_bar_width_fat
            label:
              xlab: ""
              ylab: "百分数（%）"

        month_test.bar: 
          fig.name: "四年级学生每个月参加考试和测验频率"
          data:
            digits: 0
            filter:
              -
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_month_test         
            aes:
              - 
                arg: "x"
                var: "alias"
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
              -
                arg: "Group"
                var: "alias"
            alias:
              arg: "alias"
              var: *scope                
            order:
              #-
              #  var: "fill"
              #  list:
              #    - "没有"
              #    - "1-4本"
              #    - "5-8本"
              #    - "9-12本"
              #    - "13本及以上"
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            #group:
            #  variable: "alias"
            #  scales: "fixed"
            #  position: "bottom"            
            position: "stack" 
            coord: "flip"
            text:
              vjust: 0.5
            legend: *plot_legend_right
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "百分数（%）"

        year_reading.bar: 
          fig.name: "四年级学生过去一年内阅读课外读物的数量"
          data:
            digits: 0
            filter:
              -
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_year_reading         
            aes:
              - 
                arg: "x"
                var: "alias"
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
              -
                arg: "Group"
                var: "alias"
            alias:
              arg: "alias"
              var: *scope                
            order:
              -
                var: "fill"
                list:
                  - "没有"
                  - "1-4本"
                  - "5-8本"
                  - "9-12本"
                  - "13本及以上"
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            #group:
            #  variable: "alias"
            #  scales: "fixed"
            #  position: "bottom"            
            position: "stack" 
            coord: "flip"
            text:
              vjust: 0.5
            legend: *plot_legend_right
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "百分数（%）"

        daily_sport_hour.bar: 
          fig.name: "四年级学生每天放学回家后的运动时间"
          data:
            digits: 0
            filter:
              -
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_daily_sport_hour

              
            aes:
              - 
                arg: "x"
                var: "alias"
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
              -
                arg: "Group"
                var: "alias"
            alias:
              arg: "alias"
              var: *scope                
            #order:
            #  -
            #    var: "fill"
            #    list: *
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            #group:
            #  variable: "alias"
            #  scales: "fixed"
            #  position: "bottom"            
            position: "stack" 
            coord: "flip"
            text:
              vjust: 0.5
            legend: *plot_legend_right
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "百分数（%）"

        teacher_fair.bar: 
          fig.name: "四年级学生对教师是否公平、平等的对待学生的评价"
          data:
            digits: 0
            filter:
              -
                - 
                  variable: *dimention
                  value: *dim_st_fair
              
            aes:
              - 
                arg: "x"
                var: *topic
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
              -
                arg: "Group"
                var: "alias"
            alias:
              arg: "alias"
              var: *scope                
            order:
              -
                var: "fill"
                list: *legend_order_aggree
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            group:
              variable: "alias"
              scales: "fixed"
              position: "bottom"            
            position: "stack" 
            coord: "flip"
            text:
              vjust: 0.5
            legend: *plot_legend_right
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "百分数（%）"

        teacher_respect.bar: 
          fig.name: "四年级学生对教师是否尊重学生的评价"
          data:
            digits: 0
            filter:
              -
                - 
                  variable: *dimention
                  value: *dim_st_respect
              
            aes:
              - 
                arg: "x"
                var: *topic
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
              -
                arg: "Group"
                var: "alias"
            alias:
              arg: "alias"
              var: *scope
            order:
              -
                var: "fill"
                list: *legend_order_aggree
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            group:
              variable: "alias"
              scales: "fixed"
              position: "bottom"
            position: "stack" 
            coord: "flip"
            text:
              vjust: 0.5
            legend: *plot_legend_right
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "百分数（%）"

        teacher_trust.bar: 
          fig.name: "四年级学生对教师是否信任学生的评价"
          data:
            digits: 0
            filter:
              -
                - 
                  variable: *dimention
                  value: *dim_st_trust
              
            aes:
              - 
                arg: "x"
                var: *topic
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
              -
                arg: "Group"
                var: "alias"
            alias:
              arg: "alias"
              var: *scope

            order:
              -
                var: "fill"
                list: *legend_order_aggree

          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            group:
              variable: "alias"
              scales: "fixed"
              position: "bottom"

            position: "stack" 
            coord: "flip"
            text:
              vjust: 0.5
            legend: *plot_legend_right
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "百分数（%）"

        learning_pressure.bar: 
          fig.name: "四年级学生对学习压力相关问题的看法"
          data:
            digits: 0
            filter:
              -
                - 
                  variable: *dimention
                  value: *dim_st_pressure
                - variable: *variable
                  value: "staa048"
              -
                - 
                  variable: *dimention
                  value: *dim_st_pressure
                - variable: *variable
                  value: "staa049"
              -
                - 
                  variable: *dimention
                  value: *dim_st_pressure
                - variable: *variable
                  value: "staa050"
              -
                - 
                  variable: *dimention
                  value: *dim_st_pressure
                - variable: *variable
                  value: "staa051"
              -
                - 
                  variable: *dimention
                  value: *dim_st_pressure
                - variable: *variable
                  value: "staa052"
            aes:
              - 
                arg: "x"
                var: *topic
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
              -
                arg: "Group"
                var: "alias"
            alias:
              arg: "alias"
              var: *scope

            order:
              -
                var: "fill"
                list: *legend_order_aggree

          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            group:
              variable: "alias"
              scales: "fixed"
              position: "bottom"
            position: "stack" 
            coord: "flip"
            text:
              vjust: 0.5
            legend: *plot_legend_right
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "百分数（%）"

        learning_motivation.bar: 
          fig.name: "四年级学生对学习动机相关问题的看法"
          data:
            digits: 0
            filter:
              -
                - 
                  variable: *dimention
                  value: *dim_st_motivation
                -
                  variable: *variable
                  value: "staa040"
              -
                - 
                  variable: *dimention
                  value: *dim_st_motivation
                -
                  variable: *variable
                  value: "staa041"
              -
                - 
                  variable: *dimention
                  value: *dim_st_motivation
                -
                  variable: *variable
                  value: "staa042"
              -
                - 
                  variable: *dimention
                  value: *dim_st_motivation
                -
                  variable: *variable
                  value: "staa043"
              -
                - 
                  variable: *dimention
                  value: *dim_st_motivation
                -
                  variable: *variable
                  value: "staa044"
              -
                - 
                  variable: *dimention
                  value: *dim_st_motivation
                -
                  variable: *variable
                  value: "staa045"
              -
                - 
                  variable: *dimention
                  value: *dim_st_motivation
                -
                  variable: *variable
                  value: "staa046"
              -
                - 
                  variable: *dimention
                  value: *dim_st_motivation
                -
                  variable: *variable
                  value: "staa047"

            aes:
              - 
                arg: "x"
                var: *topic
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
              -
                arg: "Group"
                var: "alias"
            alias:
              arg: "alias"
              var: *scope
            order:
              -
                var: "fill"
                list: *legend_order_aggree
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            group:
              variable: "alias"
              scales: "fixed"
              position: "bottom"
            position: "stack" 
            coord: "flip"
            text:
              vjust: 0.5
            legend: *plot_legend_right
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "百分数（%）"

        school_identity.bar: 
          fig.name: "四年级学生对学校认同度相关问题的看法"
          data:
            digits: *plot_data_digits
            filter:
              -
                - 
                  variable: *dimention
                  value: *dim_st_identity
                -
                  variable: *variable
                  value: "staa017"
              -
                - 
                  variable: *dimention
                  value: *dim_st_identity
                -
                  variable: *variable
                  value: "staa023"
              -
                - 
                  variable: *dimention
                  value: *dim_st_identity
                -
                  variable: *variable
                  value: "staa024"
              -
                - 
                  variable: *dimention
                  value: *dim_st_identity
                -
                  variable: *variable
                  value: "staa025"
              -
                - 
                  variable: *dimention
                  value: *dim_st_identity
                -
                  variable: *variable
                  value: "staa026"
              -
                - 
                  variable: *dimention
                  value: *dim_st_identity
                -
                  variable: *variable
                  value: "staa027"

            aes:
              - 
                arg: "x"
                var: *topic
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
              -
                arg: "Group"
                var: "alias"
            alias:
              arg: "alias"
              var: *scope
            order:
              -
                var: "fill"
                list: *legend_order_aggree

          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            group:
              variable: "alias"
              scales: "fixed"
              position: "bottom"
            position: "stack" 
            coord: "flip"
            text:
              vjust: 0.5
            legend: *plot_legend_right
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "百分数（%）"

        learning_confidence.bar: 
          fig.name: "四年级学生对学习自信心相关问题的看法"
          data:
            digits: *plot_data_digits
            filter:
              -
                - 
                  variable: *dimention
                  value: *dim_st_confidence
                -
                  variable: *variable
                  value: "staa028"
              -
                - 
                  variable: *dimention
                  value: *dim_st_confidence
                -
                  variable: *variable
                  value: "staa029"
              -
                - 
                  variable: *dimention
                  value: *dim_st_confidence
                -
                  variable: *variable
                  value: "staa030"
              -
                - 
                  variable: *dimention
                  value: *dim_st_confidence
                -
                  variable: *variable
                  value: "staa031"
              -
                - 
                  variable: *dimention
                  value: *dim_st_confidence
                -
                  variable: *variable
                  value: "staa032"
              -
                - 
                  variable: *dimention
                  value: *dim_st_confidence
                -
                  variable: *variable
                  value: "staa033"

            aes:
              - 
                arg: "x"
                var: *topic
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
              -
                arg: "Group"
                var: "alias"
            alias:
              arg: "alias"
              var: *scope
            order:
              -
                var: "fill"
                list: *legend_order_aggree

          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            group:
              variable: "alias"
              scales: "fixed"
              position: "bottom"
            position: "stack" 
            coord: "flip"
            text:
              vjust: 0.5
            legend: *plot_legend_right
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "百分数（%）"

        learning_method.bar: 
          fig.name: "四年级学生对自己某些学习方法的评价"
          data:
            digits: *plot_data_digits
            filter:
              -
                - 
                  variable: *dimention
                  value: *dim_st_method

            aes:
              - 
                arg: "x"
                var: *topic
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
              -
                arg: "Group"
                var: "alias"
            alias:
              arg: "alias"
              var: *scope

            order:
              -
                var: "fill"
                list: *legend_order_match
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            group:
              variable: "alias"
              scales: "fixed"
              position: "bottom"
            position: "stack" 
            coord: "flip"
            text:
              vjust: 0.5
            legend: *plot_legend_right
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "百分数（%）"

        teaching_yincaishijiao.bar: 
          fig.name: "四年级学生对教师教学方式的评价——因材施教"
          data:
            digits: *plot_data_digits
            filter:
              -
                - 
                  variable: *dimention
                  value: *dim_st_yincaishijiao

            aes:
              - 
                arg: "x"
                var: *topic
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
              -
                arg: "Group"
                var: "alias"
            alias:
              arg: "alias"
              var: *scope
            order:
              -
                var: "fill"
                list: *legend_order_frequency
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            group:
              variable: "alias"
              scales: "fixed"
              position: "bottom"
            position: "stack" 
            coord: "flip"
            text:
              vjust: 0.5
            legend: *plot_legend_right
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "百分数（%）"

        teaching_hudongjiaoxue.bar: 
          fig.name: "四年级学生对教师教学方式的评价——互动教学"
          data:
            digits: *plot_data_digits
            filter:
              -
                - 
                  variable: *dimention
                  value: *dim_st_hudongjiaoxue

            aes:
              - 
                arg: "x"
                var: *topic
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
              -
                arg: "Group"
                var: "alias"
            alias:
              arg: "alias"
              var: *scope
            order:
              -
                var: "fill"
                list: *legend_order_frequency
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            group:
              variable: "alias"
              scales: "fixed"
              position: "bottom"

            position: "stack" 
            coord: "flip"
            text:
              vjust: 0.5
            legend: *plot_legend_right
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "百分数（%）"

        teaching_gulitanjiu.bar: 
          fig.name: "四年级学生对教师教学方式的评价——鼓励学生探究与发展"
          data:
            digits: *plot_data_digits
            filter:
              -
                - 
                  variable: *dimention
                  value: *dim_st_gulitanjiu

            aes:
              - 
                arg: "x"
                var: *topic
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
              -
                arg: "Group"
                var: "alias"
            alias:
              arg: "alias"
              var: *scope
            order:
              -
                var: "fill"
                list: *legend_order_frequency
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            group:
              variable: "alias"
              scales: "fixed"
              position: "bottom"
            position: "stack" 
            coord: "flip"
            text:
              vjust: 0.5
            legend: *plot_legend_right
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "百分数（%）"

        morality_respect_others.bar: 
          fig.name: "四年级学生尊重他人行为的总体情况"
          data:
            digits: *plot_data_digits
            filter:
              -
                - 
                  variable: *dimention
                  value: *dim_st_respect_others

            aes:
              - 
                arg: "x"
                var: *topic
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
              -
                arg: "Group"
                var: "alias"
            alias:
              arg: "alias"
              var: *scope
            order:
              -
                var: "fill"
                list: *legend_order_people
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            group:
              variable: "alias"
              scales: "fixed"
              position: "bottom"
            position: "stack" 
            coord: "flip"
            text:
              vjust: 0.5
            legend: *plot_legend_right
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "百分数（%）"

        morality_integrity.bar: 
          fig.name: "四年级学生遇到各种诚信问题时的行为表现情况"
          data:
            digits: *plot_data_digits
            filter:
              -
                - 
                  variable: *dimention
                  value: *dim_st_integrity

            aes:
              - 
                arg: "x"
                var: *topic
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
              -
                arg: "Group"
                var: "alias"
            alias:
              arg: "alias"
              var: *scope

            order:
              -
                var: "fill"
                list: *legend_order_people
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            group:
              variable: "alias"
              scales: "fixed"
              position: "bottom"
            position: "stack" 
            coord: "flip"
            text:
              vjust: 0.5
            legend: *plot_legend_right
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "百分数（%）"

        morality_responsibility.bar: 
          fig.name: "四年级学生关于社会责任感方面问题的表现情况"
          data:
            digits: *plot_data_digits
            filter:
              -
                - 
                  variable: *dimention
                  value: *dim_st_responsibility

            aes:
              - 
                arg: "x"
                var: *topic
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
              -
                arg: "Group"
                var: "alias"
            alias:
              arg: "alias"
              var: *scope
            order:
              -
                var: "fill"
                list: *legend_order_people
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            group:
              variable: "alias"
              scales: "fixed"
              position: "bottom"
            position: "stack" 
            coord: "flip"
            text:
              vjust: 0.5
            legend: *plot_legend_right
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "百分数（%）"

        psychological_renjimangan.bar: 
          fig.name: "四年级学生对人际敏感性相关问题的看法"
          data:
            digits: *plot_data_digits
            filter:
              -
                - 
                  variable: *dimention
                  value: *dim_st_renjimingan

            aes:
              - 
                arg: "x"
                var: *topic
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
              -
                arg: "Group"
                var: "alias"
            alias:
              arg: "alias"
              var: *scope
            order:
              -
                var: "fill"
                list: *legend_order_aggree
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            group:
              variable: "alias"
              scales: "fixed"
              position: "bottom"
            position: "stack" 
            coord: "flip"
            text:
              vjust: 0.5
            legend: *plot_legend_right
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "百分数（%）"

        psychological_renjiguanxi.bar: 
          fig.name: "四年级学生对人际关系相关问题的看法"
          data:
            digits: *plot_data_digits
            filter:
              -
                - 
                  variable: *dimention
                  value: *dim_st_renjiguanxi

            aes:
              - 
                arg: "x"
                var: *topic
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
              -
                arg: "Group"
                var: "alias"
            alias:
              arg: "alias"
              var: *scope

            order:
              -
                var: "fill"
                list: *legend_order_aggree
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            group:
              variable: "alias"
              scales: "fixed"
              position: "bottom"
            position: "stack" 
            coord: "flip"
            text:
              vjust: 0.5
            legend: *plot_legend_right
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "百分数（%）"

        psychological_self_respect.bar: 
          fig.name: "四年级学生对自尊相关问题的看法"
          data:
            digits: *plot_data_digits
            filter:
              -
                - 
                  variable: *dimention
                  value: *dim_st_self_respect

            aes:
              - 
                arg: "x"
                var: *topic
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
              -
                arg: "Group"
                var: "alias"
            alias:
              arg: "alias"
              var: *scope
            order:
              -
                var: "fill"
                list: *legend_order_aggree
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            group:
              variable: "alias"
              scales: "fixed"
              position: "bottom"
            position: "stack" 
            coord: "flip"
            text:
              vjust: 0.5
            legend: *plot_legend_right
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "百分数（%）"


        family_structure.bar: 
          fig.name: "学生的家庭结构情况"
          data:
            digits: 0
            filter:
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_family_structure
            aes:
              - 
                arg: "x"
                var: "alias"
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
              -
                arg: "Group"
                var: "alias"
            alias:
              arg: "alias"
              var: *scope                
            order:
              -
                var: "fill"
                list: 
                  - "扩大家庭"
                  - "主干家庭"
                  - "核心家庭"   
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            position: "stack" 
            coord: "flip"
            text:
              vjust: 0.5
            legend: *plot_legend_right
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "百分数（%）"

        query_about_school.bar: 
          fig.name: "家长主动询问孩子在校发生情况"
          data:
            digits: 0
            filter:
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_query_about_school
            aes:
              - 
                arg: "x"
                var: "alias"
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
              -
                arg: "Group"
                var: "alias"
            alias:
              arg: "alias"
              var: *scope                
            order:
              -
                var: "fill"
                list: *legend_order_frequency   
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            position: "stack" 
            coord: "flip"
            text:
              vjust: 0.5
            legend: *plot_legend_right
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "百分数（%）"

        family_discuss.bar: 
          fig.name: "给出了家长认为孩子参与家庭事务讨论的情况"
          data:
            digits: 0
            filter:
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_family_discuss
            aes:
              - 
                arg: "x"
                var: "alias"
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
              -
                arg: "Group"
                var: "alias"
            alias:
              arg: "alias"
              var: *scope                
            order:
              -
                var: "fill"
                list: *legend_order_frequency  
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            position: "stack" 
            coord: "flip"
            text:
              vjust: 0.5
            legend: *plot_legend_right
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "百分数（%）"

        family_work.bar: 
          fig.name: "家长认为孩子平均每天在家做家务情况"
          data:
            digits: 0
            filter:
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_family_work
            aes:
              - 
                arg: "x"
                var: "alias"
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
              -
                arg: "Group"
                var: "alias"
            alias:
              arg: "alias"
              var: *scope                
            order:
              -
                var: "fill"
                list: 
                  - "几乎不用做"
                  - "10分钟以内"
                  - "11-30分钟"
                  - "31-60分钟"
                  - "61分钟及以上"  
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            position: "stack" 
            coord: "flip"
            text:
              vjust: 0.5
            legend: *plot_legend_right
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "百分数（%）"

        parent_accompany.bar: 
          fig.name: "家长每周陪孩子共同活动的情况"
          data:
            digits: 0
            filter:
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_parent_accompany
            aes:
              - 
                arg: "x"
                var: "alias"
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
              -
                arg: "Group"
                var: "alias"
            alias:
              arg: "alias"
              var: *scope                
            order:
              -
                var: "fill"
                list:
                  - "3小时以内"
                  - "3-6小时（含3小时）"
                  - "6-9小时（含6小时）"
                  - "9-12小时（含9小时）"
                  - "12小时及以上" 
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            position: "stack" 
            coord: "flip"
            text:
              vjust: 0.5
            legend: *plot_legend_right
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "百分数（%）"

        quarrel_frequency.bar: 
          fig.name: "家长与孩子吵架频率的总体情况"
          data:
            digits: 0
            filter:
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_quarrel_frequency
            aes:
              - 
                arg: "x"
                var: "alias"
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
              -
                arg: "Group"
                var: "alias"
            alias:
              arg: "alias"
              var: *scope                
            order:
              -
                var: "fill"
                list: 
                  - "几乎不吵架或从不吵架"
                  - "偶尔（大约一个月一次或更少）"
                  - "大约每周吵架一次"
                  - "每天吵架"
                  - "一天吵架好几次"  
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            position: "stack" 
            coord: "flip"
            text:
              vjust: 0.5
            legend: *plot_legend_right
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "百分数（%）"

        quarrel_level.bar: 
          fig.name: "家长与孩子吵架程度的总体情况"
          data:
            digits: 0
            filter:
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_quarrel_level  
            aes:
              - 
                arg: "x"
                var: "alias"
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
              -
                arg: "Group"
                var: "alias"
            alias:
              arg: "alias"
              var: *scope                
            order:
              -
                var: "fill"
                list:
                  - "如果有的话，也是很轻微"
                  - "有时（不到半数）会吵得很厉害"
                  - "大约有一半的情况会吵得很厉害"
                  - "差不多都吵得很厉害"
                  - "总是吵得很厉害"  
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            position: "stack" 
            coord: "flip"
            text:
              vjust: 0.5
            legend: *plot_legend_right
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "百分数（%）"
  
        family_coach.bar: 
          fig.name: "家长辅导有关问题的总体情况"
          data:
            digits: 0
            filter:
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *dimention
                  value: *dim_pa_coach

            aes:
              - 
                arg: "x"
                var: *topic
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
              -
                arg: "Group"
                var: "alias"
            alias:
              arg: "alias"
              var: *scope             
            order:
              - 
                var: "fill"
                list: *legend_order_aggree
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            group:
              variable: "alias"
              scales: "fixed"
              position: "bottom"
            position: "stack" 
            coord: "flip"
            text:
              vjust: 0.5
            legend: *plot_legend_right
            bar:
              width: *plot_bar_width_thin
            label:
              xlab: ""
              ylab: "百分数（%）"

        family_coach_person.bar: 
          fig.name: "家里负责孩子学习的人的总体情况"
          data:
            digits: 0
            filter:
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *dimention
                  value: *dim_pa_coach_person   
            aes:
              - 
                arg: "x"
                var: "alias"
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
              -
                arg: "Group"
                var: "alias"
            alias:
              arg: "alias"
              var: *scope                
            order:
              -
                var: "fill"
                list:
                  - "其他"
                  - "（外）祖父母"
                  - "家庭教师"
                  - "父母分工"
                  - "母亲"
                  - "父亲"  
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            position: "stack" 
            coord: "flip"
            text:
              vjust: 0.5
            legend: *plot_legend_right
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "百分数（%）"
 
        parent_feeling.bar: 
          fig.name: "家长对学校教育感受的情况"
          data:
            digits: 0
            filter:
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *dimention
                  value: *dim_pa_feelings

            aes:
              - 
                arg: "x"
                var: *topic
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
              -
                arg: "Group"
                var: "alias"
            alias:
              arg: "alias"
              var: *scope
            order:
              -
                var: "fill"
                list: *legend_order_match
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            group:
              variable: "alias"
              scales: "fixed"
              position: "bottom"
            position: "stack" 
            coord: "flip"
            text:
              vjust: 0.5
            legend: *plot_legend_right
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "百分数（%）"

        parent_expection.bar: 
          fig.name: "家长在教育期望方面的总体情况"
          data:
            digits: 0
            filter:
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: "您期待孩子将来上学上到什么程度"     
            aes:
              - 
                arg: "x"
                var: "alias"
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
              -
                arg: "Group"
                var: "alias"
            alias:
              arg: "alias"
              var: *scope                
            order:
              -
                var: "fill"
                list:
                  - "高中（含职业中专）"
                  - "大学专科"
                  - "大学本科"
                  - "硕士"
                  - "博士"
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            position: "stack" 
            coord: "flip"
            text:
              vjust: 0.5
            legend: *plot_legend_right
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "百分数（%）"
          
        parent_philosophy.bar: 
          fig.name: "家长教育观的总体情况"
          data:
            digits: 0
            filter:
              -
                -
                  variable: *subject
                  value: *survey_pa
                - 
                  variable: *dimention
                  value: *dim_pa_philosophy

            aes:
              - 
                arg: "x"
                var: *topic
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
              -
                arg: "Group"
                var: "alias"
            alias:
              arg: "alias"
              var: *scope
            order:
              -
                var: "fill"
                list: *legend_order_aggree

          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            group:
              variable: "alias"
              scales: "fixed"
              position: "bottom"
            position: "stack" 
            coord: "flip"
            text:
              vjust: 0.5
            legend: *plot_legend_right
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "百分数（%）"

        school_reasonable.bar: 
          fig.name: "家长心目中理想的小学，最重要的前三项特征"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *survey_pa
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_school_reasonable
            aes:
              - 
                arg: "x"
                var: *key
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
              -
                arg: "Group"
                var: "alias"
            alias:
              arg: "alias"
              var: *scope
            sort:
              -
                var: "x"
                variable: *tier
                option: *tier_county
                value: *value
                asc_desc: "ASC"
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            group:
              variable: "alias"
              scales: "fixed"
              position: "bottom"
            position: "dodge" 
            text:
              vjust: 0.5
            coord: "flip"
            bar:
              width: *plot_bar_width_fat
            label:
              xlab: ""
              ylab: "百分数（%）"

        school.index.bar: 
          fig.name: "学校绿色指标指数"
          data:
            digits: 0
            filter:
              -
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *key
                  value: "指标"       
            aes:
              - 
                arg: "x"
                var: "alias"
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: "alias"
              -  
                arg: "label"
                var: *label
              -
                arg: "Group"
                var: "alias"
            alias:
              arg: "alias"
              var: *scope                
            order:
              #-
              #  var: "fill"
              #  list:
              #    - "没有"
              #    - "1-4本"
              #    - "5-8本"
              #    - "9-12本"
              #    - "13本及以上"
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_bar_dodging
            #group:
            #  variable: "alias"
            #  scales: "fixed"
            #  position: "bottom"            
            position: "stack" 
            coord: "flip"
            text:
              vjust: 0.5
            legend: *plot_legend_right
            bar:
              width: *plot_bar_width
            label:
              xlab: ""
              ylab: "指数"

        school.county.index.radar: 
          fig.name: "四年级各指标雷达分析图"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *subject_all
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_passed_rate
              -
                -
                  variable: *subject
                  value: *subject_all
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_high_level_thinking
              -
                -
                  variable: *subject
                  value: *subject_all
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_individual_balance
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_confidence
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_motivation
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_pressure
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_sleep
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_writing_homework
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_extra_homework
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_teacher
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *idx_teaching

            aes:
              - 
                arg: "x"
                var: *scope
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *tier
              -  
                arg: "label"
                var: *label

            #postkeep:
            #  -
            #    var: "x"
            #    value:
            #      - "本校"
            #      - "75区"

            #order: 
            #  -
            #    var: "x"
            #    list: *order_prov_coun
          ggplot:
            width: *plot_canvas_width
            height: *plot_canvas_height
            geom: *plot_radar 

      param:

        participant.count: 
          name: "学校参与人数统计"
          data:
            digits: 0
            filter:
              -
                - 
                  variable: *topic
                  value: *top_participant

        point.rate.table.cn: 
          name: "学生在语文学科上的平均得分率"
          data:
            digits: 1
            filter:
              -
                - 
                  variable: *subject
                  value: *subject_cn
                - 
                  variable: *topic
                  value: *top_point_rate

        answer.table.cn: 
          name: "学生在语文学科“积累”上的作答情况"
          data:
            digits: 1
            filter:
              -
                - 
                  variable: *subject
                  value: *subject_cn
                - 
                  variable: *topic
                  value: *top_answer

        writing.table.cn: 
          name: "学生在语文学科“习作”上的作答情况"
          data:
            digits: 1
            filter:
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *dimention
                  value: *dim_cn_writing

        point.rate.table.ma: 
          name: "学生在数学学科上的平均得分率"
          data:
            digits: 1
            filter:
              -
                - 
                  variable: *subject
                  value: *subject_ma
                - 
                  variable: *topic
                  value: *top_point_rate

        answer.table.ma: 
          name: "学生在数学学科上的作答情况"
          data:
            digits: 1
            filter:
              -
                - 
                  variable: *subject
                  value: *subject_ma
                - 
                  variable: *topic
                  value: *top_answer

        index.table: 
          name: "绿色指标"
          data:
            digits: 0
            filter:
              -
                - 
                  variable: *key
                  value: *key_index
                - 
                  variable: *perspective
                  value: *per_total
              


  
    -
      process: FALSE
      table: "统计指标汇总"
      markdown: "template_test.Rmd"

      year: "2016年度"
      tier: *tier_province
      project: "中小学学业质量"
      report: "绿色指标学科测试分析报告"
      subject: "测试模版"

      title: ""
      header: "" 

      dir_output: "province/"
      datetime: ""
      file: ""

      pre.render:
        - "pre.render.global.setting"
        - "pre.render.cover.page"
        - "pre.render.head.foot"
        - "pre.render.report.preface"
        - "pre.render.table.of.contents"
        - "pre.render.project.summary"
        - "pre.render.introduce.cn"
        - "pre.render.introduce.ma"
        - "pre.render.test"

      plot:
        bar.raw: 
          fig.name: "全体学生在题目C3AO011上的作答情况"
          data:
            digits: 1
            filter:
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *top_answer
            #keep:
                - 
                  variable: *variable
                  value: "C3AO011"
                #- 
                #  variable: *key
                #  value: "C"
            aes:
              - 
                arg: "x"
                var: *variable
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: *key
              -  
                arg: "label"
                var: *label
          ggplot:
            width: 10
            height: 1
            geom: "plot_bar_stacking.raw"  
            position: "stack" 
            coord: "flip"
            bar:
              width: 0.8


        history.bar:
          fig.name: "上海市四年级历年测试结果比较"
          data:
            digits: *plot_data_digits
            filter:
              -
                -
                  variable: *subject
                  value: *subject_all
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *coef_school_balance
                -
                  year: "year"
                  from: *assesment
              -
                -
                  variable: *subject
                  value: *subject_all
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *coef_passed_rate
                -
                  year: "year"
                  from: *assesment
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *coef_motivation
                -
                  year: "year"
                  from: *assesment
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *coef_pressure
                -
                  year: "year"
                  from: *assesment
              -
                -
                  variable: *subject
                  value: *subject_all
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *coef_high_level_thinking
                -
                  year: "year"
                  from: *assesment
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *coef_sleep
                -
                  year: "year"
                  from: *assesment
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *coef_writing_homework
                -
                  year: "year"
                  from: *assesment
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *coef_extra_homework
                -
                  year: "year"
                  from: *assesment
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *coef_teacher
                -
                  year: "year"
                  from: *assesment
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *coef_teaching
                -
                  year: "year"
                  from: *assesment
              -
                -
                  variable: *subject
                  value: *survey_te
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *coef_course_leadership
                -
                  year: "year"
                  from: *assesment
              -
                -
                  variable: *subject
                  value: *survey_st
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *perspective
                  value: *per_total
                - 
                  variable: *topic
                  value: *coef_economic
                -
                  year: "year"
                  from: *assesment
            aes:
              - 
                arg: "x"
                var: *topic
              -  
                arg: "y"
                var: *value
              - 
                arg: "fill"
                var: "year"
              -  
                arg: "label"
                var: *label
            order:
              - 
                var: "x"
                list:
                  - "成绩标准达成系数" 
                  - "高层次思维能力系数"
                  - "学业成绩学校间均衡系数"
                  - "学习动机系数"
                  - "学习压力系数"
                  - "睡眠系数"
                  - "作业系数"
                  - "补课系数"
                  - "师生关系系数"
                  - "教学方式系数"
                  - "课程领导力系数"
                  - "家庭背景影响系数"
            
          ggplot:
            width: 25
            height: 8
            geom: *plot_bar_dodging
            position: "dodge" 
            #text:
            #  vjust: 0.5
            bar:
              width: *plot_bar_width_fat
            legend: *plot_legend_right
            label:
              xlab: ""
              ylab: "百分数"
            axisx:
              text_angle: 90
              text_size: 14
            #axisy:
            #  discrete_limits: *axisy_discrete_limits_index
            #  ylim: *axisy_ylim

      
      param:

        jilei.point.rate.table.cn: 
          name: "学生在语文学科“积累”上的平均得分率"
          data:
            digits: 1
            filter:
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *dimention
                  value: *dim_cn_jilei
                - 
                  variable: *topic
                  value: *top_point_rate

        jilei.answer.table.cn: 
          name: "学生在语文学科“积累”上的作答情况"
          data:
            digits: 1
            filter:
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *dimention
                  value: *dim_cn_jilei
                - 
                  variable: *topic
                  value: *top_answer

        reading.point.rate.table.cn: 
          name: "学生在语文学科“阅读”上的平均得分率"
          data:
            digits: 1
            filter:
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *dimention
                  value: *dim_cn_reading
                - 
                  variable: *topic
                  value: *top_point_rate

        reading.answer.table.cn: 
          name: "学生在语文学科“阅读”上的作答情况"
          data:
            digits: 1
            filter:
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *dimention
                  value: *dim_cn_reading
                - 
                  variable: *topic
                  value: *top_answer

        writing.table.cn: 
          name: "学生在语文学科“习作”上的作答情况"
          data:
            digits: 1
            filter:
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *dimention
                  value: *dim_cn_writing

        writing.point.rate.table.cn: 
          name: "学生在语文学科“习作”上的平均得分率"
          data:
            digits: 1
            filter:
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *dimention
                  value: *dim_cn_writing
                - 
                  variable: *topic
                  value: *top_point_rate

        writing.answer.table.cn: 
          name: "学生在语文学科“习作”上的作答情况"
          data:
            digits: 1
            filter:
              -
                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *dimention
                  value: *dim_cn_writing
                - 
                  variable: *topic
                  value: *top_answer

        passed.rate.table.cn: 
          name: "学生在语文学科达到课程标准的基本要求的比例"
          data:
            digits: 1
            filter:
              -

                - 
                  variable: *subject
                  value: *subject_cn
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *dimention
                  value: *dim_cn_level
                - 
                  variable: *topic
                  value: *top_passed_rate

        passed.rate.table.ma: 
          name: "学生在数学学科达到课程标准的基本要求的比例"
          data:
            digits: 1
            filter:
              -

                - 
                  variable: *subject
                  value: *subject_ma
                -
                  variable: *tier
                  value: *tier_province
                -
                  variable: *dimention
                  value: *dim_cn_level
                - 
                  variable: *topic
                  value: *top_passed_rate





